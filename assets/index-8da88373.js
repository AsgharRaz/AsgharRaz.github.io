(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))u(l);new MutationObserver(l=>{for(const d of l)if(d.type==="childList")for(const y of d.addedNodes)y.tagName==="LINK"&&y.rel==="modulepreload"&&u(y)}).observe(document,{childList:!0,subtree:!0});function s(l){const d={};return l.integrity&&(d.integrity=l.integrity),l.referrerPolicy&&(d.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?d.credentials="include":l.crossOrigin==="anonymous"?d.credentials="omit":d.credentials="same-origin",d}function u(l){if(l.ep)return;l.ep=!0;const d=s(l);fetch(l.href,d)}})();const main$1="";function makeMap(i,t){const s=Object.create(null),u=i.split(",");for(let l=0;l<u.length;l++)s[u[l]]=!0;return t?l=>!!s[l.toLowerCase()]:l=>!!s[l]}const EMPTY_OBJ={},EMPTY_ARR=[],NOOP=()=>{},NO=()=>!1,onRE=/^on[^a-z]/,isOn=i=>onRE.test(i),isModelListener=i=>i.startsWith("onUpdate:"),extend=Object.assign,remove=(i,t)=>{const s=i.indexOf(t);s>-1&&i.splice(s,1)},hasOwnProperty$2=Object.prototype.hasOwnProperty,hasOwn=(i,t)=>hasOwnProperty$2.call(i,t),isArray=Array.isArray,isMap=i=>toTypeString(i)==="[object Map]",isSet=i=>toTypeString(i)==="[object Set]",isDate=i=>toTypeString(i)==="[object Date]",isFunction=i=>typeof i=="function",isString=i=>typeof i=="string",isSymbol$2=i=>typeof i=="symbol",isObject$3=i=>i!==null&&typeof i=="object",isPromise=i=>(isObject$3(i)||isFunction(i))&&isFunction(i.then)&&isFunction(i.catch),objectToString$2=Object.prototype.toString,toTypeString=i=>objectToString$2.call(i),toRawType=i=>toTypeString(i).slice(8,-1),isPlainObject=i=>toTypeString(i)==="[object Object]",isIntegerKey=i=>isString(i)&&i!=="NaN"&&i[0]!=="-"&&""+parseInt(i,10)===i,isReservedProp=makeMap(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),cacheStringFunction=i=>{const t=Object.create(null);return s=>t[s]||(t[s]=i(s))},camelizeRE=/-(\w)/g,camelize=cacheStringFunction(i=>i.replace(camelizeRE,(t,s)=>s?s.toUpperCase():"")),hyphenateRE=/\B([A-Z])/g,hyphenate=cacheStringFunction(i=>i.replace(hyphenateRE,"-$1").toLowerCase()),capitalize=cacheStringFunction(i=>i.charAt(0).toUpperCase()+i.slice(1)),toHandlerKey=cacheStringFunction(i=>i?`on${capitalize(i)}`:""),hasChanged=(i,t)=>!Object.is(i,t),invokeArrayFns=(i,t)=>{for(let s=0;s<i.length;s++)i[s](t)},def=(i,t,s)=>{Object.defineProperty(i,t,{configurable:!0,enumerable:!1,value:s})},looseToNumber=i=>{const t=parseFloat(i);return isNaN(t)?i:t},toNumber$2=i=>{const t=isString(i)?Number(i):NaN;return isNaN(t)?i:t};let _globalThis;const getGlobalThis=()=>_globalThis||(_globalThis=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function normalizeStyle(i){if(isArray(i)){const t={};for(let s=0;s<i.length;s++){const u=i[s],l=isString(u)?parseStringStyle(u):normalizeStyle(u);if(l)for(const d in l)t[d]=l[d]}return t}else if(isString(i)||isObject$3(i))return i}const listDelimiterRE=/;(?![^(]*\))/g,propertyDelimiterRE=/:([^]+)/,styleCommentRE=/\/\*[^]*?\*\//g;function parseStringStyle(i){const t={};return i.replace(styleCommentRE,"").split(listDelimiterRE).forEach(s=>{if(s){const u=s.split(propertyDelimiterRE);u.length>1&&(t[u[0].trim()]=u[1].trim())}}),t}function normalizeClass(i){let t="";if(isString(i))t=i;else if(isArray(i))for(let s=0;s<i.length;s++){const u=normalizeClass(i[s]);u&&(t+=u+" ")}else if(isObject$3(i))for(const s in i)i[s]&&(t+=s+" ");return t.trim()}const specialBooleanAttrs="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",isSpecialBooleanAttr=makeMap(specialBooleanAttrs);function includeBooleanAttr(i){return!!i||i===""}function looseCompareArrays(i,t){if(i.length!==t.length)return!1;let s=!0;for(let u=0;s&&u<i.length;u++)s=looseEqual(i[u],t[u]);return s}function looseEqual(i,t){if(i===t)return!0;let s=isDate(i),u=isDate(t);if(s||u)return s&&u?i.getTime()===t.getTime():!1;if(s=isSymbol$2(i),u=isSymbol$2(t),s||u)return i===t;if(s=isArray(i),u=isArray(t),s||u)return s&&u?looseCompareArrays(i,t):!1;if(s=isObject$3(i),u=isObject$3(t),s||u){if(!s||!u)return!1;const l=Object.keys(i).length,d=Object.keys(t).length;if(l!==d)return!1;for(const y in i){const g=i.hasOwnProperty(y),v=t.hasOwnProperty(y);if(g&&!v||!g&&v||!looseEqual(i[y],t[y]))return!1}}return String(i)===String(t)}function looseIndexOf(i,t){return i.findIndex(s=>looseEqual(s,t))}const toDisplayString=i=>isString(i)?i:i==null?"":isArray(i)||isObject$3(i)&&(i.toString===objectToString$2||!isFunction(i.toString))?JSON.stringify(i,replacer,2):String(i),replacer=(i,t)=>t&&t.__v_isRef?replacer(i,t.value):isMap(t)?{[`Map(${t.size})`]:[...t.entries()].reduce((s,[u,l])=>(s[`${u} =>`]=l,s),{})}:isSet(t)?{[`Set(${t.size})`]:[...t.values()]}:isObject$3(t)&&!isArray(t)&&!isPlainObject(t)?String(t):t;let activeEffectScope;class EffectScope{constructor(t=!1){this.detached=t,this._active=!0,this.effects=[],this.cleanups=[],this.parent=activeEffectScope,!t&&activeEffectScope&&(this.index=(activeEffectScope.scopes||(activeEffectScope.scopes=[])).push(this)-1)}get active(){return this._active}run(t){if(this._active){const s=activeEffectScope;try{return activeEffectScope=this,t()}finally{activeEffectScope=s}}}on(){activeEffectScope=this}off(){activeEffectScope=this.parent}stop(t){if(this._active){let s,u;for(s=0,u=this.effects.length;s<u;s++)this.effects[s].stop();for(s=0,u=this.cleanups.length;s<u;s++)this.cleanups[s]();if(this.scopes)for(s=0,u=this.scopes.length;s<u;s++)this.scopes[s].stop(!0);if(!this.detached&&this.parent&&!t){const l=this.parent.scopes.pop();l&&l!==this&&(this.parent.scopes[this.index]=l,l.index=this.index)}this.parent=void 0,this._active=!1}}}function recordEffectScope(i,t=activeEffectScope){t&&t.active&&t.effects.push(i)}function getCurrentScope(){return activeEffectScope}const createDep=i=>{const t=new Set(i);return t.w=0,t.n=0,t},wasTracked=i=>(i.w&trackOpBit)>0,newTracked=i=>(i.n&trackOpBit)>0,initDepMarkers=({deps:i})=>{if(i.length)for(let t=0;t<i.length;t++)i[t].w|=trackOpBit},finalizeDepMarkers=i=>{const{deps:t}=i;if(t.length){let s=0;for(let u=0;u<t.length;u++){const l=t[u];wasTracked(l)&&!newTracked(l)?l.delete(i):t[s++]=l,l.w&=~trackOpBit,l.n&=~trackOpBit}t.length=s}},targetMap=new WeakMap;let effectTrackDepth=0,trackOpBit=1;const maxMarkerBits=30;let activeEffect;const ITERATE_KEY=Symbol(""),MAP_KEY_ITERATE_KEY=Symbol("");class ReactiveEffect{constructor(t,s=null,u){this.fn=t,this.scheduler=s,this.active=!0,this.deps=[],this.parent=void 0,recordEffectScope(this,u)}run(){if(!this.active)return this.fn();let t=activeEffect,s=shouldTrack;for(;t;){if(t===this)return;t=t.parent}try{return this.parent=activeEffect,activeEffect=this,shouldTrack=!0,trackOpBit=1<<++effectTrackDepth,effectTrackDepth<=maxMarkerBits?initDepMarkers(this):cleanupEffect(this),this.fn()}finally{effectTrackDepth<=maxMarkerBits&&finalizeDepMarkers(this),trackOpBit=1<<--effectTrackDepth,activeEffect=this.parent,shouldTrack=s,this.parent=void 0,this.deferStop&&this.stop()}}stop(){activeEffect===this?this.deferStop=!0:this.active&&(cleanupEffect(this),this.onStop&&this.onStop(),this.active=!1)}}function cleanupEffect(i){const{deps:t}=i;if(t.length){for(let s=0;s<t.length;s++)t[s].delete(i);t.length=0}}let shouldTrack=!0;const trackStack=[];function pauseTracking(){trackStack.push(shouldTrack),shouldTrack=!1}function resetTracking(){const i=trackStack.pop();shouldTrack=i===void 0?!0:i}function track(i,t,s){if(shouldTrack&&activeEffect){let u=targetMap.get(i);u||targetMap.set(i,u=new Map);let l=u.get(s);l||u.set(s,l=createDep()),trackEffects(l)}}function trackEffects(i,t){let s=!1;effectTrackDepth<=maxMarkerBits?newTracked(i)||(i.n|=trackOpBit,s=!wasTracked(i)):s=!i.has(activeEffect),s&&(i.add(activeEffect),activeEffect.deps.push(i))}function trigger(i,t,s,u,l,d){const y=targetMap.get(i);if(!y)return;let g=[];if(t==="clear")g=[...y.values()];else if(s==="length"&&isArray(i)){const v=Number(u);y.forEach((f,c)=>{(c==="length"||!isSymbol$2(c)&&c>=v)&&g.push(f)})}else switch(s!==void 0&&g.push(y.get(s)),t){case"add":isArray(i)?isIntegerKey(s)&&g.push(y.get("length")):(g.push(y.get(ITERATE_KEY)),isMap(i)&&g.push(y.get(MAP_KEY_ITERATE_KEY)));break;case"delete":isArray(i)||(g.push(y.get(ITERATE_KEY)),isMap(i)&&g.push(y.get(MAP_KEY_ITERATE_KEY)));break;case"set":isMap(i)&&g.push(y.get(ITERATE_KEY));break}if(g.length===1)g[0]&&triggerEffects(g[0]);else{const v=[];for(const f of g)f&&v.push(...f);triggerEffects(createDep(v))}}function triggerEffects(i,t){const s=isArray(i)?i:[...i];for(const u of s)u.computed&&triggerEffect(u);for(const u of s)u.computed||triggerEffect(u)}function triggerEffect(i,t){(i!==activeEffect||i.allowRecurse)&&(i.scheduler?i.scheduler():i.run())}const isNonTrackableKeys=makeMap("__proto__,__v_isRef,__isVue"),builtInSymbols=new Set(Object.getOwnPropertyNames(Symbol).filter(i=>i!=="arguments"&&i!=="caller").map(i=>Symbol[i]).filter(isSymbol$2)),arrayInstrumentations=createArrayInstrumentations();function createArrayInstrumentations(){const i={};return["includes","indexOf","lastIndexOf"].forEach(t=>{i[t]=function(...s){const u=toRaw(this);for(let d=0,y=this.length;d<y;d++)track(u,"get",d+"");const l=u[t](...s);return l===-1||l===!1?u[t](...s.map(toRaw)):l}}),["push","pop","shift","unshift","splice"].forEach(t=>{i[t]=function(...s){pauseTracking();const u=toRaw(this)[t].apply(this,s);return resetTracking(),u}}),i}function hasOwnProperty$1(i){const t=toRaw(this);return track(t,"has",i),t.hasOwnProperty(i)}class BaseReactiveHandler{constructor(t=!1,s=!1){this._isReadonly=t,this._shallow=s}get(t,s,u){const l=this._isReadonly,d=this._shallow;if(s==="__v_isReactive")return!l;if(s==="__v_isReadonly")return l;if(s==="__v_isShallow")return d;if(s==="__v_raw"&&u===(l?d?shallowReadonlyMap:readonlyMap:d?shallowReactiveMap:reactiveMap).get(t))return t;const y=isArray(t);if(!l){if(y&&hasOwn(arrayInstrumentations,s))return Reflect.get(arrayInstrumentations,s,u);if(s==="hasOwnProperty")return hasOwnProperty$1}const g=Reflect.get(t,s,u);return(isSymbol$2(s)?builtInSymbols.has(s):isNonTrackableKeys(s))||(l||track(t,"get",s),d)?g:isRef(g)?y&&isIntegerKey(s)?g:g.value:isObject$3(g)?l?readonly(g):reactive(g):g}}class MutableReactiveHandler extends BaseReactiveHandler{constructor(t=!1){super(!1,t)}set(t,s,u,l){let d=t[s];if(isReadonly(d)&&isRef(d)&&!isRef(u))return!1;if(!this._shallow&&(!isShallow(u)&&!isReadonly(u)&&(d=toRaw(d),u=toRaw(u)),!isArray(t)&&isRef(d)&&!isRef(u)))return d.value=u,!0;const y=isArray(t)&&isIntegerKey(s)?Number(s)<t.length:hasOwn(t,s),g=Reflect.set(t,s,u,l);return t===toRaw(l)&&(y?hasChanged(u,d)&&trigger(t,"set",s,u):trigger(t,"add",s,u)),g}deleteProperty(t,s){const u=hasOwn(t,s);t[s];const l=Reflect.deleteProperty(t,s);return l&&u&&trigger(t,"delete",s,void 0),l}has(t,s){const u=Reflect.has(t,s);return(!isSymbol$2(s)||!builtInSymbols.has(s))&&track(t,"has",s),u}ownKeys(t){return track(t,"iterate",isArray(t)?"length":ITERATE_KEY),Reflect.ownKeys(t)}}class ReadonlyReactiveHandler extends BaseReactiveHandler{constructor(t=!1){super(!0,t)}set(t,s){return!0}deleteProperty(t,s){return!0}}const mutableHandlers=new MutableReactiveHandler,readonlyHandlers=new ReadonlyReactiveHandler,shallowReactiveHandlers=new MutableReactiveHandler(!0),toShallow=i=>i,getProto=i=>Reflect.getPrototypeOf(i);function get(i,t,s=!1,u=!1){i=i.__v_raw;const l=toRaw(i),d=toRaw(t);s||(hasChanged(t,d)&&track(l,"get",t),track(l,"get",d));const{has:y}=getProto(l),g=u?toShallow:s?toReadonly:toReactive;if(y.call(l,t))return g(i.get(t));if(y.call(l,d))return g(i.get(d));i!==l&&i.get(t)}function has(i,t=!1){const s=this.__v_raw,u=toRaw(s),l=toRaw(i);return t||(hasChanged(i,l)&&track(u,"has",i),track(u,"has",l)),i===l?s.has(i):s.has(i)||s.has(l)}function size(i,t=!1){return i=i.__v_raw,!t&&track(toRaw(i),"iterate",ITERATE_KEY),Reflect.get(i,"size",i)}function add(i){i=toRaw(i);const t=toRaw(this);return getProto(t).has.call(t,i)||(t.add(i),trigger(t,"add",i,i)),this}function set(i,t){t=toRaw(t);const s=toRaw(this),{has:u,get:l}=getProto(s);let d=u.call(s,i);d||(i=toRaw(i),d=u.call(s,i));const y=l.call(s,i);return s.set(i,t),d?hasChanged(t,y)&&trigger(s,"set",i,t):trigger(s,"add",i,t),this}function deleteEntry(i){const t=toRaw(this),{has:s,get:u}=getProto(t);let l=s.call(t,i);l||(i=toRaw(i),l=s.call(t,i)),u&&u.call(t,i);const d=t.delete(i);return l&&trigger(t,"delete",i,void 0),d}function clear(){const i=toRaw(this),t=i.size!==0,s=i.clear();return t&&trigger(i,"clear",void 0,void 0),s}function createForEach(i,t){return function(u,l){const d=this,y=d.__v_raw,g=toRaw(y),v=t?toShallow:i?toReadonly:toReactive;return!i&&track(g,"iterate",ITERATE_KEY),y.forEach((f,c)=>u.call(l,v(f),v(c),d))}}function createIterableMethod(i,t,s){return function(...u){const l=this.__v_raw,d=toRaw(l),y=isMap(d),g=i==="entries"||i===Symbol.iterator&&y,v=i==="keys"&&y,f=l[i](...u),c=s?toShallow:t?toReadonly:toReactive;return!t&&track(d,"iterate",v?MAP_KEY_ITERATE_KEY:ITERATE_KEY),{next(){const{value:r,done:e}=f.next();return e?{value:r,done:e}:{value:g?[c(r[0]),c(r[1])]:c(r),done:e}},[Symbol.iterator](){return this}}}}function createReadonlyMethod(i){return function(...t){return i==="delete"?!1:this}}function createInstrumentations(){const i={get(d){return get(this,d)},get size(){return size(this)},has,add,set,delete:deleteEntry,clear,forEach:createForEach(!1,!1)},t={get(d){return get(this,d,!1,!0)},get size(){return size(this)},has,add,set,delete:deleteEntry,clear,forEach:createForEach(!1,!0)},s={get(d){return get(this,d,!0)},get size(){return size(this,!0)},has(d){return has.call(this,d,!0)},add:createReadonlyMethod("add"),set:createReadonlyMethod("set"),delete:createReadonlyMethod("delete"),clear:createReadonlyMethod("clear"),forEach:createForEach(!0,!1)},u={get(d){return get(this,d,!0,!0)},get size(){return size(this,!0)},has(d){return has.call(this,d,!0)},add:createReadonlyMethod("add"),set:createReadonlyMethod("set"),delete:createReadonlyMethod("delete"),clear:createReadonlyMethod("clear"),forEach:createForEach(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(d=>{i[d]=createIterableMethod(d,!1,!1),s[d]=createIterableMethod(d,!0,!1),t[d]=createIterableMethod(d,!1,!0),u[d]=createIterableMethod(d,!0,!0)}),[i,s,t,u]}const[mutableInstrumentations,readonlyInstrumentations,shallowInstrumentations,shallowReadonlyInstrumentations]=createInstrumentations();function createInstrumentationGetter(i,t){const s=t?i?shallowReadonlyInstrumentations:shallowInstrumentations:i?readonlyInstrumentations:mutableInstrumentations;return(u,l,d)=>l==="__v_isReactive"?!i:l==="__v_isReadonly"?i:l==="__v_raw"?u:Reflect.get(hasOwn(s,l)&&l in u?s:u,l,d)}const mutableCollectionHandlers={get:createInstrumentationGetter(!1,!1)},shallowCollectionHandlers={get:createInstrumentationGetter(!1,!0)},readonlyCollectionHandlers={get:createInstrumentationGetter(!0,!1)},reactiveMap=new WeakMap,shallowReactiveMap=new WeakMap,readonlyMap=new WeakMap,shallowReadonlyMap=new WeakMap;function targetTypeMap(i){switch(i){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function getTargetType(i){return i.__v_skip||!Object.isExtensible(i)?0:targetTypeMap(toRawType(i))}function reactive(i){return isReadonly(i)?i:createReactiveObject(i,!1,mutableHandlers,mutableCollectionHandlers,reactiveMap)}function shallowReactive(i){return createReactiveObject(i,!1,shallowReactiveHandlers,shallowCollectionHandlers,shallowReactiveMap)}function readonly(i){return createReactiveObject(i,!0,readonlyHandlers,readonlyCollectionHandlers,readonlyMap)}function createReactiveObject(i,t,s,u,l){if(!isObject$3(i)||i.__v_raw&&!(t&&i.__v_isReactive))return i;const d=l.get(i);if(d)return d;const y=getTargetType(i);if(y===0)return i;const g=new Proxy(i,y===2?u:s);return l.set(i,g),g}function isReactive(i){return isReadonly(i)?isReactive(i.__v_raw):!!(i&&i.__v_isReactive)}function isReadonly(i){return!!(i&&i.__v_isReadonly)}function isShallow(i){return!!(i&&i.__v_isShallow)}function isProxy(i){return isReactive(i)||isReadonly(i)}function toRaw(i){const t=i&&i.__v_raw;return t?toRaw(t):i}function markRaw(i){return def(i,"__v_skip",!0),i}const toReactive=i=>isObject$3(i)?reactive(i):i,toReadonly=i=>isObject$3(i)?readonly(i):i;function trackRefValue(i){shouldTrack&&activeEffect&&(i=toRaw(i),trackEffects(i.dep||(i.dep=createDep())))}function triggerRefValue(i,t){i=toRaw(i);const s=i.dep;s&&triggerEffects(s)}function isRef(i){return!!(i&&i.__v_isRef===!0)}function ref(i){return createRef(i,!1)}function createRef(i,t){return isRef(i)?i:new RefImpl(i,t)}class RefImpl{constructor(t,s){this.__v_isShallow=s,this.dep=void 0,this.__v_isRef=!0,this._rawValue=s?t:toRaw(t),this._value=s?t:toReactive(t)}get value(){return trackRefValue(this),this._value}set value(t){const s=this.__v_isShallow||isShallow(t)||isReadonly(t);t=s?t:toRaw(t),hasChanged(t,this._rawValue)&&(this._rawValue=t,this._value=s?t:toReactive(t),triggerRefValue(this))}}function unref(i){return isRef(i)?i.value:i}const shallowUnwrapHandlers={get:(i,t,s)=>unref(Reflect.get(i,t,s)),set:(i,t,s,u)=>{const l=i[t];return isRef(l)&&!isRef(s)?(l.value=s,!0):Reflect.set(i,t,s,u)}};function proxyRefs(i){return isReactive(i)?i:new Proxy(i,shallowUnwrapHandlers)}class ComputedRefImpl{constructor(t,s,u,l){this._setter=s,this.dep=void 0,this.__v_isRef=!0,this.__v_isReadonly=!1,this._dirty=!0,this.effect=new ReactiveEffect(t,()=>{this._dirty||(this._dirty=!0,triggerRefValue(this))}),this.effect.computed=this,this.effect.active=this._cacheable=!l,this.__v_isReadonly=u}get value(){const t=toRaw(this);return trackRefValue(t),(t._dirty||!t._cacheable)&&(t._dirty=!1,t._value=t.effect.run()),t._value}set value(t){this._setter(t)}}function computed$1(i,t,s=!1){let u,l;const d=isFunction(i);return d?(u=i,l=NOOP):(u=i.get,l=i.set),new ComputedRefImpl(u,l,d||!l,s)}function warn(i,...t){}function callWithErrorHandling(i,t,s,u){let l;try{l=u?i(...u):i()}catch(d){handleError(d,t,s)}return l}function callWithAsyncErrorHandling(i,t,s,u){if(isFunction(i)){const d=callWithErrorHandling(i,t,s,u);return d&&isPromise(d)&&d.catch(y=>{handleError(y,t,s)}),d}const l=[];for(let d=0;d<i.length;d++)l.push(callWithAsyncErrorHandling(i[d],t,s,u));return l}function handleError(i,t,s,u=!0){const l=t?t.vnode:null;if(t){let d=t.parent;const y=t.proxy,g=s;for(;d;){const f=d.ec;if(f){for(let c=0;c<f.length;c++)if(f[c](i,y,g)===!1)return}d=d.parent}const v=t.appContext.config.errorHandler;if(v){callWithErrorHandling(v,null,10,[i,y,g]);return}}logError(i,s,l,u)}function logError(i,t,s,u=!0){console.error(i)}let isFlushing=!1,isFlushPending=!1;const queue=[];let flushIndex=0;const pendingPostFlushCbs=[];let activePostFlushCbs=null,postFlushIndex=0;const resolvedPromise=Promise.resolve();let currentFlushPromise=null;function nextTick(i){const t=currentFlushPromise||resolvedPromise;return i?t.then(this?i.bind(this):i):t}function findInsertionIndex(i){let t=flushIndex+1,s=queue.length;for(;t<s;){const u=t+s>>>1,l=queue[u],d=getId(l);d<i||d===i&&l.pre?t=u+1:s=u}return t}function queueJob(i){(!queue.length||!queue.includes(i,isFlushing&&i.allowRecurse?flushIndex+1:flushIndex))&&(i.id==null?queue.push(i):queue.splice(findInsertionIndex(i.id),0,i),queueFlush())}function queueFlush(){!isFlushing&&!isFlushPending&&(isFlushPending=!0,currentFlushPromise=resolvedPromise.then(flushJobs))}function invalidateJob(i){const t=queue.indexOf(i);t>flushIndex&&queue.splice(t,1)}function queuePostFlushCb(i){isArray(i)?pendingPostFlushCbs.push(...i):(!activePostFlushCbs||!activePostFlushCbs.includes(i,i.allowRecurse?postFlushIndex+1:postFlushIndex))&&pendingPostFlushCbs.push(i),queueFlush()}function flushPreFlushCbs(i,t=isFlushing?flushIndex+1:0){for(;t<queue.length;t++){const s=queue[t];s&&s.pre&&(queue.splice(t,1),t--,s())}}function flushPostFlushCbs(i){if(pendingPostFlushCbs.length){const t=[...new Set(pendingPostFlushCbs)];if(pendingPostFlushCbs.length=0,activePostFlushCbs){activePostFlushCbs.push(...t);return}for(activePostFlushCbs=t,activePostFlushCbs.sort((s,u)=>getId(s)-getId(u)),postFlushIndex=0;postFlushIndex<activePostFlushCbs.length;postFlushIndex++)activePostFlushCbs[postFlushIndex]();activePostFlushCbs=null,postFlushIndex=0}}const getId=i=>i.id==null?1/0:i.id,comparator=(i,t)=>{const s=getId(i)-getId(t);if(s===0){if(i.pre&&!t.pre)return-1;if(t.pre&&!i.pre)return 1}return s};function flushJobs(i){isFlushPending=!1,isFlushing=!0,queue.sort(comparator);const t=NOOP;try{for(flushIndex=0;flushIndex<queue.length;flushIndex++){const s=queue[flushIndex];s&&s.active!==!1&&callWithErrorHandling(s,null,14)}}finally{flushIndex=0,queue.length=0,flushPostFlushCbs(),isFlushing=!1,currentFlushPromise=null,(queue.length||pendingPostFlushCbs.length)&&flushJobs()}}function emit(i,t,...s){if(i.isUnmounted)return;const u=i.vnode.props||EMPTY_OBJ;let l=s;const d=t.startsWith("update:"),y=d&&t.slice(7);if(y&&y in u){const c=`${y==="modelValue"?"model":y}Modifiers`,{number:r,trim:e}=u[c]||EMPTY_OBJ;e&&(l=s.map(n=>isString(n)?n.trim():n)),r&&(l=s.map(looseToNumber))}let g,v=u[g=toHandlerKey(t)]||u[g=toHandlerKey(camelize(t))];!v&&d&&(v=u[g=toHandlerKey(hyphenate(t))]),v&&callWithAsyncErrorHandling(v,i,6,l);const f=u[g+"Once"];if(f){if(!i.emitted)i.emitted={};else if(i.emitted[g])return;i.emitted[g]=!0,callWithAsyncErrorHandling(f,i,6,l)}}function normalizeEmitsOptions(i,t,s=!1){const u=t.emitsCache,l=u.get(i);if(l!==void 0)return l;const d=i.emits;let y={},g=!1;if(!isFunction(i)){const v=f=>{const c=normalizeEmitsOptions(f,t,!0);c&&(g=!0,extend(y,c))};!s&&t.mixins.length&&t.mixins.forEach(v),i.extends&&v(i.extends),i.mixins&&i.mixins.forEach(v)}return!d&&!g?(isObject$3(i)&&u.set(i,null),null):(isArray(d)?d.forEach(v=>y[v]=null):extend(y,d),isObject$3(i)&&u.set(i,y),y)}function isEmitListener(i,t){return!i||!isOn(t)?!1:(t=t.slice(2).replace(/Once$/,""),hasOwn(i,t[0].toLowerCase()+t.slice(1))||hasOwn(i,hyphenate(t))||hasOwn(i,t))}let currentRenderingInstance=null,currentScopeId=null;function setCurrentRenderingInstance(i){const t=currentRenderingInstance;return currentRenderingInstance=i,currentScopeId=i&&i.type.__scopeId||null,t}function withCtx(i,t=currentRenderingInstance,s){if(!t||i._n)return i;const u=(...l)=>{u._d&&setBlockTracking(-1);const d=setCurrentRenderingInstance(t);let y;try{y=i(...l)}finally{setCurrentRenderingInstance(d),u._d&&setBlockTracking(1)}return y};return u._n=!0,u._c=!0,u._d=!0,u}function markAttrsAccessed(){}function renderComponentRoot(i){const{type:t,vnode:s,proxy:u,withProxy:l,props:d,propsOptions:[y],slots:g,attrs:v,emit:f,render:c,renderCache:r,data:e,setupState:n,ctx:o,inheritAttrs:m}=i;let _,x;const w=setCurrentRenderingInstance(i);try{if(s.shapeFlag&4){const O=l||u;_=normalizeVNode(c.call(O,O,r,d,n,e,o)),x=v}else{const O=t;_=normalizeVNode(O.length>1?O(d,{attrs:v,slots:g,emit:f}):O(d,null)),x=t.props?v:getFunctionalFallthrough(v)}}catch(O){blockStack.length=0,handleError(O,i,1),_=createVNode(Comment)}let S=_;if(x&&m!==!1){const O=Object.keys(x),{shapeFlag:A}=S;O.length&&A&7&&(y&&O.some(isModelListener)&&(x=filterModelListeners(x,y)),S=cloneVNode(S,x))}return s.dirs&&(S=cloneVNode(S),S.dirs=S.dirs?S.dirs.concat(s.dirs):s.dirs),s.transition&&(S.transition=s.transition),_=S,setCurrentRenderingInstance(w),_}const getFunctionalFallthrough=i=>{let t;for(const s in i)(s==="class"||s==="style"||isOn(s))&&((t||(t={}))[s]=i[s]);return t},filterModelListeners=(i,t)=>{const s={};for(const u in i)(!isModelListener(u)||!(u.slice(9)in t))&&(s[u]=i[u]);return s};function shouldUpdateComponent(i,t,s){const{props:u,children:l,component:d}=i,{props:y,children:g,patchFlag:v}=t,f=d.emitsOptions;if(t.dirs||t.transition)return!0;if(s&&v>=0){if(v&1024)return!0;if(v&16)return u?hasPropsChanged(u,y,f):!!y;if(v&8){const c=t.dynamicProps;for(let r=0;r<c.length;r++){const e=c[r];if(y[e]!==u[e]&&!isEmitListener(f,e))return!0}}}else return(l||g)&&(!g||!g.$stable)?!0:u===y?!1:u?y?hasPropsChanged(u,y,f):!0:!!y;return!1}function hasPropsChanged(i,t,s){const u=Object.keys(t);if(u.length!==Object.keys(i).length)return!0;for(let l=0;l<u.length;l++){const d=u[l];if(t[d]!==i[d]&&!isEmitListener(s,d))return!0}return!1}function updateHOCHostEl({vnode:i,parent:t},s){for(;t&&t.subTree===i;)(i=t.vnode).el=s,t=t.parent}const NULL_DYNAMIC_COMPONENT=Symbol.for("v-ndc"),isSuspense=i=>i.__isSuspense;function queueEffectWithSuspense(i,t){t&&t.pendingBranch?isArray(i)?t.effects.push(...i):t.effects.push(i):queuePostFlushCb(i)}const INITIAL_WATCHER_VALUE={};function watch(i,t,s){return doWatch(i,t,s)}function doWatch(i,t,{immediate:s,deep:u,flush:l,onTrack:d,onTrigger:y}=EMPTY_OBJ){var g;const v=getCurrentScope()===((g=currentInstance)==null?void 0:g.scope)?currentInstance:null;let f,c=!1,r=!1;if(isRef(i)?(f=()=>i.value,c=isShallow(i)):isReactive(i)?(f=()=>i,u=!0):isArray(i)?(r=!0,c=i.some(O=>isReactive(O)||isShallow(O)),f=()=>i.map(O=>{if(isRef(O))return O.value;if(isReactive(O))return traverse(O);if(isFunction(O))return callWithErrorHandling(O,v,2)})):isFunction(i)?t?f=()=>callWithErrorHandling(i,v,2):f=()=>{if(!(v&&v.isUnmounted))return e&&e(),callWithAsyncErrorHandling(i,v,3,[n])}:f=NOOP,t&&u){const O=f;f=()=>traverse(O())}let e,n=O=>{e=w.onStop=()=>{callWithErrorHandling(O,v,4)}},o;if(isInSSRComponentSetup)if(n=NOOP,t?s&&callWithAsyncErrorHandling(t,v,3,[f(),r?[]:void 0,n]):f(),l==="sync"){const O=useSSRContext();o=O.__watcherHandles||(O.__watcherHandles=[])}else return NOOP;let m=r?new Array(i.length).fill(INITIAL_WATCHER_VALUE):INITIAL_WATCHER_VALUE;const _=()=>{if(w.active)if(t){const O=w.run();(u||c||(r?O.some((A,I)=>hasChanged(A,m[I])):hasChanged(O,m)))&&(e&&e(),callWithAsyncErrorHandling(t,v,3,[O,m===INITIAL_WATCHER_VALUE?void 0:r&&m[0]===INITIAL_WATCHER_VALUE?[]:m,n]),m=O)}else w.run()};_.allowRecurse=!!t;let x;l==="sync"?x=_:l==="post"?x=()=>queuePostRenderEffect(_,v&&v.suspense):(_.pre=!0,v&&(_.id=v.uid),x=()=>queueJob(_));const w=new ReactiveEffect(f,x);t?s?_():m=w.run():l==="post"?queuePostRenderEffect(w.run.bind(w),v&&v.suspense):w.run();const S=()=>{w.stop(),v&&v.scope&&remove(v.scope.effects,w)};return o&&o.push(S),S}function instanceWatch(i,t,s){const u=this.proxy,l=isString(i)?i.includes(".")?createPathGetter(u,i):()=>u[i]:i.bind(u,u);let d;isFunction(t)?d=t:(d=t.handler,s=t);const y=currentInstance;setCurrentInstance(this);const g=doWatch(l,d.bind(u),s);return y?setCurrentInstance(y):unsetCurrentInstance(),g}function createPathGetter(i,t){const s=t.split(".");return()=>{let u=i;for(let l=0;l<s.length&&u;l++)u=u[s[l]];return u}}function traverse(i,t){if(!isObject$3(i)||i.__v_skip||(t=t||new Set,t.has(i)))return i;if(t.add(i),isRef(i))traverse(i.value,t);else if(isArray(i))for(let s=0;s<i.length;s++)traverse(i[s],t);else if(isSet(i)||isMap(i))i.forEach(s=>{traverse(s,t)});else if(isPlainObject(i))for(const s in i)traverse(i[s],t);return i}function withDirectives(i,t){const s=currentRenderingInstance;if(s===null)return i;const u=getExposeProxy(s)||s.proxy,l=i.dirs||(i.dirs=[]);for(let d=0;d<t.length;d++){let[y,g,v,f=EMPTY_OBJ]=t[d];y&&(isFunction(y)&&(y={mounted:y,updated:y}),y.deep&&traverse(g),l.push({dir:y,instance:u,value:g,oldValue:void 0,arg:v,modifiers:f}))}return i}function invokeDirectiveHook(i,t,s,u){const l=i.dirs,d=t&&t.dirs;for(let y=0;y<l.length;y++){const g=l[y];d&&(g.oldValue=d[y].value);let v=g.dir[u];v&&(pauseTracking(),callWithAsyncErrorHandling(v,s,8,[i.el,g,i,t]),resetTracking())}}const leaveCbKey=Symbol("_leaveCb"),enterCbKey=Symbol("_enterCb");function useTransitionState(){const i={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return onMounted(()=>{i.isMounted=!0}),onBeforeUnmount(()=>{i.isUnmounting=!0}),i}const TransitionHookValidator=[Function,Array],BaseTransitionPropsValidators={mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:TransitionHookValidator,onEnter:TransitionHookValidator,onAfterEnter:TransitionHookValidator,onEnterCancelled:TransitionHookValidator,onBeforeLeave:TransitionHookValidator,onLeave:TransitionHookValidator,onAfterLeave:TransitionHookValidator,onLeaveCancelled:TransitionHookValidator,onBeforeAppear:TransitionHookValidator,onAppear:TransitionHookValidator,onAfterAppear:TransitionHookValidator,onAppearCancelled:TransitionHookValidator},BaseTransitionImpl={name:"BaseTransition",props:BaseTransitionPropsValidators,setup(i,{slots:t}){const s=getCurrentInstance(),u=useTransitionState();let l;return()=>{const d=t.default&&getTransitionRawChildren(t.default(),!0);if(!d||!d.length)return;let y=d[0];if(d.length>1){for(const m of d)if(m.type!==Comment){y=m;break}}const g=toRaw(i),{mode:v}=g;if(u.isLeaving)return emptyPlaceholder(y);const f=getKeepAliveChild(y);if(!f)return emptyPlaceholder(y);const c=resolveTransitionHooks(f,g,u,s);setTransitionHooks(f,c);const r=s.subTree,e=r&&getKeepAliveChild(r);let n=!1;const{getTransitionKey:o}=f.type;if(o){const m=o();l===void 0?l=m:m!==l&&(l=m,n=!0)}if(e&&e.type!==Comment&&(!isSameVNodeType(f,e)||n)){const m=resolveTransitionHooks(e,g,u,s);if(setTransitionHooks(e,m),v==="out-in")return u.isLeaving=!0,m.afterLeave=()=>{u.isLeaving=!1,s.update.active!==!1&&s.update()},emptyPlaceholder(y);v==="in-out"&&f.type!==Comment&&(m.delayLeave=(_,x,w)=>{const S=getLeavingNodesForType(u,e);S[String(e.key)]=e,_[leaveCbKey]=()=>{x(),_[leaveCbKey]=void 0,delete c.delayedLeave},c.delayedLeave=w})}return y}}},BaseTransition=BaseTransitionImpl;function getLeavingNodesForType(i,t){const{leavingVNodes:s}=i;let u=s.get(t.type);return u||(u=Object.create(null),s.set(t.type,u)),u}function resolveTransitionHooks(i,t,s,u){const{appear:l,mode:d,persisted:y=!1,onBeforeEnter:g,onEnter:v,onAfterEnter:f,onEnterCancelled:c,onBeforeLeave:r,onLeave:e,onAfterLeave:n,onLeaveCancelled:o,onBeforeAppear:m,onAppear:_,onAfterAppear:x,onAppearCancelled:w}=t,S=String(i.key),O=getLeavingNodesForType(s,i),A=(L,U)=>{L&&callWithAsyncErrorHandling(L,u,9,U)},I=(L,U)=>{const G=U[1];A(L,U),isArray(L)?L.every(te=>te.length<=1)&&G():L.length<=1&&G()},P={mode:d,persisted:y,beforeEnter(L){let U=g;if(!s.isMounted)if(l)U=m||g;else return;L[leaveCbKey]&&L[leaveCbKey](!0);const G=O[S];G&&isSameVNodeType(i,G)&&G.el[leaveCbKey]&&G.el[leaveCbKey](),A(U,[L])},enter(L){let U=v,G=f,te=c;if(!s.isMounted)if(l)U=_||v,G=x||f,te=w||c;else return;let Y=!1;const F=L[enterCbKey]=re=>{Y||(Y=!0,re?A(te,[L]):A(G,[L]),P.delayedLeave&&P.delayedLeave(),L[enterCbKey]=void 0)};U?I(U,[L,F]):F()},leave(L,U){const G=String(i.key);if(L[enterCbKey]&&L[enterCbKey](!0),s.isUnmounting)return U();A(r,[L]);let te=!1;const Y=L[leaveCbKey]=F=>{te||(te=!0,U(),F?A(o,[L]):A(n,[L]),L[leaveCbKey]=void 0,O[G]===i&&delete O[G])};O[G]=i,e?I(e,[L,Y]):Y()},clone(L){return resolveTransitionHooks(L,t,s,u)}};return P}function emptyPlaceholder(i){if(isKeepAlive(i))return i=cloneVNode(i),i.children=null,i}function getKeepAliveChild(i){return isKeepAlive(i)?i.children?i.children[0]:void 0:i}function setTransitionHooks(i,t){i.shapeFlag&6&&i.component?setTransitionHooks(i.component.subTree,t):i.shapeFlag&128?(i.ssContent.transition=t.clone(i.ssContent),i.ssFallback.transition=t.clone(i.ssFallback)):i.transition=t}function getTransitionRawChildren(i,t=!1,s){let u=[],l=0;for(let d=0;d<i.length;d++){let y=i[d];const g=s==null?y.key:String(s)+String(y.key!=null?y.key:d);y.type===Fragment?(y.patchFlag&128&&l++,u=u.concat(getTransitionRawChildren(y.children,t,g))):(t||y.type!==Comment)&&u.push(g!=null?cloneVNode(y,{key:g}):y)}if(l>1)for(let d=0;d<u.length;d++)u[d].patchFlag=-2;return u}const isAsyncWrapper=i=>!!i.type.__asyncLoader,isKeepAlive=i=>i.type.__isKeepAlive;function onActivated(i,t){registerKeepAliveHook(i,"a",t)}function onDeactivated(i,t){registerKeepAliveHook(i,"da",t)}function registerKeepAliveHook(i,t,s=currentInstance){const u=i.__wdc||(i.__wdc=()=>{let l=s;for(;l;){if(l.isDeactivated)return;l=l.parent}return i()});if(injectHook(t,u,s),s){let l=s.parent;for(;l&&l.parent;)isKeepAlive(l.parent.vnode)&&injectToKeepAliveRoot(u,t,s,l),l=l.parent}}function injectToKeepAliveRoot(i,t,s,u){const l=injectHook(t,i,u,!0);onUnmounted(()=>{remove(u[t],l)},s)}function injectHook(i,t,s=currentInstance,u=!1){if(s){const l=s[i]||(s[i]=[]),d=t.__weh||(t.__weh=(...y)=>{if(s.isUnmounted)return;pauseTracking(),setCurrentInstance(s);const g=callWithAsyncErrorHandling(t,s,i,y);return unsetCurrentInstance(),resetTracking(),g});return u?l.unshift(d):l.push(d),d}}const createHook=i=>(t,s=currentInstance)=>(!isInSSRComponentSetup||i==="sp")&&injectHook(i,(...u)=>t(...u),s),onBeforeMount=createHook("bm"),onMounted=createHook("m"),onBeforeUpdate=createHook("bu"),onUpdated=createHook("u"),onBeforeUnmount=createHook("bum"),onUnmounted=createHook("um"),onServerPrefetch=createHook("sp"),onRenderTriggered=createHook("rtg"),onRenderTracked=createHook("rtc");function onErrorCaptured(i,t=currentInstance){injectHook("ec",i,t)}function renderList(i,t,s,u){let l;const d=s&&s[u];if(isArray(i)||isString(i)){l=new Array(i.length);for(let y=0,g=i.length;y<g;y++)l[y]=t(i[y],y,void 0,d&&d[y])}else if(typeof i=="number"){l=new Array(i);for(let y=0;y<i;y++)l[y]=t(y+1,y,void 0,d&&d[y])}else if(isObject$3(i))if(i[Symbol.iterator])l=Array.from(i,(y,g)=>t(y,g,void 0,d&&d[g]));else{const y=Object.keys(i);l=new Array(y.length);for(let g=0,v=y.length;g<v;g++){const f=y[g];l[g]=t(i[f],f,g,d&&d[g])}}else l=[];return s&&(s[u]=l),l}function renderSlot(i,t,s={},u,l){if(currentRenderingInstance.isCE||currentRenderingInstance.parent&&isAsyncWrapper(currentRenderingInstance.parent)&&currentRenderingInstance.parent.isCE)return t!=="default"&&(s.name=t),createVNode("slot",s,u&&u());let d=i[t];d&&d._c&&(d._d=!1),openBlock();const y=d&&ensureValidVNode(d(s)),g=createBlock(Fragment,{key:s.key||y&&y.key||`_${t}`},y||(u?u():[]),y&&i._===1?64:-2);return!l&&g.scopeId&&(g.slotScopeIds=[g.scopeId+"-s"]),d&&d._c&&(d._d=!0),g}function ensureValidVNode(i){return i.some(t=>isVNode(t)?!(t.type===Comment||t.type===Fragment&&!ensureValidVNode(t.children)):!0)?i:null}const getPublicInstance=i=>i?isStatefulComponent(i)?getExposeProxy(i)||i.proxy:getPublicInstance(i.parent):null,publicPropertiesMap=extend(Object.create(null),{$:i=>i,$el:i=>i.vnode.el,$data:i=>i.data,$props:i=>i.props,$attrs:i=>i.attrs,$slots:i=>i.slots,$refs:i=>i.refs,$parent:i=>getPublicInstance(i.parent),$root:i=>getPublicInstance(i.root),$emit:i=>i.emit,$options:i=>resolveMergedOptions(i),$forceUpdate:i=>i.f||(i.f=()=>queueJob(i.update)),$nextTick:i=>i.n||(i.n=nextTick.bind(i.proxy)),$watch:i=>instanceWatch.bind(i)}),hasSetupBinding=(i,t)=>i!==EMPTY_OBJ&&!i.__isScriptSetup&&hasOwn(i,t),PublicInstanceProxyHandlers={get({_:i},t){const{ctx:s,setupState:u,data:l,props:d,accessCache:y,type:g,appContext:v}=i;let f;if(t[0]!=="$"){const n=y[t];if(n!==void 0)switch(n){case 1:return u[t];case 2:return l[t];case 4:return s[t];case 3:return d[t]}else{if(hasSetupBinding(u,t))return y[t]=1,u[t];if(l!==EMPTY_OBJ&&hasOwn(l,t))return y[t]=2,l[t];if((f=i.propsOptions[0])&&hasOwn(f,t))return y[t]=3,d[t];if(s!==EMPTY_OBJ&&hasOwn(s,t))return y[t]=4,s[t];shouldCacheAccess&&(y[t]=0)}}const c=publicPropertiesMap[t];let r,e;if(c)return t==="$attrs"&&track(i,"get",t),c(i);if((r=g.__cssModules)&&(r=r[t]))return r;if(s!==EMPTY_OBJ&&hasOwn(s,t))return y[t]=4,s[t];if(e=v.config.globalProperties,hasOwn(e,t))return e[t]},set({_:i},t,s){const{data:u,setupState:l,ctx:d}=i;return hasSetupBinding(l,t)?(l[t]=s,!0):u!==EMPTY_OBJ&&hasOwn(u,t)?(u[t]=s,!0):hasOwn(i.props,t)||t[0]==="$"&&t.slice(1)in i?!1:(d[t]=s,!0)},has({_:{data:i,setupState:t,accessCache:s,ctx:u,appContext:l,propsOptions:d}},y){let g;return!!s[y]||i!==EMPTY_OBJ&&hasOwn(i,y)||hasSetupBinding(t,y)||(g=d[0])&&hasOwn(g,y)||hasOwn(u,y)||hasOwn(publicPropertiesMap,y)||hasOwn(l.config.globalProperties,y)},defineProperty(i,t,s){return s.get!=null?i._.accessCache[t]=0:hasOwn(s,"value")&&this.set(i,t,s.value,null),Reflect.defineProperty(i,t,s)}};function normalizePropsOrEmits(i){return isArray(i)?i.reduce((t,s)=>(t[s]=null,t),{}):i}let shouldCacheAccess=!0;function applyOptions(i){const t=resolveMergedOptions(i),s=i.proxy,u=i.ctx;shouldCacheAccess=!1,t.beforeCreate&&callHook$1(t.beforeCreate,i,"bc");const{data:l,computed:d,methods:y,watch:g,provide:v,inject:f,created:c,beforeMount:r,mounted:e,beforeUpdate:n,updated:o,activated:m,deactivated:_,beforeDestroy:x,beforeUnmount:w,destroyed:S,unmounted:O,render:A,renderTracked:I,renderTriggered:P,errorCaptured:L,serverPrefetch:U,expose:G,inheritAttrs:te,components:Y,directives:F,filters:re}=t;if(f&&resolveInjections(f,u,null),y)for(const H in y){const le=y[H];isFunction(le)&&(u[H]=le.bind(s))}if(l){const H=l.call(s,s);isObject$3(H)&&(i.data=reactive(H))}if(shouldCacheAccess=!0,d)for(const H in d){const le=d[H],he=isFunction(le)?le.bind(s,s):isFunction(le.get)?le.get.bind(s,s):NOOP,Ce=!isFunction(le)&&isFunction(le.set)?le.set.bind(s):NOOP,we=computed({get:he,set:Ce});Object.defineProperty(u,H,{enumerable:!0,configurable:!0,get:()=>we.value,set:Pe=>we.value=Pe})}if(g)for(const H in g)createWatcher(g[H],u,s,H);if(v){const H=isFunction(v)?v.call(s):v;Reflect.ownKeys(H).forEach(le=>{provide(le,H[le])})}c&&callHook$1(c,i,"c");function M(H,le){isArray(le)?le.forEach(he=>H(he.bind(s))):le&&H(le.bind(s))}if(M(onBeforeMount,r),M(onMounted,e),M(onBeforeUpdate,n),M(onUpdated,o),M(onActivated,m),M(onDeactivated,_),M(onErrorCaptured,L),M(onRenderTracked,I),M(onRenderTriggered,P),M(onBeforeUnmount,w),M(onUnmounted,O),M(onServerPrefetch,U),isArray(G))if(G.length){const H=i.exposed||(i.exposed={});G.forEach(le=>{Object.defineProperty(H,le,{get:()=>s[le],set:he=>s[le]=he})})}else i.exposed||(i.exposed={});A&&i.render===NOOP&&(i.render=A),te!=null&&(i.inheritAttrs=te),Y&&(i.components=Y),F&&(i.directives=F)}function resolveInjections(i,t,s=NOOP){isArray(i)&&(i=normalizeInject(i));for(const u in i){const l=i[u];let d;isObject$3(l)?"default"in l?d=inject(l.from||u,l.default,!0):d=inject(l.from||u):d=inject(l),isRef(d)?Object.defineProperty(t,u,{enumerable:!0,configurable:!0,get:()=>d.value,set:y=>d.value=y}):t[u]=d}}function callHook$1(i,t,s){callWithAsyncErrorHandling(isArray(i)?i.map(u=>u.bind(t.proxy)):i.bind(t.proxy),t,s)}function createWatcher(i,t,s,u){const l=u.includes(".")?createPathGetter(s,u):()=>s[u];if(isString(i)){const d=t[i];isFunction(d)&&watch(l,d)}else if(isFunction(i))watch(l,i.bind(s));else if(isObject$3(i))if(isArray(i))i.forEach(d=>createWatcher(d,t,s,u));else{const d=isFunction(i.handler)?i.handler.bind(s):t[i.handler];isFunction(d)&&watch(l,d,i)}}function resolveMergedOptions(i){const t=i.type,{mixins:s,extends:u}=t,{mixins:l,optionsCache:d,config:{optionMergeStrategies:y}}=i.appContext,g=d.get(t);let v;return g?v=g:!l.length&&!s&&!u?v=t:(v={},l.length&&l.forEach(f=>mergeOptions(v,f,y,!0)),mergeOptions(v,t,y)),isObject$3(t)&&d.set(t,v),v}function mergeOptions(i,t,s,u=!1){const{mixins:l,extends:d}=t;d&&mergeOptions(i,d,s,!0),l&&l.forEach(y=>mergeOptions(i,y,s,!0));for(const y in t)if(!(u&&y==="expose")){const g=internalOptionMergeStrats[y]||s&&s[y];i[y]=g?g(i[y],t[y]):t[y]}return i}const internalOptionMergeStrats={data:mergeDataFn,props:mergeEmitsOrPropsOptions,emits:mergeEmitsOrPropsOptions,methods:mergeObjectOptions,computed:mergeObjectOptions,beforeCreate:mergeAsArray,created:mergeAsArray,beforeMount:mergeAsArray,mounted:mergeAsArray,beforeUpdate:mergeAsArray,updated:mergeAsArray,beforeDestroy:mergeAsArray,beforeUnmount:mergeAsArray,destroyed:mergeAsArray,unmounted:mergeAsArray,activated:mergeAsArray,deactivated:mergeAsArray,errorCaptured:mergeAsArray,serverPrefetch:mergeAsArray,components:mergeObjectOptions,directives:mergeObjectOptions,watch:mergeWatchOptions,provide:mergeDataFn,inject:mergeInject};function mergeDataFn(i,t){return t?i?function(){return extend(isFunction(i)?i.call(this,this):i,isFunction(t)?t.call(this,this):t)}:t:i}function mergeInject(i,t){return mergeObjectOptions(normalizeInject(i),normalizeInject(t))}function normalizeInject(i){if(isArray(i)){const t={};for(let s=0;s<i.length;s++)t[i[s]]=i[s];return t}return i}function mergeAsArray(i,t){return i?[...new Set([].concat(i,t))]:t}function mergeObjectOptions(i,t){return i?extend(Object.create(null),i,t):t}function mergeEmitsOrPropsOptions(i,t){return i?isArray(i)&&isArray(t)?[...new Set([...i,...t])]:extend(Object.create(null),normalizePropsOrEmits(i),normalizePropsOrEmits(t??{})):t}function mergeWatchOptions(i,t){if(!i)return t;if(!t)return i;const s=extend(Object.create(null),i);for(const u in t)s[u]=mergeAsArray(i[u],t[u]);return s}function createAppContext(){return{app:null,config:{isNativeTag:NO,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let uid$1=0;function createAppAPI(i,t){return function(u,l=null){isFunction(u)||(u=extend({},u)),l!=null&&!isObject$3(l)&&(l=null);const d=createAppContext(),y=new WeakSet;let g=!1;const v=d.app={_uid:uid$1++,_component:u,_props:l,_container:null,_context:d,_instance:null,version,get config(){return d.config},set config(f){},use(f,...c){return y.has(f)||(f&&isFunction(f.install)?(y.add(f),f.install(v,...c)):isFunction(f)&&(y.add(f),f(v,...c))),v},mixin(f){return d.mixins.includes(f)||d.mixins.push(f),v},component(f,c){return c?(d.components[f]=c,v):d.components[f]},directive(f,c){return c?(d.directives[f]=c,v):d.directives[f]},mount(f,c,r){if(!g){const e=createVNode(u,l);return e.appContext=d,c&&t?t(e,f):i(e,f,r),g=!0,v._container=f,f.__vue_app__=v,getExposeProxy(e.component)||e.component.proxy}},unmount(){g&&(i(null,v._container),delete v._container.__vue_app__)},provide(f,c){return d.provides[f]=c,v},runWithContext(f){currentApp=v;try{return f()}finally{currentApp=null}}};return v}}let currentApp=null;function provide(i,t){if(currentInstance){let s=currentInstance.provides;const u=currentInstance.parent&&currentInstance.parent.provides;u===s&&(s=currentInstance.provides=Object.create(u)),s[i]=t}}function inject(i,t,s=!1){const u=currentInstance||currentRenderingInstance;if(u||currentApp){const l=u?u.parent==null?u.vnode.appContext&&u.vnode.appContext.provides:u.parent.provides:currentApp._context.provides;if(l&&i in l)return l[i];if(arguments.length>1)return s&&isFunction(t)?t.call(u&&u.proxy):t}}function initProps(i,t,s,u=!1){const l={},d={};def(d,InternalObjectKey,1),i.propsDefaults=Object.create(null),setFullProps(i,t,l,d);for(const y in i.propsOptions[0])y in l||(l[y]=void 0);s?i.props=u?l:shallowReactive(l):i.type.props?i.props=l:i.props=d,i.attrs=d}function updateProps(i,t,s,u){const{props:l,attrs:d,vnode:{patchFlag:y}}=i,g=toRaw(l),[v]=i.propsOptions;let f=!1;if((u||y>0)&&!(y&16)){if(y&8){const c=i.vnode.dynamicProps;for(let r=0;r<c.length;r++){let e=c[r];if(isEmitListener(i.emitsOptions,e))continue;const n=t[e];if(v)if(hasOwn(d,e))n!==d[e]&&(d[e]=n,f=!0);else{const o=camelize(e);l[o]=resolvePropValue(v,g,o,n,i,!1)}else n!==d[e]&&(d[e]=n,f=!0)}}}else{setFullProps(i,t,l,d)&&(f=!0);let c;for(const r in g)(!t||!hasOwn(t,r)&&((c=hyphenate(r))===r||!hasOwn(t,c)))&&(v?s&&(s[r]!==void 0||s[c]!==void 0)&&(l[r]=resolvePropValue(v,g,r,void 0,i,!0)):delete l[r]);if(d!==g)for(const r in d)(!t||!hasOwn(t,r))&&(delete d[r],f=!0)}f&&trigger(i,"set","$attrs")}function setFullProps(i,t,s,u){const[l,d]=i.propsOptions;let y=!1,g;if(t)for(let v in t){if(isReservedProp(v))continue;const f=t[v];let c;l&&hasOwn(l,c=camelize(v))?!d||!d.includes(c)?s[c]=f:(g||(g={}))[c]=f:isEmitListener(i.emitsOptions,v)||(!(v in u)||f!==u[v])&&(u[v]=f,y=!0)}if(d){const v=toRaw(s),f=g||EMPTY_OBJ;for(let c=0;c<d.length;c++){const r=d[c];s[r]=resolvePropValue(l,v,r,f[r],i,!hasOwn(f,r))}}return y}function resolvePropValue(i,t,s,u,l,d){const y=i[s];if(y!=null){const g=hasOwn(y,"default");if(g&&u===void 0){const v=y.default;if(y.type!==Function&&!y.skipFactory&&isFunction(v)){const{propsDefaults:f}=l;s in f?u=f[s]:(setCurrentInstance(l),u=f[s]=v.call(null,t),unsetCurrentInstance())}else u=v}y[0]&&(d&&!g?u=!1:y[1]&&(u===""||u===hyphenate(s))&&(u=!0))}return u}function normalizePropsOptions(i,t,s=!1){const u=t.propsCache,l=u.get(i);if(l)return l;const d=i.props,y={},g=[];let v=!1;if(!isFunction(i)){const c=r=>{v=!0;const[e,n]=normalizePropsOptions(r,t,!0);extend(y,e),n&&g.push(...n)};!s&&t.mixins.length&&t.mixins.forEach(c),i.extends&&c(i.extends),i.mixins&&i.mixins.forEach(c)}if(!d&&!v)return isObject$3(i)&&u.set(i,EMPTY_ARR),EMPTY_ARR;if(isArray(d))for(let c=0;c<d.length;c++){const r=camelize(d[c]);validatePropName(r)&&(y[r]=EMPTY_OBJ)}else if(d)for(const c in d){const r=camelize(c);if(validatePropName(r)){const e=d[c],n=y[r]=isArray(e)||isFunction(e)?{type:e}:extend({},e);if(n){const o=getTypeIndex(Boolean,n.type),m=getTypeIndex(String,n.type);n[0]=o>-1,n[1]=m<0||o<m,(o>-1||hasOwn(n,"default"))&&g.push(r)}}}const f=[y,g];return isObject$3(i)&&u.set(i,f),f}function validatePropName(i){return i[0]!=="$"}function getType$1(i){const t=i&&i.toString().match(/^\s*(function|class) (\w+)/);return t?t[2]:i===null?"null":""}function isSameType(i,t){return getType$1(i)===getType$1(t)}function getTypeIndex(i,t){return isArray(t)?t.findIndex(s=>isSameType(s,i)):isFunction(t)&&isSameType(t,i)?0:-1}const isInternalKey=i=>i[0]==="_"||i==="$stable",normalizeSlotValue=i=>isArray(i)?i.map(normalizeVNode):[normalizeVNode(i)],normalizeSlot=(i,t,s)=>{if(t._n)return t;const u=withCtx((...l)=>normalizeSlotValue(t(...l)),s);return u._c=!1,u},normalizeObjectSlots=(i,t,s)=>{const u=i._ctx;for(const l in i){if(isInternalKey(l))continue;const d=i[l];if(isFunction(d))t[l]=normalizeSlot(l,d,u);else if(d!=null){const y=normalizeSlotValue(d);t[l]=()=>y}}},normalizeVNodeSlots=(i,t)=>{const s=normalizeSlotValue(t);i.slots.default=()=>s},initSlots=(i,t)=>{if(i.vnode.shapeFlag&32){const s=t._;s?(i.slots=toRaw(t),def(t,"_",s)):normalizeObjectSlots(t,i.slots={})}else i.slots={},t&&normalizeVNodeSlots(i,t);def(i.slots,InternalObjectKey,1)},updateSlots=(i,t,s)=>{const{vnode:u,slots:l}=i;let d=!0,y=EMPTY_OBJ;if(u.shapeFlag&32){const g=t._;g?s&&g===1?d=!1:(extend(l,t),!s&&g===1&&delete l._):(d=!t.$stable,normalizeObjectSlots(t,l)),y=t}else t&&(normalizeVNodeSlots(i,t),y={default:1});if(d)for(const g in l)!isInternalKey(g)&&y[g]==null&&delete l[g]};function setRef(i,t,s,u,l=!1){if(isArray(i)){i.forEach((e,n)=>setRef(e,t&&(isArray(t)?t[n]:t),s,u,l));return}if(isAsyncWrapper(u)&&!l)return;const d=u.shapeFlag&4?getExposeProxy(u.component)||u.component.proxy:u.el,y=l?null:d,{i:g,r:v}=i,f=t&&t.r,c=g.refs===EMPTY_OBJ?g.refs={}:g.refs,r=g.setupState;if(f!=null&&f!==v&&(isString(f)?(c[f]=null,hasOwn(r,f)&&(r[f]=null)):isRef(f)&&(f.value=null)),isFunction(v))callWithErrorHandling(v,g,12,[y,c]);else{const e=isString(v),n=isRef(v);if(e||n){const o=()=>{if(i.f){const m=e?hasOwn(r,v)?r[v]:c[v]:v.value;l?isArray(m)&&remove(m,d):isArray(m)?m.includes(d)||m.push(d):e?(c[v]=[d],hasOwn(r,v)&&(r[v]=c[v])):(v.value=[d],i.k&&(c[i.k]=v.value))}else e?(c[v]=y,hasOwn(r,v)&&(r[v]=y)):n&&(v.value=y,i.k&&(c[i.k]=y))};y?(o.id=-1,queuePostRenderEffect(o,s)):o()}}}const queuePostRenderEffect=queueEffectWithSuspense;function createRenderer(i){return baseCreateRenderer(i)}function baseCreateRenderer(i,t){const s=getGlobalThis();s.__VUE__=!0;const{insert:u,remove:l,patchProp:d,createElement:y,createText:g,createComment:v,setText:f,setElementText:c,parentNode:r,nextSibling:e,setScopeId:n=NOOP,insertStaticContent:o}=i,m=($,V,W,Q=null,ie=null,ae=null,xe=!1,be=null,Te=!!V.dynamicChildren)=>{if($===V)return;$&&!isSameVNodeType($,V)&&(Q=Je($),Pe($,ie,ae,!0),$=null),V.patchFlag===-2&&(Te=!1,V.dynamicChildren=null);const{type:pe,ref:Oe,shapeFlag:Ee}=V;switch(pe){case Text:_($,V,W,Q);break;case Comment:x($,V,W,Q);break;case Static:$==null&&w(V,W,Q,xe);break;case Fragment:Y($,V,W,Q,ie,ae,xe,be,Te);break;default:Ee&1?A($,V,W,Q,ie,ae,xe,be,Te):Ee&6?F($,V,W,Q,ie,ae,xe,be,Te):(Ee&64||Ee&128)&&pe.process($,V,W,Q,ie,ae,xe,be,Te,lt)}Oe!=null&&ie&&setRef(Oe,$&&$.ref,ae,V||$,!V)},_=($,V,W,Q)=>{if($==null)u(V.el=g(V.children),W,Q);else{const ie=V.el=$.el;V.children!==$.children&&f(ie,V.children)}},x=($,V,W,Q)=>{$==null?u(V.el=v(V.children||""),W,Q):V.el=$.el},w=($,V,W,Q)=>{[$.el,$.anchor]=o($.children,V,W,Q,$.el,$.anchor)},S=({el:$,anchor:V},W,Q)=>{let ie;for(;$&&$!==V;)ie=e($),u($,W,Q),$=ie;u(V,W,Q)},O=({el:$,anchor:V})=>{let W;for(;$&&$!==V;)W=e($),l($),$=W;l(V)},A=($,V,W,Q,ie,ae,xe,be,Te)=>{xe=xe||V.type==="svg",$==null?I(V,W,Q,ie,ae,xe,be,Te):U($,V,ie,ae,xe,be,Te)},I=($,V,W,Q,ie,ae,xe,be)=>{let Te,pe;const{type:Oe,props:Ee,shapeFlag:ke,transition:Ne,dirs:Ze}=$;if(Te=$.el=y($.type,ae,Ee&&Ee.is,Ee),ke&8?c(Te,$.children):ke&16&&L($.children,Te,null,Q,ie,ae&&Oe!=="foreignObject",xe,be),Ze&&invokeDirectiveHook($,null,Q,"created"),P(Te,$,$.scopeId,xe,Q),Ee){for(const Ye in Ee)Ye!=="value"&&!isReservedProp(Ye)&&d(Te,Ye,null,Ee[Ye],ae,$.children,Q,ie,je);"value"in Ee&&d(Te,"value",null,Ee.value),(pe=Ee.onVnodeBeforeMount)&&invokeVNodeHook(pe,Q,$)}Ze&&invokeDirectiveHook($,null,Q,"beforeMount");const Ke=needTransition(ie,Ne);Ke&&Ne.beforeEnter(Te),u(Te,V,W),((pe=Ee&&Ee.onVnodeMounted)||Ke||Ze)&&queuePostRenderEffect(()=>{pe&&invokeVNodeHook(pe,Q,$),Ke&&Ne.enter(Te),Ze&&invokeDirectiveHook($,null,Q,"mounted")},ie)},P=($,V,W,Q,ie)=>{if(W&&n($,W),Q)for(let ae=0;ae<Q.length;ae++)n($,Q[ae]);if(ie){let ae=ie.subTree;if(V===ae){const xe=ie.vnode;P($,xe,xe.scopeId,xe.slotScopeIds,ie.parent)}}},L=($,V,W,Q,ie,ae,xe,be,Te=0)=>{for(let pe=Te;pe<$.length;pe++){const Oe=$[pe]=be?cloneIfMounted($[pe]):normalizeVNode($[pe]);m(null,Oe,V,W,Q,ie,ae,xe,be)}},U=($,V,W,Q,ie,ae,xe)=>{const be=V.el=$.el;let{patchFlag:Te,dynamicChildren:pe,dirs:Oe}=V;Te|=$.patchFlag&16;const Ee=$.props||EMPTY_OBJ,ke=V.props||EMPTY_OBJ;let Ne;W&&toggleRecurse(W,!1),(Ne=ke.onVnodeBeforeUpdate)&&invokeVNodeHook(Ne,W,V,$),Oe&&invokeDirectiveHook(V,$,W,"beforeUpdate"),W&&toggleRecurse(W,!0);const Ze=ie&&V.type!=="foreignObject";if(pe?G($.dynamicChildren,pe,be,W,Q,Ze,ae):xe||le($,V,be,null,W,Q,Ze,ae,!1),Te>0){if(Te&16)te(be,V,Ee,ke,W,Q,ie);else if(Te&2&&Ee.class!==ke.class&&d(be,"class",null,ke.class,ie),Te&4&&d(be,"style",Ee.style,ke.style,ie),Te&8){const Ke=V.dynamicProps;for(let Ye=0;Ye<Ke.length;Ye++){const ut=Ke[Ye],At=Ee[ut],Vt=ke[ut];(Vt!==At||ut==="value")&&d(be,ut,At,Vt,ie,$.children,W,Q,je)}}Te&1&&$.children!==V.children&&c(be,V.children)}else!xe&&pe==null&&te(be,V,Ee,ke,W,Q,ie);((Ne=ke.onVnodeUpdated)||Oe)&&queuePostRenderEffect(()=>{Ne&&invokeVNodeHook(Ne,W,V,$),Oe&&invokeDirectiveHook(V,$,W,"updated")},Q)},G=($,V,W,Q,ie,ae,xe)=>{for(let be=0;be<V.length;be++){const Te=$[be],pe=V[be],Oe=Te.el&&(Te.type===Fragment||!isSameVNodeType(Te,pe)||Te.shapeFlag&70)?r(Te.el):W;m(Te,pe,Oe,null,Q,ie,ae,xe,!0)}},te=($,V,W,Q,ie,ae,xe)=>{if(W!==Q){if(W!==EMPTY_OBJ)for(const be in W)!isReservedProp(be)&&!(be in Q)&&d($,be,W[be],null,xe,V.children,ie,ae,je);for(const be in Q){if(isReservedProp(be))continue;const Te=Q[be],pe=W[be];Te!==pe&&be!=="value"&&d($,be,pe,Te,xe,V.children,ie,ae,je)}"value"in Q&&d($,"value",W.value,Q.value)}},Y=($,V,W,Q,ie,ae,xe,be,Te)=>{const pe=V.el=$?$.el:g(""),Oe=V.anchor=$?$.anchor:g("");let{patchFlag:Ee,dynamicChildren:ke,slotScopeIds:Ne}=V;Ne&&(be=be?be.concat(Ne):Ne),$==null?(u(pe,W,Q),u(Oe,W,Q),L(V.children,W,Oe,ie,ae,xe,be,Te)):Ee>0&&Ee&64&&ke&&$.dynamicChildren?(G($.dynamicChildren,ke,W,ie,ae,xe,be),(V.key!=null||ie&&V===ie.subTree)&&traverseStaticChildren($,V,!0)):le($,V,W,Oe,ie,ae,xe,be,Te)},F=($,V,W,Q,ie,ae,xe,be,Te)=>{V.slotScopeIds=be,$==null?V.shapeFlag&512?ie.ctx.activate(V,W,Q,xe,Te):re(V,W,Q,ie,ae,xe,Te):R($,V,Te)},re=($,V,W,Q,ie,ae,xe)=>{const be=$.component=createComponentInstance($,Q,ie);if(isKeepAlive($)&&(be.ctx.renderer=lt),setupComponent(be),be.asyncDep){if(ie&&ie.registerDep(be,M),!$.el){const Te=be.subTree=createVNode(Comment);x(null,Te,V,W)}return}M(be,$,V,W,ie,ae,xe)},R=($,V,W)=>{const Q=V.component=$.component;if(shouldUpdateComponent($,V,W))if(Q.asyncDep&&!Q.asyncResolved){H(Q,V,W);return}else Q.next=V,invalidateJob(Q.update),Q.update();else V.el=$.el,Q.vnode=V},M=($,V,W,Q,ie,ae,xe)=>{const be=()=>{if($.isMounted){let{next:Oe,bu:Ee,u:ke,parent:Ne,vnode:Ze}=$,Ke=Oe,Ye;toggleRecurse($,!1),Oe?(Oe.el=Ze.el,H($,Oe,xe)):Oe=Ze,Ee&&invokeArrayFns(Ee),(Ye=Oe.props&&Oe.props.onVnodeBeforeUpdate)&&invokeVNodeHook(Ye,Ne,Oe,Ze),toggleRecurse($,!0);const ut=renderComponentRoot($),At=$.subTree;$.subTree=ut,m(At,ut,r(At.el),Je(At),$,ie,ae),Oe.el=ut.el,Ke===null&&updateHOCHostEl($,ut.el),ke&&queuePostRenderEffect(ke,ie),(Ye=Oe.props&&Oe.props.onVnodeUpdated)&&queuePostRenderEffect(()=>invokeVNodeHook(Ye,Ne,Oe,Ze),ie)}else{let Oe;const{el:Ee,props:ke}=V,{bm:Ne,m:Ze,parent:Ke}=$,Ye=isAsyncWrapper(V);if(toggleRecurse($,!1),Ne&&invokeArrayFns(Ne),!Ye&&(Oe=ke&&ke.onVnodeBeforeMount)&&invokeVNodeHook(Oe,Ke,V),toggleRecurse($,!0),Ee&&ve){const ut=()=>{$.subTree=renderComponentRoot($),ve(Ee,$.subTree,$,ie,null)};Ye?V.type.__asyncLoader().then(()=>!$.isUnmounted&&ut()):ut()}else{const ut=$.subTree=renderComponentRoot($);m(null,ut,W,Q,$,ie,ae),V.el=ut.el}if(Ze&&queuePostRenderEffect(Ze,ie),!Ye&&(Oe=ke&&ke.onVnodeMounted)){const ut=V;queuePostRenderEffect(()=>invokeVNodeHook(Oe,Ke,ut),ie)}(V.shapeFlag&256||Ke&&isAsyncWrapper(Ke.vnode)&&Ke.vnode.shapeFlag&256)&&$.a&&queuePostRenderEffect($.a,ie),$.isMounted=!0,V=W=Q=null}},Te=$.effect=new ReactiveEffect(be,()=>queueJob(pe),$.scope),pe=$.update=()=>Te.run();pe.id=$.uid,toggleRecurse($,!0),pe()},H=($,V,W)=>{V.component=$;const Q=$.vnode.props;$.vnode=V,$.next=null,updateProps($,V.props,Q,W),updateSlots($,V.children,W),pauseTracking(),flushPreFlushCbs(),resetTracking()},le=($,V,W,Q,ie,ae,xe,be,Te=!1)=>{const pe=$&&$.children,Oe=$?$.shapeFlag:0,Ee=V.children,{patchFlag:ke,shapeFlag:Ne}=V;if(ke>0){if(ke&128){Ce(pe,Ee,W,Q,ie,ae,xe,be,Te);return}else if(ke&256){he(pe,Ee,W,Q,ie,ae,xe,be,Te);return}}Ne&8?(Oe&16&&je(pe,ie,ae),Ee!==pe&&c(W,Ee)):Oe&16?Ne&16?Ce(pe,Ee,W,Q,ie,ae,xe,be,Te):je(pe,ie,ae,!0):(Oe&8&&c(W,""),Ne&16&&L(Ee,W,Q,ie,ae,xe,be,Te))},he=($,V,W,Q,ie,ae,xe,be,Te)=>{$=$||EMPTY_ARR,V=V||EMPTY_ARR;const pe=$.length,Oe=V.length,Ee=Math.min(pe,Oe);let ke;for(ke=0;ke<Ee;ke++){const Ne=V[ke]=Te?cloneIfMounted(V[ke]):normalizeVNode(V[ke]);m($[ke],Ne,W,null,ie,ae,xe,be,Te)}pe>Oe?je($,ie,ae,!0,!1,Ee):L(V,W,Q,ie,ae,xe,be,Te,Ee)},Ce=($,V,W,Q,ie,ae,xe,be,Te)=>{let pe=0;const Oe=V.length;let Ee=$.length-1,ke=Oe-1;for(;pe<=Ee&&pe<=ke;){const Ne=$[pe],Ze=V[pe]=Te?cloneIfMounted(V[pe]):normalizeVNode(V[pe]);if(isSameVNodeType(Ne,Ze))m(Ne,Ze,W,null,ie,ae,xe,be,Te);else break;pe++}for(;pe<=Ee&&pe<=ke;){const Ne=$[Ee],Ze=V[ke]=Te?cloneIfMounted(V[ke]):normalizeVNode(V[ke]);if(isSameVNodeType(Ne,Ze))m(Ne,Ze,W,null,ie,ae,xe,be,Te);else break;Ee--,ke--}if(pe>Ee){if(pe<=ke){const Ne=ke+1,Ze=Ne<Oe?V[Ne].el:Q;for(;pe<=ke;)m(null,V[pe]=Te?cloneIfMounted(V[pe]):normalizeVNode(V[pe]),W,Ze,ie,ae,xe,be,Te),pe++}}else if(pe>ke)for(;pe<=Ee;)Pe($[pe],ie,ae,!0),pe++;else{const Ne=pe,Ze=pe,Ke=new Map;for(pe=Ze;pe<=ke;pe++){const Re=V[pe]=Te?cloneIfMounted(V[pe]):normalizeVNode(V[pe]);Re.key!=null&&Ke.set(Re.key,pe)}let Ye,ut=0;const At=ke-Ze+1;let Vt=!1,jt=0;const Ut=new Array(At);for(pe=0;pe<At;pe++)Ut[pe]=0;for(pe=Ne;pe<=Ee;pe++){const Re=$[pe];if(ut>=At){Pe(Re,ie,ae,!0);continue}let xt;if(Re.key!=null)xt=Ke.get(Re.key);else for(Ye=Ze;Ye<=ke;Ye++)if(Ut[Ye-Ze]===0&&isSameVNodeType(Re,V[Ye])){xt=Ye;break}xt===void 0?Pe(Re,ie,ae,!0):(Ut[xt-Ze]=pe+1,xt>=jt?jt=xt:Vt=!0,m(Re,V[xt],W,null,ie,ae,xe,be,Te),ut++)}const Xt=Vt?getSequence(Ut):EMPTY_ARR;for(Ye=Xt.length-1,pe=At-1;pe>=0;pe--){const Re=Ze+pe,xt=V[Re],on=Re+1<Oe?V[Re+1].el:Q;Ut[pe]===0?m(null,xt,W,on,ie,ae,xe,be,Te):Vt&&(Ye<0||pe!==Xt[Ye]?we(xt,W,on,2):Ye--)}}},we=($,V,W,Q,ie=null)=>{const{el:ae,type:xe,transition:be,children:Te,shapeFlag:pe}=$;if(pe&6){we($.component.subTree,V,W,Q);return}if(pe&128){$.suspense.move(V,W,Q);return}if(pe&64){xe.move($,V,W,lt);return}if(xe===Fragment){u(ae,V,W);for(let Ee=0;Ee<Te.length;Ee++)we(Te[Ee],V,W,Q);u($.anchor,V,W);return}if(xe===Static){S($,V,W);return}if(Q!==2&&pe&1&&be)if(Q===0)be.beforeEnter(ae),u(ae,V,W),queuePostRenderEffect(()=>be.enter(ae),ie);else{const{leave:Ee,delayLeave:ke,afterLeave:Ne}=be,Ze=()=>u(ae,V,W),Ke=()=>{Ee(ae,()=>{Ze(),Ne&&Ne()})};ke?ke(ae,Ze,Ke):Ke()}else u(ae,V,W)},Pe=($,V,W,Q=!1,ie=!1)=>{const{type:ae,props:xe,ref:be,children:Te,dynamicChildren:pe,shapeFlag:Oe,patchFlag:Ee,dirs:ke}=$;if(be!=null&&setRef(be,null,W,$,!0),Oe&256){V.ctx.deactivate($);return}const Ne=Oe&1&&ke,Ze=!isAsyncWrapper($);let Ke;if(Ze&&(Ke=xe&&xe.onVnodeBeforeUnmount)&&invokeVNodeHook(Ke,V,$),Oe&6)Me($.component,W,Q);else{if(Oe&128){$.suspense.unmount(W,Q);return}Ne&&invokeDirectiveHook($,null,V,"beforeUnmount"),Oe&64?$.type.remove($,V,W,ie,lt,Q):pe&&(ae!==Fragment||Ee>0&&Ee&64)?je(pe,V,W,!1,!0):(ae===Fragment&&Ee&384||!ie&&Oe&16)&&je(Te,V,W),Q&&Le($)}(Ze&&(Ke=xe&&xe.onVnodeUnmounted)||Ne)&&queuePostRenderEffect(()=>{Ke&&invokeVNodeHook(Ke,V,$),Ne&&invokeDirectiveHook($,null,V,"unmounted")},W)},Le=$=>{const{type:V,el:W,anchor:Q,transition:ie}=$;if(V===Fragment){Be(W,Q);return}if(V===Static){O($);return}const ae=()=>{l(W),ie&&!ie.persisted&&ie.afterLeave&&ie.afterLeave()};if($.shapeFlag&1&&ie&&!ie.persisted){const{leave:xe,delayLeave:be}=ie,Te=()=>xe(W,ae);be?be($.el,ae,Te):Te()}else ae()},Be=($,V)=>{let W;for(;$!==V;)W=e($),l($),$=W;l(V)},Me=($,V,W)=>{const{bum:Q,scope:ie,update:ae,subTree:xe,um:be}=$;Q&&invokeArrayFns(Q),ie.stop(),ae&&(ae.active=!1,Pe(xe,$,V,W)),be&&queuePostRenderEffect(be,V),queuePostRenderEffect(()=>{$.isUnmounted=!0},V),V&&V.pendingBranch&&!V.isUnmounted&&$.asyncDep&&!$.asyncResolved&&$.suspenseId===V.pendingId&&(V.deps--,V.deps===0&&V.resolve())},je=($,V,W,Q=!1,ie=!1,ae=0)=>{for(let xe=ae;xe<$.length;xe++)Pe($[xe],V,W,Q,ie)},Je=$=>$.shapeFlag&6?Je($.component.subTree):$.shapeFlag&128?$.suspense.next():e($.anchor||$.el),it=($,V,W)=>{$==null?V._vnode&&Pe(V._vnode,null,null,!0):m(V._vnode||null,$,V,null,null,null,W),flushPreFlushCbs(),flushPostFlushCbs(),V._vnode=$},lt={p:m,um:Pe,m:we,r:Le,mt:re,mc:L,pc:le,pbc:G,n:Je,o:i};let Dt,ve;return t&&([Dt,ve]=t(lt)),{render:it,hydrate:Dt,createApp:createAppAPI(it,Dt)}}function toggleRecurse({effect:i,update:t},s){i.allowRecurse=t.allowRecurse=s}function needTransition(i,t){return(!i||i&&!i.pendingBranch)&&t&&!t.persisted}function traverseStaticChildren(i,t,s=!1){const u=i.children,l=t.children;if(isArray(u)&&isArray(l))for(let d=0;d<u.length;d++){const y=u[d];let g=l[d];g.shapeFlag&1&&!g.dynamicChildren&&((g.patchFlag<=0||g.patchFlag===32)&&(g=l[d]=cloneIfMounted(l[d]),g.el=y.el),s||traverseStaticChildren(y,g)),g.type===Text&&(g.el=y.el)}}function getSequence(i){const t=i.slice(),s=[0];let u,l,d,y,g;const v=i.length;for(u=0;u<v;u++){const f=i[u];if(f!==0){if(l=s[s.length-1],i[l]<f){t[u]=l,s.push(u);continue}for(d=0,y=s.length-1;d<y;)g=d+y>>1,i[s[g]]<f?d=g+1:y=g;f<i[s[d]]&&(d>0&&(t[u]=s[d-1]),s[d]=u)}}for(d=s.length,y=s[d-1];d-- >0;)s[d]=y,y=t[y];return s}const isTeleport=i=>i.__isTeleport,Fragment=Symbol.for("v-fgt"),Text=Symbol.for("v-txt"),Comment=Symbol.for("v-cmt"),Static=Symbol.for("v-stc"),blockStack=[];let currentBlock=null;function openBlock(i=!1){blockStack.push(currentBlock=i?null:[])}function closeBlock(){blockStack.pop(),currentBlock=blockStack[blockStack.length-1]||null}let isBlockTreeEnabled=1;function setBlockTracking(i){isBlockTreeEnabled+=i}function setupBlock(i){return i.dynamicChildren=isBlockTreeEnabled>0?currentBlock||EMPTY_ARR:null,closeBlock(),isBlockTreeEnabled>0&&currentBlock&&currentBlock.push(i),i}function createElementBlock(i,t,s,u,l,d){return setupBlock(createBaseVNode(i,t,s,u,l,d,!0))}function createBlock(i,t,s,u,l){return setupBlock(createVNode(i,t,s,u,l,!0))}function isVNode(i){return i?i.__v_isVNode===!0:!1}function isSameVNodeType(i,t){return i.type===t.type&&i.key===t.key}const InternalObjectKey="__vInternal",normalizeKey=({key:i})=>i??null,normalizeRef=({ref:i,ref_key:t,ref_for:s})=>(typeof i=="number"&&(i=""+i),i!=null?isString(i)||isRef(i)||isFunction(i)?{i:currentRenderingInstance,r:i,k:t,f:!!s}:i:null);function createBaseVNode(i,t=null,s=null,u=0,l=null,d=i===Fragment?0:1,y=!1,g=!1){const v={__v_isVNode:!0,__v_skip:!0,type:i,props:t,key:t&&normalizeKey(t),ref:t&&normalizeRef(t),scopeId:currentScopeId,slotScopeIds:null,children:s,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:d,patchFlag:u,dynamicProps:l,dynamicChildren:null,appContext:null,ctx:currentRenderingInstance};return g?(normalizeChildren(v,s),d&128&&i.normalize(v)):s&&(v.shapeFlag|=isString(s)?8:16),isBlockTreeEnabled>0&&!y&&currentBlock&&(v.patchFlag>0||d&6)&&v.patchFlag!==32&&currentBlock.push(v),v}const createVNode=_createVNode;function _createVNode(i,t=null,s=null,u=0,l=null,d=!1){if((!i||i===NULL_DYNAMIC_COMPONENT)&&(i=Comment),isVNode(i)){const g=cloneVNode(i,t,!0);return s&&normalizeChildren(g,s),isBlockTreeEnabled>0&&!d&&currentBlock&&(g.shapeFlag&6?currentBlock[currentBlock.indexOf(i)]=g:currentBlock.push(g)),g.patchFlag|=-2,g}if(isClassComponent(i)&&(i=i.__vccOpts),t){t=guardReactiveProps(t);let{class:g,style:v}=t;g&&!isString(g)&&(t.class=normalizeClass(g)),isObject$3(v)&&(isProxy(v)&&!isArray(v)&&(v=extend({},v)),t.style=normalizeStyle(v))}const y=isString(i)?1:isSuspense(i)?128:isTeleport(i)?64:isObject$3(i)?4:isFunction(i)?2:0;return createBaseVNode(i,t,s,u,l,y,d,!0)}function guardReactiveProps(i){return i?isProxy(i)||InternalObjectKey in i?extend({},i):i:null}function cloneVNode(i,t,s=!1){const{props:u,ref:l,patchFlag:d,children:y}=i,g=t?mergeProps(u||{},t):u;return{__v_isVNode:!0,__v_skip:!0,type:i.type,props:g,key:g&&normalizeKey(g),ref:t&&t.ref?s&&l?isArray(l)?l.concat(normalizeRef(t)):[l,normalizeRef(t)]:normalizeRef(t):l,scopeId:i.scopeId,slotScopeIds:i.slotScopeIds,children:y,target:i.target,targetAnchor:i.targetAnchor,staticCount:i.staticCount,shapeFlag:i.shapeFlag,patchFlag:t&&i.type!==Fragment?d===-1?16:d|16:d,dynamicProps:i.dynamicProps,dynamicChildren:i.dynamicChildren,appContext:i.appContext,dirs:i.dirs,transition:i.transition,component:i.component,suspense:i.suspense,ssContent:i.ssContent&&cloneVNode(i.ssContent),ssFallback:i.ssFallback&&cloneVNode(i.ssFallback),el:i.el,anchor:i.anchor,ctx:i.ctx,ce:i.ce}}function createTextVNode(i=" ",t=0){return createVNode(Text,null,i,t)}function createCommentVNode(i="",t=!1){return t?(openBlock(),createBlock(Comment,null,i)):createVNode(Comment,null,i)}function normalizeVNode(i){return i==null||typeof i=="boolean"?createVNode(Comment):isArray(i)?createVNode(Fragment,null,i.slice()):typeof i=="object"?cloneIfMounted(i):createVNode(Text,null,String(i))}function cloneIfMounted(i){return i.el===null&&i.patchFlag!==-1||i.memo?i:cloneVNode(i)}function normalizeChildren(i,t){let s=0;const{shapeFlag:u}=i;if(t==null)t=null;else if(isArray(t))s=16;else if(typeof t=="object")if(u&65){const l=t.default;l&&(l._c&&(l._d=!1),normalizeChildren(i,l()),l._c&&(l._d=!0));return}else{s=32;const l=t._;!l&&!(InternalObjectKey in t)?t._ctx=currentRenderingInstance:l===3&&currentRenderingInstance&&(currentRenderingInstance.slots._===1?t._=1:(t._=2,i.patchFlag|=1024))}else isFunction(t)?(t={default:t,_ctx:currentRenderingInstance},s=32):(t=String(t),u&64?(s=16,t=[createTextVNode(t)]):s=8);i.children=t,i.shapeFlag|=s}function mergeProps(...i){const t={};for(let s=0;s<i.length;s++){const u=i[s];for(const l in u)if(l==="class")t.class!==u.class&&(t.class=normalizeClass([t.class,u.class]));else if(l==="style")t.style=normalizeStyle([t.style,u.style]);else if(isOn(l)){const d=t[l],y=u[l];y&&d!==y&&!(isArray(d)&&d.includes(y))&&(t[l]=d?[].concat(d,y):y)}else l!==""&&(t[l]=u[l])}return t}function invokeVNodeHook(i,t,s,u=null){callWithAsyncErrorHandling(i,t,7,[s,u])}const emptyAppContext=createAppContext();let uid=0;function createComponentInstance(i,t,s){const u=i.type,l=(t?t.appContext:i.appContext)||emptyAppContext,d={uid:uid++,vnode:i,type:u,parent:t,appContext:l,root:null,next:null,subTree:null,effect:null,update:null,scope:new EffectScope(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(l.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:normalizePropsOptions(u,l),emitsOptions:normalizeEmitsOptions(u,l),emit:null,emitted:null,propsDefaults:EMPTY_OBJ,inheritAttrs:u.inheritAttrs,ctx:EMPTY_OBJ,data:EMPTY_OBJ,props:EMPTY_OBJ,attrs:EMPTY_OBJ,slots:EMPTY_OBJ,refs:EMPTY_OBJ,setupState:EMPTY_OBJ,setupContext:null,attrsProxy:null,slotsProxy:null,suspense:s,suspenseId:s?s.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return d.ctx={_:d},d.root=t?t.root:d,d.emit=emit.bind(null,d),i.ce&&i.ce(d),d}let currentInstance=null;const getCurrentInstance=()=>currentInstance||currentRenderingInstance;let internalSetCurrentInstance,globalCurrentInstanceSetters,settersKey="__VUE_INSTANCE_SETTERS__";(globalCurrentInstanceSetters=getGlobalThis()[settersKey])||(globalCurrentInstanceSetters=getGlobalThis()[settersKey]=[]),globalCurrentInstanceSetters.push(i=>currentInstance=i),internalSetCurrentInstance=i=>{globalCurrentInstanceSetters.length>1?globalCurrentInstanceSetters.forEach(t=>t(i)):globalCurrentInstanceSetters[0](i)};const setCurrentInstance=i=>{internalSetCurrentInstance(i),i.scope.on()},unsetCurrentInstance=()=>{currentInstance&&currentInstance.scope.off(),internalSetCurrentInstance(null)};function isStatefulComponent(i){return i.vnode.shapeFlag&4}let isInSSRComponentSetup=!1;function setupComponent(i,t=!1){isInSSRComponentSetup=t;const{props:s,children:u}=i.vnode,l=isStatefulComponent(i);initProps(i,s,l,t),initSlots(i,u);const d=l?setupStatefulComponent(i,t):void 0;return isInSSRComponentSetup=!1,d}function setupStatefulComponent(i,t){const s=i.type;i.accessCache=Object.create(null),i.proxy=markRaw(new Proxy(i.ctx,PublicInstanceProxyHandlers));const{setup:u}=s;if(u){const l=i.setupContext=u.length>1?createSetupContext(i):null;setCurrentInstance(i),pauseTracking();const d=callWithErrorHandling(u,i,0,[i.props,l]);if(resetTracking(),unsetCurrentInstance(),isPromise(d)){if(d.then(unsetCurrentInstance,unsetCurrentInstance),t)return d.then(y=>{handleSetupResult(i,y,t)}).catch(y=>{handleError(y,i,0)});i.asyncDep=d}else handleSetupResult(i,d,t)}else finishComponentSetup(i,t)}function handleSetupResult(i,t,s){isFunction(t)?i.type.__ssrInlineRender?i.ssrRender=t:i.render=t:isObject$3(t)&&(i.setupState=proxyRefs(t)),finishComponentSetup(i,s)}let compile;function finishComponentSetup(i,t,s){const u=i.type;if(!i.render){if(!t&&compile&&!u.render){const l=u.template||resolveMergedOptions(i).template;if(l){const{isCustomElement:d,compilerOptions:y}=i.appContext.config,{delimiters:g,compilerOptions:v}=u,f=extend(extend({isCustomElement:d,delimiters:g},y),v);u.render=compile(l,f)}}i.render=u.render||NOOP}{setCurrentInstance(i),pauseTracking();try{applyOptions(i)}finally{resetTracking(),unsetCurrentInstance()}}}function getAttrsProxy(i){return i.attrsProxy||(i.attrsProxy=new Proxy(i.attrs,{get(t,s){return track(i,"get","$attrs"),t[s]}}))}function createSetupContext(i){const t=s=>{i.exposed=s||{}};return{get attrs(){return getAttrsProxy(i)},slots:i.slots,emit:i.emit,expose:t}}function getExposeProxy(i){if(i.exposed)return i.exposeProxy||(i.exposeProxy=new Proxy(proxyRefs(markRaw(i.exposed)),{get(t,s){if(s in t)return t[s];if(s in publicPropertiesMap)return publicPropertiesMap[s](i)},has(t,s){return s in t||s in publicPropertiesMap}}))}function isClassComponent(i){return isFunction(i)&&"__vccOpts"in i}const computed=(i,t)=>computed$1(i,t,isInSSRComponentSetup);function h(i,t,s){const u=arguments.length;return u===2?isObject$3(t)&&!isArray(t)?isVNode(t)?createVNode(i,null,[t]):createVNode(i,t):createVNode(i,null,t):(u>3?s=Array.prototype.slice.call(arguments,2):u===3&&isVNode(s)&&(s=[s]),createVNode(i,t,s))}const ssrContextKey=Symbol.for("v-scx"),useSSRContext=()=>inject(ssrContextKey),version="3.3.8",svgNS="http://www.w3.org/2000/svg",doc=typeof document<"u"?document:null,templateContainer=doc&&doc.createElement("template"),nodeOps={insert:(i,t,s)=>{t.insertBefore(i,s||null)},remove:i=>{const t=i.parentNode;t&&t.removeChild(i)},createElement:(i,t,s,u)=>{const l=t?doc.createElementNS(svgNS,i):doc.createElement(i,s?{is:s}:void 0);return i==="select"&&u&&u.multiple!=null&&l.setAttribute("multiple",u.multiple),l},createText:i=>doc.createTextNode(i),createComment:i=>doc.createComment(i),setText:(i,t)=>{i.nodeValue=t},setElementText:(i,t)=>{i.textContent=t},parentNode:i=>i.parentNode,nextSibling:i=>i.nextSibling,querySelector:i=>doc.querySelector(i),setScopeId(i,t){i.setAttribute(t,"")},insertStaticContent(i,t,s,u,l,d){const y=s?s.previousSibling:t.lastChild;if(l&&(l===d||l.nextSibling))for(;t.insertBefore(l.cloneNode(!0),s),!(l===d||!(l=l.nextSibling)););else{templateContainer.innerHTML=u?`<svg>${i}</svg>`:i;const g=templateContainer.content;if(u){const v=g.firstChild;for(;v.firstChild;)g.appendChild(v.firstChild);g.removeChild(v)}t.insertBefore(g,s)}return[y?y.nextSibling:t.firstChild,s?s.previousSibling:t.lastChild]}},TRANSITION="transition",ANIMATION="animation",vtcKey=Symbol("_vtc"),Transition=(i,{slots:t})=>h(BaseTransition,resolveTransitionProps(i),t);Transition.displayName="Transition";const DOMTransitionPropsValidators={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String};Transition.props=extend({},BaseTransitionPropsValidators,DOMTransitionPropsValidators);const callHook=(i,t=[])=>{isArray(i)?i.forEach(s=>s(...t)):i&&i(...t)},hasExplicitCallback=i=>i?isArray(i)?i.some(t=>t.length>1):i.length>1:!1;function resolveTransitionProps(i){const t={};for(const Y in i)Y in DOMTransitionPropsValidators||(t[Y]=i[Y]);if(i.css===!1)return t;const{name:s="v",type:u,duration:l,enterFromClass:d=`${s}-enter-from`,enterActiveClass:y=`${s}-enter-active`,enterToClass:g=`${s}-enter-to`,appearFromClass:v=d,appearActiveClass:f=y,appearToClass:c=g,leaveFromClass:r=`${s}-leave-from`,leaveActiveClass:e=`${s}-leave-active`,leaveToClass:n=`${s}-leave-to`}=i,o=normalizeDuration(l),m=o&&o[0],_=o&&o[1],{onBeforeEnter:x,onEnter:w,onEnterCancelled:S,onLeave:O,onLeaveCancelled:A,onBeforeAppear:I=x,onAppear:P=w,onAppearCancelled:L=S}=t,U=(Y,F,re)=>{removeTransitionClass(Y,F?c:g),removeTransitionClass(Y,F?f:y),re&&re()},G=(Y,F)=>{Y._isLeaving=!1,removeTransitionClass(Y,r),removeTransitionClass(Y,n),removeTransitionClass(Y,e),F&&F()},te=Y=>(F,re)=>{const R=Y?P:w,M=()=>U(F,Y,re);callHook(R,[F,M]),nextFrame(()=>{removeTransitionClass(F,Y?v:d),addTransitionClass(F,Y?c:g),hasExplicitCallback(R)||whenTransitionEnds(F,u,m,M)})};return extend(t,{onBeforeEnter(Y){callHook(x,[Y]),addTransitionClass(Y,d),addTransitionClass(Y,y)},onBeforeAppear(Y){callHook(I,[Y]),addTransitionClass(Y,v),addTransitionClass(Y,f)},onEnter:te(!1),onAppear:te(!0),onLeave(Y,F){Y._isLeaving=!0;const re=()=>G(Y,F);addTransitionClass(Y,r),forceReflow(),addTransitionClass(Y,e),nextFrame(()=>{Y._isLeaving&&(removeTransitionClass(Y,r),addTransitionClass(Y,n),hasExplicitCallback(O)||whenTransitionEnds(Y,u,_,re))}),callHook(O,[Y,re])},onEnterCancelled(Y){U(Y,!1),callHook(S,[Y])},onAppearCancelled(Y){U(Y,!0),callHook(L,[Y])},onLeaveCancelled(Y){G(Y),callHook(A,[Y])}})}function normalizeDuration(i){if(i==null)return null;if(isObject$3(i))return[NumberOf(i.enter),NumberOf(i.leave)];{const t=NumberOf(i);return[t,t]}}function NumberOf(i){return toNumber$2(i)}function addTransitionClass(i,t){t.split(/\s+/).forEach(s=>s&&i.classList.add(s)),(i[vtcKey]||(i[vtcKey]=new Set)).add(t)}function removeTransitionClass(i,t){t.split(/\s+/).forEach(u=>u&&i.classList.remove(u));const s=i[vtcKey];s&&(s.delete(t),s.size||(i[vtcKey]=void 0))}function nextFrame(i){requestAnimationFrame(()=>{requestAnimationFrame(i)})}let endId=0;function whenTransitionEnds(i,t,s,u){const l=i._endId=++endId,d=()=>{l===i._endId&&u()};if(s)return setTimeout(d,s);const{type:y,timeout:g,propCount:v}=getTransitionInfo(i,t);if(!y)return u();const f=y+"end";let c=0;const r=()=>{i.removeEventListener(f,e),d()},e=n=>{n.target===i&&++c>=v&&r()};setTimeout(()=>{c<v&&r()},g+1),i.addEventListener(f,e)}function getTransitionInfo(i,t){const s=window.getComputedStyle(i),u=o=>(s[o]||"").split(", "),l=u(`${TRANSITION}Delay`),d=u(`${TRANSITION}Duration`),y=getTimeout(l,d),g=u(`${ANIMATION}Delay`),v=u(`${ANIMATION}Duration`),f=getTimeout(g,v);let c=null,r=0,e=0;t===TRANSITION?y>0&&(c=TRANSITION,r=y,e=d.length):t===ANIMATION?f>0&&(c=ANIMATION,r=f,e=v.length):(r=Math.max(y,f),c=r>0?y>f?TRANSITION:ANIMATION:null,e=c?c===TRANSITION?d.length:v.length:0);const n=c===TRANSITION&&/\b(transform|all)(,|$)/.test(u(`${TRANSITION}Property`).toString());return{type:c,timeout:r,propCount:e,hasTransform:n}}function getTimeout(i,t){for(;i.length<t.length;)i=i.concat(i);return Math.max(...t.map((s,u)=>toMs(s)+toMs(i[u])))}function toMs(i){return i==="auto"?0:Number(i.slice(0,-1).replace(",","."))*1e3}function forceReflow(){return document.body.offsetHeight}function patchClass(i,t,s){const u=i[vtcKey];u&&(t=(t?[t,...u]:[...u]).join(" ")),t==null?i.removeAttribute("class"):s?i.setAttribute("class",t):i.className=t}const vShowOldKey=Symbol("_vod"),vShow={beforeMount(i,{value:t},{transition:s}){i[vShowOldKey]=i.style.display==="none"?"":i.style.display,s&&t?s.beforeEnter(i):setDisplay(i,t)},mounted(i,{value:t},{transition:s}){s&&t&&s.enter(i)},updated(i,{value:t,oldValue:s},{transition:u}){!t!=!s&&(u?t?(u.beforeEnter(i),setDisplay(i,!0),u.enter(i)):u.leave(i,()=>{setDisplay(i,!1)}):setDisplay(i,t))},beforeUnmount(i,{value:t}){setDisplay(i,t)}};function setDisplay(i,t){i.style.display=t?i[vShowOldKey]:"none"}function patchStyle(i,t,s){const u=i.style,l=isString(s);if(s&&!l){if(t&&!isString(t))for(const d in t)s[d]==null&&setStyle(u,d,"");for(const d in s)setStyle(u,d,s[d])}else{const d=u.display;l?t!==s&&(u.cssText=s):t&&i.removeAttribute("style"),vShowOldKey in i&&(u.display=d)}}const importantRE=/\s*!important$/;function setStyle(i,t,s){if(isArray(s))s.forEach(u=>setStyle(i,t,u));else if(s==null&&(s=""),t.startsWith("--"))i.setProperty(t,s);else{const u=autoPrefix(i,t);importantRE.test(s)?i.setProperty(hyphenate(u),s.replace(importantRE,""),"important"):i[u]=s}}const prefixes=["Webkit","Moz","ms"],prefixCache={};function autoPrefix(i,t){const s=prefixCache[t];if(s)return s;let u=camelize(t);if(u!=="filter"&&u in i)return prefixCache[t]=u;u=capitalize(u);for(let l=0;l<prefixes.length;l++){const d=prefixes[l]+u;if(d in i)return prefixCache[t]=d}return t}const xlinkNS="http://www.w3.org/1999/xlink";function patchAttr(i,t,s,u,l){if(u&&t.startsWith("xlink:"))s==null?i.removeAttributeNS(xlinkNS,t.slice(6,t.length)):i.setAttributeNS(xlinkNS,t,s);else{const d=isSpecialBooleanAttr(t);s==null||d&&!includeBooleanAttr(s)?i.removeAttribute(t):i.setAttribute(t,d?"":s)}}function patchDOMProp(i,t,s,u,l,d,y){if(t==="innerHTML"||t==="textContent"){u&&y(u,l,d),i[t]=s??"";return}const g=i.tagName;if(t==="value"&&g!=="PROGRESS"&&!g.includes("-")){i._value=s;const f=g==="OPTION"?i.getAttribute("value"):i.value,c=s??"";f!==c&&(i.value=c),s==null&&i.removeAttribute(t);return}let v=!1;if(s===""||s==null){const f=typeof i[t];f==="boolean"?s=includeBooleanAttr(s):s==null&&f==="string"?(s="",v=!0):f==="number"&&(s=0,v=!0)}try{i[t]=s}catch{}v&&i.removeAttribute(t)}function addEventListener(i,t,s,u){i.addEventListener(t,s,u)}function removeEventListener(i,t,s,u){i.removeEventListener(t,s,u)}const veiKey=Symbol("_vei");function patchEvent(i,t,s,u,l=null){const d=i[veiKey]||(i[veiKey]={}),y=d[t];if(u&&y)y.value=u;else{const[g,v]=parseName(t);if(u){const f=d[t]=createInvoker(u,l);addEventListener(i,g,f,v)}else y&&(removeEventListener(i,g,y,v),d[t]=void 0)}}const optionsModifierRE=/(?:Once|Passive|Capture)$/;function parseName(i){let t;if(optionsModifierRE.test(i)){t={};let u;for(;u=i.match(optionsModifierRE);)i=i.slice(0,i.length-u[0].length),t[u[0].toLowerCase()]=!0}return[i[2]===":"?i.slice(3):hyphenate(i.slice(2)),t]}let cachedNow=0;const p=Promise.resolve(),getNow=()=>cachedNow||(p.then(()=>cachedNow=0),cachedNow=Date.now());function createInvoker(i,t){const s=u=>{if(!u._vts)u._vts=Date.now();else if(u._vts<=s.attached)return;callWithAsyncErrorHandling(patchStopImmediatePropagation(u,s.value),t,5,[u])};return s.value=i,s.attached=getNow(),s}function patchStopImmediatePropagation(i,t){if(isArray(t)){const s=i.stopImmediatePropagation;return i.stopImmediatePropagation=()=>{s.call(i),i._stopped=!0},t.map(u=>l=>!l._stopped&&u&&u(l))}else return t}const nativeOnRE=/^on[a-z]/,patchProp=(i,t,s,u,l=!1,d,y,g,v)=>{t==="class"?patchClass(i,u,l):t==="style"?patchStyle(i,s,u):isOn(t)?isModelListener(t)||patchEvent(i,t,s,u,y):(t[0]==="."?(t=t.slice(1),!0):t[0]==="^"?(t=t.slice(1),!1):shouldSetAsProp(i,t,u,l))?patchDOMProp(i,t,u,d,y,g,v):(t==="true-value"?i._trueValue=u:t==="false-value"&&(i._falseValue=u),patchAttr(i,t,u,l))};function shouldSetAsProp(i,t,s,u){return u?!!(t==="innerHTML"||t==="textContent"||t in i&&nativeOnRE.test(t)&&isFunction(s)):t==="spellcheck"||t==="draggable"||t==="translate"||t==="form"||t==="list"&&i.tagName==="INPUT"||t==="type"&&i.tagName==="TEXTAREA"||nativeOnRE.test(t)&&isString(s)?!1:t in i}const getModelAssigner=i=>{const t=i.props["onUpdate:modelValue"]||!1;return isArray(t)?s=>invokeArrayFns(t,s):t};function onCompositionStart(i){i.target.composing=!0}function onCompositionEnd(i){const t=i.target;t.composing&&(t.composing=!1,t.dispatchEvent(new Event("input")))}const assignKey=Symbol("_assign"),vModelText={created(i,{modifiers:{lazy:t,trim:s,number:u}},l){i[assignKey]=getModelAssigner(l);const d=u||l.props&&l.props.type==="number";addEventListener(i,t?"change":"input",y=>{if(y.target.composing)return;let g=i.value;s&&(g=g.trim()),d&&(g=looseToNumber(g)),i[assignKey](g)}),s&&addEventListener(i,"change",()=>{i.value=i.value.trim()}),t||(addEventListener(i,"compositionstart",onCompositionStart),addEventListener(i,"compositionend",onCompositionEnd),addEventListener(i,"change",onCompositionEnd))},mounted(i,{value:t}){i.value=t??""},beforeUpdate(i,{value:t,modifiers:{lazy:s,trim:u,number:l}},d){if(i[assignKey]=getModelAssigner(d),i.composing||document.activeElement===i&&i.type!=="range"&&(s||u&&i.value.trim()===t||(l||i.type==="number")&&looseToNumber(i.value)===t))return;const y=t??"";i.value!==y&&(i.value=y)}},vModelCheckbox={deep:!0,created(i,t,s){i[assignKey]=getModelAssigner(s),addEventListener(i,"change",()=>{const u=i._modelValue,l=getValue(i),d=i.checked,y=i[assignKey];if(isArray(u)){const g=looseIndexOf(u,l),v=g!==-1;if(d&&!v)y(u.concat(l));else if(!d&&v){const f=[...u];f.splice(g,1),y(f)}}else if(isSet(u)){const g=new Set(u);d?g.add(l):g.delete(l),y(g)}else y(getCheckboxValue(i,d))})},mounted:setChecked,beforeUpdate(i,t,s){i[assignKey]=getModelAssigner(s),setChecked(i,t,s)}};function setChecked(i,{value:t,oldValue:s},u){i._modelValue=t,isArray(t)?i.checked=looseIndexOf(t,u.props.value)>-1:isSet(t)?i.checked=t.has(u.props.value):t!==s&&(i.checked=looseEqual(t,getCheckboxValue(i,!0)))}function getValue(i){return"_value"in i?i._value:i.value}function getCheckboxValue(i,t){const s=t?"_trueValue":"_falseValue";return s in i?i[s]:t}const systemModifiers=["ctrl","shift","alt","meta"],modifierGuards={stop:i=>i.stopPropagation(),prevent:i=>i.preventDefault(),self:i=>i.target!==i.currentTarget,ctrl:i=>!i.ctrlKey,shift:i=>!i.shiftKey,alt:i=>!i.altKey,meta:i=>!i.metaKey,left:i=>"button"in i&&i.button!==0,middle:i=>"button"in i&&i.button!==1,right:i=>"button"in i&&i.button!==2,exact:(i,t)=>systemModifiers.some(s=>i[`${s}Key`]&&!t.includes(s))},withModifiers=(i,t)=>(s,...u)=>{for(let l=0;l<t.length;l++){const d=modifierGuards[t[l]];if(d&&d(s,t))return}return i(s,...u)},keyNames={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},withKeys=(i,t)=>s=>{if(!("key"in s))return;const u=hyphenate(s.key);if(t.some(l=>l===u||keyNames[l]===u))return i(s)},rendererOptions=extend({patchProp},nodeOps);let renderer;function ensureRenderer(){return renderer||(renderer=createRenderer(rendererOptions))}const createApp=(...i)=>{const t=ensureRenderer().createApp(...i),{mount:s}=t;return t.mount=u=>{const l=normalizeContainer(u);if(!l)return;const d=t._component;!isFunction(d)&&!d.render&&!d.template&&(d.template=l.innerHTML),l.innerHTML="";const y=s(l,!1,l instanceof SVGElement);return l instanceof Element&&(l.removeAttribute("v-cloak"),l.setAttribute("data-v-app","")),y},t};function normalizeContainer(i){return isString(i)?document.querySelector(i):i}const _imports_0="/logo.png",allColors=[{text:"transparent",colorValue:"transparent",uuid:"4ce66a56"},{text:"Abaddon Black Citadel - Base Layer",colorValue:"#010100",uuid:"34c4f448"},{text:"Administratum Grey Citadel - Base Layer",colorValue:"#9da299",uuid:"97bec853"},{text:"Ahriman Blue Citadel - Base Layer",colorValue:"#1F8C9C",uuid:"5d4443cb"},{text:"Alaitoc Blue Citadel - Base Layer",colorValue:"#2e5689",uuid:"ef62d76b"},{text:"Alien Purple Army Painter",colorValue:"#50317b",uuid:"0fce4a2d"},{text:"Altdorf Guard Blue Citadel - Base Layer",colorValue:"#274b9b",uuid:"f7a42f55"},{text:"Angel Green Army Painter",colorValue:"#0c391d",uuid:"166c5149"},{text:"Arcane Blue P3 Formula",colorValue:"#7acfd9",uuid:"b64ebf22"},{text:"Army Green Army Painter",colorValue:"#6e7645",uuid:"971cdc7e"},{text:"Ash Grey Army Painter",colorValue:"#a2a5a4",uuid:"b482ed46"},{text:"Averland Sunset Citadel - Base Layer",colorValue:"#fbba00",uuid:"d0121320"},{text:"Azure Vallejo - Model",colorValue:"#717cad",uuid:"b8b7d678"},{text:"Babe Blonde Army Painter",colorValue:"#f8dd0d",uuid:"dc9caa26"},{text:"Baharroth Blue Citadel - Edge",colorValue:"#58C1CD",uuid:"e1940e62"},{text:"Balor Brown Citadel - Base Layer",colorValue:"#915e02",uuid:"994757d9"},{text:"Baneblade Brown Citadel - Base Layer",colorValue:"#99826b",uuid:"543506e5"},{text:"Barbarian Flesh Army Painter",colorValue:"#e89c6c",uuid:"fd45c262"},{text:"Bastion Grey P3 Formula",colorValue:"#777965",uuid:"e9a6ff08"},{text:"Battledress Green P3 Formula",colorValue:"#757232",uuid:"0933f511"},{text:"Battlefield Brown P3 Formula",colorValue:"#32251c",uuid:"886bff6c"},{text:"Beast Hide P3 Formula",colorValue:"#b1956b",uuid:"06328030"},{text:"Beasty Brown Vallejo - Game",colorValue:"#55432d",uuid:"a77cc318"},{text:"Beaten Purple P3 Formula",colorValue:"#552a72",uuid:"132d3fdc"},{text:"Beige Red Vallejo - Model",colorValue:"#c79166",uuid:"7fe51828"},{text:"Beige Vallejo - Model",colorValue:"#dbc58e",uuid:"14f9d4dd"},{text:"Bestigor Flesh Citadel - Base Layer",colorValue:"#D38A57",uuid:"1110e165"},{text:"Black Green Vallejo - Model",colorValue:"#19423e",uuid:"68ea3ccf"},{text:"Black Vallejo - Game",colorValue:"#000000",uuid:"e52576e9"},{text:"Bloodstone P3 Formula",colorValue:"#9e4822",uuid:"61c1e24e"},{text:"Bloodtracker Brown P3 Formula",colorValue:"#a66a28",uuid:"b66e2ff9"},{text:"Bloody Red Vallejo - Game",colorValue:"#bf282e",uuid:"fa49073d"},{text:"Blue Green Vallejo - Model",colorValue:"#1a9496",uuid:"cb340deb"},{text:"Blue Grey Pale Vallejo - Model",colorValue:"#9ea7a5",uuid:"cc6e4fbf"},{text:"Blue Horror Citadel - Edge",colorValue:"#A2BAD2",uuid:"15d7f536"},{text:"Blue Vallejo - Model",colorValue:"#043667",uuid:"39f987eb"},{text:"Blue Violet Vallejo - Model",colorValue:"#795c9a",uuid:"11530dbd"},{text:"Bone White Vallejo - Game",colorValue:"#e8be86",uuid:"5dbd0f5c"},{text:"Bootstrap Leather P3 Formula",colorValue:"#956939",uuid:"9ceec961"},{text:"Bright Orange Vallejo - Model",colorValue:"#f26833",uuid:"346a6c29"},{text:"Bronze Fleshtone Vallejo - Game",colorValue:"#db945c",uuid:"0b25b419"},{text:"Buff Vallejo - Model",colorValue:"#d2ca9f",uuid:"d3868889"},{text:"Bugmans Glow Citadel - Base Layer",colorValue:"#8c5144",uuid:"c8d65d54"},{text:"Burnt Umber Vallejo - Model",colorValue:"#665148",uuid:"96ab5f1c"},{text:"Cadian Fleshtone Citadel - Base Layer",colorValue:"#cb7953",uuid:"fcd0e2b4"},{text:"Caledor Sky Citadel - Base Layer",colorValue:"#38689c",uuid:"f88a6148"},{text:"Calgar Blue Citadel - Base Layer",colorValue:"#456eb5",uuid:"a8092306"},{text:"Caliban Green Citadel - Base Layer",colorValue:"#003b1d",uuid:"610207c4"},{text:"Camoflage Green Vallejo - Game",colorValue:"#71753a",uuid:"74a76fe3"},{text:"Carmine Red Vallejo - Model",colorValue:"#b73035",uuid:"971e7e3a"},{text:"Carnal Pink P3 Formula",colorValue:"#fae2ec",uuid:"87ff293a"},{text:"Castellan Green Citadel - Base Layer",colorValue:"#384d20",uuid:"706151ca"},{text:"Cavalry Brown Vallejo - Model",colorValue:"#853f3d",uuid:"c239d289"},{text:"Cayman Green Vallejo - Game",colorValue:"#285648",uuid:"30f515ad"},{text:"Celestra Grey Citadel - Base Layer",colorValue:"#9caeae",uuid:"bd886934"},{text:"Centaur Skin Army Painter",colorValue:"#deaba0",uuid:"a612cddf"},{text:"Ceramite White Citadel - Base Layer",colorValue:"#ffffff",uuid:"588c280b"},{text:"Chaotic Red Army Painter",colorValue:"#6c1e10",uuid:"4cef49b6"},{text:"Charred Brown Vallejo - Game",colorValue:"#39343b",uuid:"1a4fa608"},{text:"Coal Black P3 Formula",colorValue:"#005a61",uuid:"709e768e"},{text:"Cold Grey Vallejo - Game",colorValue:"#54646d",uuid:"324faeac"},{text:"Combat Fatigue Army Painter",colorValue:"#878e5c",uuid:"c7a9a712"},{text:"Commando Green Army Painter",colorValue:"#827b39",uuid:"87e473bc"},{text:"Corpse Pale Army Painter",colorValue:"#edccad",uuid:"843bbc1e"},{text:"Crystal Blue Army Painter",colorValue:"#0083c2",uuid:"abd900c3"},{text:"Cryx Bane Base P3 Formula",colorValue:"#303924",uuid:"951b8062"},{text:"Cryx Bane Highlight P3 Formula",colorValue:"#93907d",uuid:"598d572b"},{text:"Cultist Robe Army Painter",colorValue:"#756e60",uuid:"a191fab7"},{text:"Cygnar Base Blue P3 Formula",colorValue:"#124b9b",uuid:"02299629"},{text:"Cygnar Blue Highlight P3 Formula",colorValue:"#1f75bb",uuid:"43287708"},{text:"Cygnus Yellow P3 Formula",colorValue:"#f3e72e",uuid:"5a4204dd"},{text:"Daemonette Hide Citadel - Base Layer",colorValue:"#696685",uuid:"2da473ef"},{text:"Daemonic Yellow Army Painter",colorValue:"#fada06",uuid:"51b87b30"},{text:"Dark Flesh Vallejo - Model",colorValue:"#d9a262",uuid:"6bfd92fd"},{text:"Dark Fleshtone Vallejo - Game",colorValue:"#4f2b26",uuid:"883c64ca"},{text:"Dark Green Vallejo - Game",colorValue:"#083c2a",uuid:"51fd05ad"},{text:"Dark Prussian Blue Vallejo - Model",colorValue:"#192c43",uuid:"a49f6c88"},{text:"Dark Reaper Citadel - Base Layer",colorValue:"#3B5150",uuid:"5775b3fe"},{text:"Dark Red Vallejo - Model",colorValue:"#a24a46",uuid:"0e8968bd"},{text:"Dark Sea Grey Vallejo - Model",colorValue:"#787d7a",uuid:"a810d6a7"},{text:"Dark Sky Army Painter",colorValue:"#2b4b5f",uuid:"a1d297c7"},{text:"Dark Stone Army Painter",colorValue:"#605752",uuid:"bce6839f"},{text:"Dark Yellow Vallejo - Model",colorValue:"#9d9059",uuid:"179b73e0"},{text:"Dawnstone Citadel - Base Layer",colorValue:"#7b7e74",uuid:"2691d331"},{text:"Dead Flesh Vallejo - Game",colorValue:"#bcb686",uuid:"c3d46fa2"},{text:"Dead White Vallejo - Game",colorValue:"#ffffff",uuid:"c08a3ccc"},{text:"Death Guard Armor Citadel - Base Layer",colorValue:"#848A66",uuid:"4d95f3ef"},{text:"Death World Forest Citadel - Base Layer",colorValue:"#666c2d",uuid:"d5b0ee1f"},{text:"Deathclaw Brown Citadel - Base Layer",colorValue:"#ba6952",uuid:"4b4fc710"},{text:"Dechala Lilac Citadel - Edge",colorValue:"#B69FCC",uuid:"6ded33de"},{text:"Deep Blue Army Painter",colorValue:"#083251",uuid:"ed4e511d"},{text:"Deep Sky Blue Vallejo - Model",colorValue:"#00a6da",uuid:"aec12c36"},{text:"Deep Yellow Vallejo - Model",colorValue:"#ffe30c",uuid:"6fc21585"},{text:"Dirt Spatter Army Painter",colorValue:"#5e3827",uuid:"6d02e876"},{text:"Doombull Brown Citadel - Base Layer",colorValue:"#5e0605",uuid:"0f713d72"},{text:"Dorn Yellow Citadel - Edge",colorValue:"#FFF200",uuid:"ae0811fc"},{text:"Dragon Red Army Painter",colorValue:"#9a1b1e",uuid:"3007bdf5"},{text:"Drake Tooth Army Painter",colorValue:"#cfcbb4",uuid:"bacb72cd"},{text:"Dryad Bark Citadel - Base Layer",colorValue:"#3b342e",uuid:"04cdd5b9"},{text:"Dungeon Grey Army Painter",colorValue:"#686c71",uuid:"6d0f7977"},{text:"Dwarf Skin Vallejo - Game",colorValue:"#cc7c67",uuid:"7ebd66d4"},{text:"Electric Blue Vallejo - Game",colorValue:"#008cbf",uuid:"ae365d50"},{text:"Elemental Bolt Army Painter",colorValue:"#009a82",uuid:"5044f842"},{text:"Elf Green Army Painter",colorValue:"#495122",uuid:"9be91bcf"},{text:"Elfic Flesh Vallejo - Game",colorValue:"#cdc29c",uuid:"7700b812"},{text:"Elysian Green Citadel - Base Layer",colorValue:"#81932e",uuid:"1c591854"},{text:"Emperors Children Citadel - Base Layer",colorValue:"#bd3f75",uuid:"9fb46d3c"},{text:"English Uniform Vallejo - Model",colorValue:"#715833",uuid:"02b4f0aa"},{text:"Eshin Grey Citadel - Base Layer",colorValue:"#535659",uuid:"4f53c697"},{text:"Evil Suns Scarlet Citadel - Base Layer",colorValue:"#c00b0c",uuid:"4938270f"},{text:"Exile Blue P3 Formula",colorValue:"#203367",uuid:"8549c9aa"},{text:"Fenrisian Grey Citadel - Base Layer",colorValue:"#789ebb",uuid:"a7994490"},{text:"Field Blue Vallejo - Model",colorValue:"#436872",uuid:"b2c5560e"},{text:"Field Grey Army Painter",colorValue:"#787c78",uuid:"156ce0cc"},{text:"Filthy Cape Army Painter",colorValue:"#7c7863",uuid:"55136d2c"},{text:"Fire Dragon Bright Citadel - Base Layer",colorValue:"#f1844a",uuid:"8d4f48b9"},{text:"Fire Lizard Army Painter",colorValue:"#d67128",uuid:"6208f430"},{text:"Flash Gitz Yellow Citadel - Base Layer",colorValue:"#ffee00",uuid:"16cedbe8"},{text:"Flat Blue Vallejo - Model",colorValue:"#336991",uuid:"390dce44"},{text:"Flat Earth Vallejo - Model",colorValue:"#87643c",uuid:"bfb14673"},{text:"Flat Flesh Vallejo - Model",colorValue:"#d8a977",uuid:"d724baf0"},{text:"Flat Green Vallejo - Model",colorValue:"#2a6531",uuid:"3fe8d7f6"},{text:"Flat Red Vallejo - Model",colorValue:"#aa3037",uuid:"2a4f68fb"},{text:"Flayed One Flesh Citadel - Base Layer",colorValue:"#f3ca8a",uuid:"e03aba66"},{text:"Foul Green Vallejo - Game",colorValue:"#239378",uuid:"d9f2cf00"},{text:"French Mirage Blue Vallejo - Model",colorValue:"#557880",uuid:"814a345d"},{text:"Fulgrim Pink Citadel - Edge",colorValue:"#F4AFCD",uuid:"8e256119"},{text:"Gauss Blaster Green Citadel - Edge",colorValue:"#84C3AA",uuid:"f276d784"},{text:"Genestealer Purple Citadel - Base Layer",colorValue:"#7c5ca4",uuid:"17895ab7"},{text:"German Camoflage Black Brown Vallejo - Model",colorValue:"#553528",uuid:"a46cde51"},{text:"German Camoflage Medium Brown Vallejo - Model",colorValue:"#722b2f",uuid:"c254217a"},{text:"German Camoflage Pale Brown Vallejo - Model",colorValue:"#82685e",uuid:"eba782f6"},{text:"Ghost Grey Vallejo - Game",colorValue:"#a7c5db",uuid:"4583dc93"},{text:"Glossy Black Vallejo - Model",colorValue:"#010101",uuid:"b6a077f3"},{text:"Gnarls Green P3 Formula",colorValue:"#126232",uuid:"725cd390"},{text:"Goblin Green Army Painter",colorValue:"#348941",uuid:"1f3a213d"},{text:"Goblin Green Vallejo - Game",colorValue:"#23743c",uuid:"5f94d59f"},{text:"Gold Brown Vallejo - Model",colorValue:"#ba8636",uuid:"dedee7b4"},{text:"Gold Yellow Vallejo - Game",colorValue:"#fdb318",uuid:"f7285e26"},{text:"Golden Olive Vallejo - Model",colorValue:"#78923b",uuid:"a8cb07c5"},{text:"Golden Yellow Vallejo - Model",colorValue:"#f7c65e",uuid:"55f38043"},{text:"Gorgon Hide Army Painter",colorValue:"#c7d2e4",uuid:"52e7c30c"},{text:"Gorthor Brown Citadel - Base Layer",colorValue:"#6e4e46",uuid:"26383882"},{text:"Gory Red Vallejo - Game",colorValue:"#810504",uuid:"5616d0d9"},{text:"Greatcoat Grey P3 Formula",colorValue:"#4d5861",uuid:"09c73044"},{text:"Green Grey Vallejo - Model",colorValue:"#827e61",uuid:"d86a4665"},{text:"Greenskin Army Painter",colorValue:"#136232",uuid:"ca85e615"},{text:"Grey Blue Vallejo - Model",colorValue:"#45708d",uuid:"102a016a"},{text:"Grey Green Vallejo - Model",colorValue:"#565a60",uuid:"bedc0045"},{text:"Grey Grey Vallejo - Model",colorValue:"#aecbbb",uuid:"7f545184"},{text:"Griffon Blue Army Painter",colorValue:"#215383",uuid:"1d332ba0"},{text:"Gun Corps Brown P3 Formula",colorValue:"#937d48",uuid:"e8ae7dac"},{text:"Hammerfall Khaki P3 Formula",colorValue:"#c8bf98",uuid:"ece3ed9c"},{text:"Hardened Carapace Army Painter",colorValue:"#4c473f",uuid:"13aede80"},{text:"Heartfire P3 Formula",colorValue:"#f6b046",uuid:"90e37ed3"},{text:"Heavy Blue Grey Vallejo - Game",colorValue:"#9ca7a7",uuid:"451a4414"},{text:"Heavy Blue Vallejo - Game",colorValue:"#29556d",uuid:"77c230fc"},{text:"Heavy Brown Vallejo - Game",colorValue:"#705d41",uuid:"7722d492"},{text:"Heavy Gold Brown Vallejo - Game",colorValue:"#ba8636",uuid:"0c22ad27"},{text:"Heavy Green Vallejo - Game",colorValue:"#566840",uuid:"ba2375ce"},{text:"Heavy Khaki Vallejo - Game",colorValue:"#9d965d",uuid:"05d2d187"},{text:"Heavy Ochre Vallejo - Game",colorValue:"#a87536",uuid:"b0821a5b"},{text:"Heavy Red Vallejo - Game",colorValue:"#943238",uuid:"1da8ea62"},{text:"Heavy Sienna Vallejo - Game",colorValue:"#744642",uuid:"8b86de7a"},{text:"Heavy Skintone Vallejo - Game",colorValue:"#aa7b62",uuid:"9fc4ab68"},{text:"Heavy Violet Vallejo - Game",colorValue:"#4c2e65",uuid:"6f7aff69"},{text:"Heavy Warm Grey Vallejo - Game",colorValue:"#939066",uuid:"cbea00bf"},{text:"Hexed Lichen Vallejo - Game",colorValue:"#34274d",uuid:"ba0446a8"},{text:"Hoeth Blue Citadel - Base Layer",colorValue:"#4f7fb5",uuid:"7bc6490b"},{text:"Hot Orange Vallejo - Game",colorValue:"#e43027",uuid:"be9dcd6c"},{text:"Hull Red Vallejo - Model",colorValue:"#522724",uuid:"2bf643c4"},{text:"Hydra Turquoise Army Painter",colorValue:"#199ba3",uuid:"0cc68b93"},{text:"Ice Storm Army Painter",colorValue:"#639ec9",uuid:"47830ba0"},{text:"Idrian Flesh P3 Formula",colorValue:"#9b5e37",uuid:"406de381"},{text:"Incubi Darkness Citadel - Base Layer",colorValue:"#094345",uuid:"759f51f1"},{text:"Intermediate Green Vallejo - Model",colorValue:"#49944f",uuid:"5d16096e"},{text:"Iosan Green P3 Formula",colorValue:"#22a854",uuid:"aabdf911"},{text:"Iraqi Sand Vallejo - Model",colorValue:"#b89972",uuid:"8f5e415a"},{text:"Ironhull Grey P3 Formula",colorValue:"#8e969b",uuid:"cf479088"},{text:"Jack Bone P3 Formula",colorValue:"#d6d4aa",uuid:"20b99b3f"},{text:"Jokaero Orange Citadel - Base Layer",colorValue:"#e6200f",uuid:"f741976c"},{text:"Jungle Green Army Painter",colorValue:"#88ac2e",uuid:"ac7b953c"},{text:"Kabalite Green Citadel - Base Layer",colorValue:"#008660",uuid:"e0081121"},{text:"Kantor Blue Citadel - Base Layer",colorValue:"#06234f",uuid:"0420b268"},{text:"Karak Stone Citadel - Base Layer",colorValue:"#c1a069",uuid:"c0f1ea57"},{text:"Khador Red Base P3 Formula",colorValue:"#ee2824",uuid:"28c70e2a"},{text:"Khador Red Highlight P3 Formula",colorValue:"#f29042",uuid:"8868b5c3"},{text:"Khaki Vallejo - Game",colorValue:"#8c806d",uuid:"12ee8746"},{text:"Khardic Flesh P3 Formula",colorValue:"#cb7b5b",uuid:"2cf2a671"},{text:"Khorne Red Citadel - Base Layer",colorValue:"#6a0a01",uuid:"424d7aef"},{text:"Kislev Flesh Citadel - Base Layer",colorValue:"#dbad75",uuid:"947e2174"},{text:"Kobold Skin Army Painter",colorValue:"#c9a484",uuid:"b024a6c9"},{text:"Kraken Skin Army Painter",colorValue:"#71c591",uuid:"eb326c6f"},{text:"Krieg Khaki Citadel - Edge",colorValue:"#C0BD81",uuid:"ada33308"},{text:"Leather Brown Army Painter",colorValue:"#764823",uuid:"f836e4ba"},{text:"Leather Brown Vallejo - Game",colorValue:"#7b5d2a",uuid:"fdcdaf38"},{text:"Leather Brown Vallejo - Model",colorValue:"#4a4639",uuid:"b9acfeef"},{text:"Lemon Yellow Vallejo - Model",colorValue:"#fef10e",uuid:"3daa3d9d"},{text:"Light Brown Vallejo - Model",colorValue:"#bf764e",uuid:"0959b110"},{text:"Light Green Vallejo - Model",colorValue:"#00a850",uuid:"c47c9002"},{text:"Light Orange Vallejo - Model",colorValue:"#f68627",uuid:"d9a3bc33"},{text:"Light Sea Grey Vallejo - Model",colorValue:"#97b4b5",uuid:"338c1501"},{text:"Lime Green Vallejo - Model",colorValue:"#6fae4e",uuid:"4643078e"},{text:"Loren Forest Citadel - Base Layer",colorValue:"#5b7426",uuid:"87d28e37"},{text:"Lothern Blue Citadel - Base Layer",colorValue:"#3ba1d1",uuid:"72e1b0c8"},{text:"Luftwaffe Camoflage Green Vallejo - Model",colorValue:"#596b3f",uuid:"d11b1e84"},{text:"Lugganath Orange Citadel - Edge",colorValue:"#F79E86",uuid:"9a2ae2f9"},{text:"Macragge Blue Citadel - Base Layer",colorValue:"#14397a",uuid:"4474ebdf"},{text:"Magenta Vallejo - Model",colorValue:"#a92a56",uuid:"b03b289f"},{text:"Magic Blue Vallejo - Game",colorValue:"#024381",uuid:"09fd11e2"},{text:"Mars Red Army Painter",colorValue:"#b73b37",uuid:"8ce8067f"},{text:"Matt Black Army Painter",colorValue:"#231f20",uuid:"2b6bd01c"},{text:"Matt White Army Painter",colorValue:"#ffffff",uuid:"e1b7283c"},{text:"Mechanicus Standard Grey Citadel - Base Layer",colorValue:"#454e50",uuid:"f056cffd"},{text:"Medium Olive Vallejo - Model",colorValue:"#226b2e",uuid:"19978704"},{text:"Medium Sea Grey Vallejo - Model",colorValue:"#869393",uuid:"154c0c17"},{text:"Mephiston Red Citadel - Base Layer",colorValue:"#9b0e05",uuid:"fb14ad4a"},{text:"Meredius Blue P3 Formula",colorValue:"#00b0b9",uuid:"69e71d5b"},{text:"Middlestone Vallejo - Model",colorValue:"#9c9660",uuid:"6c760c12"},{text:"Midlund Flesh P3 Formula",colorValue:"#f0a983",uuid:"611184d7"},{text:"Moldy Ochre P3 Formula",colorValue:"#ddb43e",uuid:"900537ab"},{text:"Monster Brown Army Painter",colorValue:"#855c2a",uuid:"7c62e0dd"},{text:"Moon Yellow Vallejo - Game",colorValue:"#fff103",uuid:"6e9389b1"},{text:"Moot Green Citadel - Base Layer",colorValue:"#57aa2d",uuid:"f7debd04"},{text:"Morrow White P3 Formula",colorValue:"#FEFBFD",uuid:"60e977dc"},{text:"Mouldy Clothes Army Painter",colorValue:"#447b3a",uuid:"f020606a"},{text:"Mournfang Brown Citadel - Base Layer",colorValue:"#681104",uuid:"bf9db0f6"},{text:"Murderous Magenta P3 Formula",colorValue:"#a81f5e",uuid:"b73e6264"},{text:"Mutation Green Vallejo - Game",colorValue:"#296934",uuid:"538efdbc"},{text:"Mythical Orange Army Painter",colorValue:"#e73d24",uuid:"c44ba0d9"},{text:"Naggaroth Night Citadel - Base Layer",colorValue:"#433656",uuid:"f5584530"},{text:"Necromance Cloak Army Painter",colorValue:"#3c3d37",uuid:"a5c144f1"},{text:"Necrotic Flesh Army Painter",colorValue:"#bfc292",uuid:"0ed04c44"},{text:"Nurgling Green Citadel - Base Layer",colorValue:"#90a15f",uuid:"d5b761bb"},{text:"Ochre Brown Vallejo - Model",colorValue:"#a77237",uuid:"422447f3"},{text:"Ogryn Camoflage Citadel - Base Layer",colorValue:"#a9af42",uuid:"a1768b96"},{text:"Olive Green Vallejo - Model",colorValue:"#6a8b3a",uuid:"b9c879f8"},{text:"Oozing Purple Army Painter",colorValue:"#aa94b4",uuid:"4a0e63ed"},{text:"Orange Brown Vallejo - Model",colorValue:"#b86f44",uuid:"99b1fd03"},{text:"Orange Fire Vallejo - Game",colorValue:"#f1652e",uuid:"cc8fe1e6"},{text:"Orc Blood Army Painter",colorValue:"#925f6e",uuid:"6ee1f800"},{text:"Ordic Olive P3 Formula",colorValue:"#6e7e36",uuid:"5074d13f"},{text:"Oxford Blue Vallejo - Model",colorValue:"#3a465f",uuid:"3d80e136"},{text:"Pale Blue Vallejo - Model",colorValue:"#83b5b2",uuid:"d2954c1b"},{text:"Pale Flesh Vallejo - Game",colorValue:"#f6bdb3",uuid:"e9bf30ad"},{text:"Pale Grey Blue Vallejo - Model",colorValue:"#bacdd0",uuid:"a5419953"},{text:"Pale Sand Vallejo - Model",colorValue:"#d1c49c",uuid:"ac506dec"},{text:"Pale Yellow Vallejo - Game",colorValue:"#d5c179",uuid:"7900103b"},{text:"Pallid Wych Flesh Citadel - Base Layer",colorValue:"#d6d5c4",uuid:"b079e79f"},{text:"Parasite Brown Vallejo - Game",colorValue:"#b1481f",uuid:"2d1c3971"},{text:"Park Green Flat Vallejo - Model",colorValue:"#008c5d",uuid:"0e180c71"},{text:"Pastel Blue Vallejo - Model",colorValue:"#67859b",uuid:"c86df2ea"},{text:"Phoenix Flames Army Painter",colorValue:"#faa61a",uuid:"75eb1f32"},{text:"Pink Horror Citadel - Base Layer",colorValue:"#96325c",uuid:"5d25ccf8"},{text:"Plague Brown Vallejo - Game",colorValue:"#cc9b34",uuid:"d939a0c8"},{text:"Pure Red Army Painter",colorValue:"#cf2127",uuid:"8c10e453"},{text:"Rakarth Flesh Citadel - Base Layer",colorValue:"#aba495",uuid:"02a7f23e"},{text:"Ratskin Flesh Citadel - Base Layer",colorValue:"#AD6B4C",uuid:"ca934661"},{text:"Reflective Green Vallejo - Model",colorValue:"#496244",uuid:"b6b3e1d0"},{text:"Rhinox Hide Citadel - Base Layer",colorValue:"#4e3433",uuid:"e099996c"},{text:"Rosy Flesh Vallejo - Game",colorValue:"#f89e84",uuid:"6539a0ec"},{text:"Royal Blue Vallejo - Model",colorValue:"#41558d",uuid:"83d4b213"},{text:"Royal Purple Vallejo - Game",colorValue:"#23264f",uuid:"4d7e4d01"},{text:"Royal Purple Vallejo - Model",colorValue:"#4b2967",uuid:"0c7c8a29"},{text:"Rucksack Tan P3 Formula",colorValue:"#b4973f",uuid:"ad3f156f"},{text:"Russ Grey Citadel - Base Layer",colorValue:"#55768a",uuid:"6299a01d"},{text:"Saddle Brown Vallejo - Model",colorValue:"#89584f",uuid:"0a5866ad"},{text:"Salmon Rose Vallejo - Model",colorValue:"#f89d87",uuid:"be75c8ef"},{text:"Sand Yellow Vallejo - Model",colorValue:"#d7bf75",uuid:"e87c5be5"},{text:"Sanguine Base P3 Formula",colorValue:"#6c160f",uuid:"ad4bdd39"},{text:"Scaly Hide Army Painter",colorValue:"#859852",uuid:"55c21f72"},{text:"Scarlet Vallejo - Model",colorValue:"#da3630",uuid:"7768dcbd"},{text:"Scorpion Green Vallejo - Game",colorValue:"#48b851",uuid:"3aa8b534"},{text:"Screamer Pink Citadel - Base Layer",colorValue:"#831740",uuid:"cbc7a70b"},{text:"Screaming Skull Citadel - Base Layer",colorValue:"#d9d8a6",uuid:"206b6ca7"},{text:"Scurvy Green Vallejo - Game",colorValue:"#09474e",uuid:"50400af2"},{text:"Silver Grey Vallejo - Model",colorValue:"#d8dfd5",uuid:"cf59980c"},{text:"Skarsnik Green Citadel - Base Layer",colorValue:"#5e9067",uuid:"c6b548ec"},{text:"Skavenblight Dinge Citadel - Base Layer",colorValue:"#4f4840",uuid:"a5369b28"},{text:"Skeleton Bone Army Painter",colorValue:"#d3c89d",uuid:"c5c18c95"},{text:"Skorne Red P3 Formula",colorValue:"#b01f24",uuid:"1281a25f"},{text:"Skrag Brown Citadel - Base Layer",colorValue:"#954b00",uuid:"243fbc19"},{text:"Sky Grey Vallejo - Model",colorValue:"#b3b6b2",uuid:"31ebbe87"},{text:"Slaanesh Grey Citadel - Base Layer",colorValue:"#8E8C97",uuid:"3401d405"},{text:"Sombre Grey Vallejo - Game",colorValue:"#4c5c7d",uuid:"4175831b"},{text:"Sotek Green Citadel - Base Layer",colorValue:"#056976",uuid:"0bd265e6"},{text:"Spaceship Exterior Army Painter",colorValue:"#cdced0",uuid:"1f02fd08"},{text:"Squig Orange Citadel - Base Layer",colorValue:"#b04d3e",uuid:"8e3948b0"},{text:"Steel Grey Vallejo - Game",colorValue:"#64889d",uuid:"968121bb"},{text:"Steel Legion Drab Citadel - Base Layer",colorValue:"#695634",uuid:"2eb6a7e9"},{text:"Stegadon Scale Green Citadel - Base Layer",colorValue:"#004261",uuid:"beb2b74e"},{text:"Stone Grey Vallejo - Model",colorValue:"#959980",uuid:"7a1099ed"},{text:"Stonewall Grey Vallejo - Game",colorValue:"#828e95",uuid:"8887ef43"},{text:"Stormvermin Fur Citadel - Base Layer",colorValue:"#7d736a",uuid:"780c5a71"},{text:"Straken Green Citadel - Base Layer",colorValue:"#6e8611",uuid:"2e36b2ba"},{text:"Sulfuric Yellow P3 Formula",colorValue:"#f0d233",uuid:"b90d5253"},{text:"Sulphide Ochre Army Painter",colorValue:"#c68512",uuid:"9a44bd10"},{text:"Sun Yellow Vallejo - Game",colorValue:"#ffcf07",uuid:"e21c729e"},{text:"Sunset Red Vallejo - Model",colorValue:"#c22c5f",uuid:"1cb6488f"},{text:"Sybarite Green Citadel - Base Layer",colorValue:"#36a062",uuid:"fc5a6cf1"},{text:"Tallarn Sand Citadel - Base Layer",colorValue:"#ab7d00",uuid:"52e7acbc"},{text:"Tan Earth Vallejo - Model",colorValue:"#9c7962",uuid:"8144f1f4"},{text:"Tan Vallejo - Game",colorValue:"#9f4746",uuid:"4b922754"},{text:"Tanned Flesh Army Painter",colorValue:"#bc745e",uuid:"03c52290"},{text:"Tau Light Ochre Citadel - Base Layer",colorValue:"#c26e02",uuid:"1f6a15cf"},{text:"Teclis Blue Citadel - Base Layer",colorValue:"#387bbf",uuid:"f6072c93"},{text:"Temple Guard Blue Citadel - Base Layer",colorValue:"#35998e",uuid:"6fcc48d9"},{text:"Terracota Vallejo - Game",colorValue:"#6b1306",uuid:"a86f98f3"},{text:"Thamar Black P3 Formula",colorValue:"#040707",uuid:"bfb800e2"},{text:"The Fang Citadel - Base Layer",colorValue:"#457479",uuid:"efc3fb13"},{text:"Thornwood Green P3 Formula",colorValue:"#65654b",uuid:"f15e8b9e"},{text:"Thousand Sons Blue Citadel - Base Layer",colorValue:"#18ABCC",uuid:"59e8f366"},{text:"Thunderhawk Blue Citadel - Base Layer",colorValue:"#417074",uuid:"87a80eda"},{text:"Toxic Mist Army Painter",colorValue:"#39c0c5",uuid:"abbd66a4"},{text:"Traitor Green P3 Formula",colorValue:"#809065",uuid:"a6311369"},{text:"Troll Claws Army Painter",colorValue:"#cb8b4e",uuid:"93589b2a"},{text:"Troll Slayer Orange Citadel - Base Layer",colorValue:"#eb641b",uuid:"afdf3448"},{text:"Trollblood Base P3 Formula",colorValue:"#13899b",uuid:"2ca359f6"},{text:"Trollblood Highlight P3 Formula",colorValue:"#bab4a3",uuid:"09780cc7"},{text:"Turquoise Vallejo - Game",colorValue:"#03676f",uuid:"1476bb09"},{text:"Turquoise Vallejo - Model",colorValue:"#008e9c",uuid:"19743a76"},{text:"Tuskgor Fur Citadel - Base Layer",colorValue:"#8e3734",uuid:"02c16f84"},{text:"Ulthuan Grey Citadel - Base Layer",colorValue:"#d2e4df",uuid:"6541024a"},{text:"Ultramarine Blue Army Painter",colorValue:"#0f4e85",uuid:"19e5154c"},{text:"Ultramarine Vallejo - Model",colorValue:"#3b5da7",uuid:"d2e9deb8"},{text:"Underbelly Blue P3 Formula",colorValue:"#c0d4da",uuid:"e236c56e"},{text:"Ungor Flesh Citadel - Base Layer",colorValue:"#dbac63",uuid:"4cc7a2ed"},{text:"Uniform Green Vallejo - Model",colorValue:"#577a38",uuid:"6c42634e"},{text:"Uniform Grey Army Painter",colorValue:"#5e6a73",uuid:"8a5ca6a3"},{text:"USA Olive Drab Vallejo - Model",colorValue:"#3b4947",uuid:"9d953732"},{text:"Ushabti Bone Citadel - Base Layer",colorValue:"#c6c180",uuid:"29c17ae2"},{text:"Vampire Red Army Painter",colorValue:"#981d34",uuid:"ec7bb2e6"},{text:"Venom Wyrm Army Painter",colorValue:"#6a653e",uuid:"ecaad133"},{text:"Verdigris Vallejo - Game",colorValue:"#b3ceca",uuid:"3342c123"},{text:"Viking Blue Army Painter",colorValue:"#00609a",uuid:"1224989e"},{text:"Violet Red Vallejo - Model",colorValue:"#6b2946",uuid:"e115a173"},{text:"Violet Vallejo - Model",colorValue:"#4b2f65",uuid:"72d9e434"},{text:"Voidshield Blue Army Painter",colorValue:"#2ca2d9",uuid:"5d01f14c"},{text:"Waaagh! Flesh Citadel - Base Layer",colorValue:"#275627",uuid:"72d07017"},{text:"Warboss Green Citadel - Base Layer",colorValue:"#3b7d54",uuid:"3b34e712"},{text:"Warlord Purple Vallejo - Game",colorValue:"#7d1a44",uuid:"33b3f920"},{text:"Warpfiend Grey Citadel - Base Layer",colorValue:"#6B6A74",uuid:"d30e041c"},{text:"Warpstone Glow Citadel - Base Layer",colorValue:"#257326",uuid:"839b1779"},{text:"Wasteland Soil Army Painter",colorValue:"#774b58",uuid:"1df07c68"},{text:"Wazdakka Red Citadel - Base Layer",colorValue:"#8d0d01",uuid:"80231d89"},{text:"Werewolf Fur Army Painter",colorValue:"#785e4e",uuid:"a5081206"},{text:"White Scar Citadel - Base Layer",colorValue:"#FFFFFF",uuid:"d58a4e24"},{text:"White Vallejo - Model",colorValue:"#ffffff",uuid:"55b5f296"},{text:"Wild Rider Red Citadel - Base Layer",colorValue:"#e21516",uuid:"c398213a"},{text:"Witch Brew Army Painter",colorValue:"#92963e",uuid:"13d58a77"},{text:"Wizards Orb Army Painter",colorValue:"#00726a",uuid:"9f18d02b"},{text:"Wolf Grey Army Painter",colorValue:"#5b8093",uuid:"aebc64f8"},{text:"Wolf Grey Vallejo - Game",colorValue:"#90a2bc",uuid:"b522fd1f"},{text:"Wurm Green P3 Formula",colorValue:"#8fbe40",uuid:"c61c0cc6"},{text:"Xereus Purple Citadel - Base Layer",colorValue:"#4b205c",uuid:"77971691"},{text:"XV-88 Citadel - Base Layer",colorValue:"#7b4d1c",uuid:"9bdbd496"},{text:"Yellow Olive Vallejo - Model",colorValue:"#26392e",uuid:"29427975"},{text:"Yriel Yellow Citadel - Base Layer",colorValue:"#ffda00",uuid:"0e21969b"},{text:"Zamesi Desert Citadel - Base Layer",colorValue:"#e0a503",uuid:"99892c5f"},{text:"Zandri Dust Citadel - Base Layer",colorValue:"#a89758",uuid:"8dc755fe"}];function isEmpty(i){return i===0?!1:Array.isArray(i)&&i.length===0?!0:!i}function not(i){return(...t)=>!i(...t)}function includes(i,t){return i===void 0&&(i="undefined"),i===null&&(i="null"),i===!1&&(i="false"),i.toString().toLowerCase().indexOf(t.trim())!==-1}function filterOptions(i,t,s,u){return t?i.filter(l=>includes(u(l,s),t)).sort((l,d)=>u(l,s).length-u(d,s).length):i}function stripGroups(i){return i.filter(t=>!t.$isLabel)}function flattenOptions(i,t){return s=>s.reduce((u,l)=>l[i]&&l[i].length?(u.push({$groupLabel:l[t],$isLabel:!0}),u.concat(l[i])):u,[])}function filterGroups(i,t,s,u,l){return d=>d.map(y=>{if(!y[s])return console.warn("Options passed to vue-multiselect do not contain groups, despite the config."),[];const g=filterOptions(y[s],i,t,l);return g.length?{[u]:y[u],[s]:g}:[]})}const flow=(...i)=>t=>i.reduce((s,u)=>u(s),t),multiselectMixin={data(){return{search:"",isOpen:!1,preferredOpenDirection:"below",optimizedHeight:this.maxHeight}},props:{internalSearch:{type:Boolean,default:!0},options:{type:Array,required:!0},multiple:{type:Boolean,default:!1},trackBy:{type:String},label:{type:String},searchable:{type:Boolean,default:!0},clearOnSelect:{type:Boolean,default:!0},hideSelected:{type:Boolean,default:!1},placeholder:{type:String,default:"Select option"},allowEmpty:{type:Boolean,default:!0},resetAfter:{type:Boolean,default:!1},closeOnSelect:{type:Boolean,default:!0},customLabel:{type:Function,default(i,t){return isEmpty(i)?"":t?i[t]:i}},taggable:{type:Boolean,default:!1},tagPlaceholder:{type:String,default:"Press enter to create a tag"},tagPosition:{type:String,default:"top"},max:{type:[Number,Boolean],default:!1},id:{default:null},optionsLimit:{type:Number,default:1e3},groupValues:{type:String},groupLabel:{type:String},groupSelect:{type:Boolean,default:!1},blockKeys:{type:Array,default(){return[]}},preserveSearch:{type:Boolean,default:!1},preselectFirst:{type:Boolean,default:!1},preventAutofocus:{type:Boolean,default:!1}},mounted(){!this.multiple&&this.max&&console.warn("[Vue-Multiselect warn]: Max prop should not be used when prop Multiple equals false."),this.preselectFirst&&!this.internalValue.length&&this.options.length&&this.select(this.filteredOptions[0])},computed:{internalValue(){return this.modelValue||this.modelValue===0?Array.isArray(this.modelValue)?this.modelValue:[this.modelValue]:[]},filteredOptions(){const i=this.search||"",t=i.toLowerCase().trim();let s=this.options.concat();return this.internalSearch?s=this.groupValues?this.filterAndFlat(s,t,this.label):filterOptions(s,t,this.label,this.customLabel):s=this.groupValues?flattenOptions(this.groupValues,this.groupLabel)(s):s,s=this.hideSelected?s.filter(not(this.isSelected)):s,this.taggable&&t.length&&!this.isExistingOption(t)&&(this.tagPosition==="bottom"?s.push({isTag:!0,label:i}):s.unshift({isTag:!0,label:i})),s.slice(0,this.optionsLimit)},valueKeys(){return this.trackBy?this.internalValue.map(i=>i[this.trackBy]):this.internalValue},optionKeys(){return(this.groupValues?this.flatAndStrip(this.options):this.options).map(t=>this.customLabel(t,this.label).toString().toLowerCase())},currentOptionLabel(){return this.multiple?this.searchable?"":this.placeholder:this.internalValue.length?this.getOptionLabel(this.internalValue[0]):this.searchable?"":this.placeholder}},watch:{internalValue:{handler(){this.resetAfter&&this.internalValue.length&&(this.search="",this.$emit("update:modelValue",this.multiple?[]:null))},deep:!0},search(){this.$emit("search-change",this.search)}},emits:["open","search-change","close","select","update:modelValue","remove","tag"],methods:{getValue(){return this.multiple?this.internalValue:this.internalValue.length===0?null:this.internalValue[0]},filterAndFlat(i,t,s){return flow(filterGroups(t,s,this.groupValues,this.groupLabel,this.customLabel),flattenOptions(this.groupValues,this.groupLabel))(i)},flatAndStrip(i){return flow(flattenOptions(this.groupValues,this.groupLabel),stripGroups)(i)},updateSearch(i){this.search=i},isExistingOption(i){return this.options?this.optionKeys.indexOf(i)>-1:!1},isSelected(i){const t=this.trackBy?i[this.trackBy]:i;return this.valueKeys.indexOf(t)>-1},isOptionDisabled(i){return!!i.$isDisabled},getOptionLabel(i){if(isEmpty(i))return"";if(i.isTag)return i.label;if(i.$isLabel)return i.$groupLabel;const t=this.customLabel(i,this.label);return isEmpty(t)?"":t},select(i,t){if(i.$isLabel&&this.groupSelect){this.selectGroup(i);return}if(!(this.blockKeys.indexOf(t)!==-1||this.disabled||i.$isDisabled||i.$isLabel)&&!(this.max&&this.multiple&&this.internalValue.length===this.max)&&!(t==="Tab"&&!this.pointerDirty)){if(i.isTag)this.$emit("tag",i.label,this.id),this.search="",this.closeOnSelect&&!this.multiple&&this.deactivate();else{if(this.isSelected(i)){t!=="Tab"&&this.removeElement(i);return}this.multiple?this.$emit("update:modelValue",this.internalValue.concat([i])):this.$emit("update:modelValue",i),this.$emit("select",i,this.id),this.clearOnSelect&&(this.search="")}this.closeOnSelect&&this.deactivate()}},selectGroup(i){const t=this.options.find(s=>s[this.groupLabel]===i.$groupLabel);if(t){if(this.wholeGroupSelected(t)){this.$emit("remove",t[this.groupValues],this.id);const s=this.internalValue.filter(u=>t[this.groupValues].indexOf(u)===-1);this.$emit("update:modelValue",s)}else{let s=t[this.groupValues].filter(u=>!(this.isOptionDisabled(u)||this.isSelected(u)));this.max&&s.splice(this.max-this.internalValue.length),this.$emit("select",s,this.id),this.$emit("update:modelValue",this.internalValue.concat(s))}this.closeOnSelect&&this.deactivate()}},wholeGroupSelected(i){return i[this.groupValues].every(t=>this.isSelected(t)||this.isOptionDisabled(t))},wholeGroupDisabled(i){return i[this.groupValues].every(this.isOptionDisabled)},removeElement(i,t=!0){if(this.disabled||i.$isDisabled)return;if(!this.allowEmpty&&this.internalValue.length<=1){this.deactivate();return}const s=typeof i=="object"?this.valueKeys.indexOf(i[this.trackBy]):this.valueKeys.indexOf(i);if(this.multiple){const u=this.internalValue.slice(0,s).concat(this.internalValue.slice(s+1));this.$emit("update:modelValue",u)}else this.$emit("update:modelValue",null);this.$emit("remove",i,this.id),this.closeOnSelect&&t&&this.deactivate()},removeLastElement(){this.blockKeys.indexOf("Delete")===-1&&this.search.length===0&&Array.isArray(this.internalValue)&&this.internalValue.length&&this.removeElement(this.internalValue[this.internalValue.length-1],!1)},activate(){this.isOpen||this.disabled||(this.adjustPosition(),this.groupValues&&this.pointer===0&&this.filteredOptions.length&&(this.pointer=1),this.isOpen=!0,this.searchable?(this.preserveSearch||(this.search=""),this.preventAutofocus||this.$nextTick(()=>this.$refs.search&&this.$refs.search.focus())):this.preventAutofocus||typeof this.$el<"u"&&this.$el.focus(),this.$emit("open",this.id))},deactivate(){this.isOpen&&(this.isOpen=!1,this.searchable?this.$refs.search!==null&&typeof this.$refs.search<"u"&&this.$refs.search.blur():typeof this.$el<"u"&&this.$el.blur(),this.preserveSearch||(this.search=""),this.$emit("close",this.getValue(),this.id))},toggle(){this.isOpen?this.deactivate():this.activate()},adjustPosition(){if(typeof window>"u")return;const i=this.$el.getBoundingClientRect().top,t=window.innerHeight-this.$el.getBoundingClientRect().bottom;t>this.maxHeight||t>i||this.openDirection==="below"||this.openDirection==="bottom"?(this.preferredOpenDirection="below",this.optimizedHeight=Math.min(t-40,this.maxHeight)):(this.preferredOpenDirection="above",this.optimizedHeight=Math.min(i-40,this.maxHeight))}}},pointerMixin={data(){return{pointer:0,pointerDirty:!1}},props:{showPointer:{type:Boolean,default:!0},optionHeight:{type:Number,default:40},onPointerChange:{type:Function,default:null}},computed:{pointerPosition(){return this.pointer*this.optionHeight},visibleElements(){return this.optimizedHeight/this.optionHeight}},watch:{filteredOptions(){this.pointerAdjust()},isOpen(){this.pointerDirty=!1},pointer(){this.$refs.search&&this.$refs.search.setAttribute("aria-activedescendant",this.id+"-"+this.pointer.toString())}},methods:{optionHighlight(i,t){return{"multiselect__option--highlight":i===this.pointer&&this.showPointer,"multiselect__option--selected":this.isSelected(t)}},groupHighlight(i,t){if(!this.groupSelect)return["multiselect__option--disabled",{"multiselect__option--group":t.$isLabel}];const s=this.options.find(u=>u[this.groupLabel]===t.$groupLabel);return s&&!this.wholeGroupDisabled(s)?["multiselect__option--group",{"multiselect__option--highlight":i===this.pointer&&this.showPointer},{"multiselect__option--group-selected":this.wholeGroupSelected(s)}]:"multiselect__option--disabled"},addPointerElement({key:i}="Enter"){this.filteredOptions.length>0&&this.select(this.filteredOptions[this.pointer],i),this.pointerReset()},pointerForward(){this.pointer<this.filteredOptions.length-1&&(this.pointer++,this.$refs.list.scrollTop<=this.pointerPosition-(this.visibleElements-1)*this.optionHeight&&(this.$refs.list.scrollTop=this.pointerPosition-(this.visibleElements-1)*this.optionHeight),this.filteredOptions[this.pointer]&&this.filteredOptions[this.pointer].$isLabel&&!this.groupSelect&&this.pointerForward()),this.pointerDirty=!0},pointerBackward(){this.pointer>0?(this.pointer--,this.$refs.list.scrollTop>=this.pointerPosition&&(this.$refs.list.scrollTop=this.pointerPosition),this.filteredOptions[this.pointer]&&this.filteredOptions[this.pointer].$isLabel&&!this.groupSelect&&this.pointerBackward()):this.filteredOptions[this.pointer]&&this.filteredOptions[0].$isLabel&&!this.groupSelect&&this.pointerForward(),this.pointerDirty=!0},pointerReset(){this.closeOnSelect&&(this.pointer=0,this.$refs.list&&(this.$refs.list.scrollTop=0))},pointerAdjust(){this.pointer>=this.filteredOptions.length-1&&(this.pointer=this.filteredOptions.length?this.filteredOptions.length-1:0),this.filteredOptions.length>0&&this.filteredOptions[this.pointer].$isLabel&&!this.groupSelect&&this.pointerForward()},pointerSet(i){this.pointer=i,this.pointerDirty=!0,this.onPointerChange&&typeof this.onPointerChange=="function"&&this.onPointerChange(this)}}},Multiselect_vue_vue_type_style_index_0_lang="",_export_sfc=(i,t)=>{const s=i.__vccOpts||i;for(const[u,l]of t)s[u]=l;return s},_sfc_main$2={name:"vue-multiselect",mixins:[multiselectMixin,pointerMixin],compatConfig:{MODE:3,ATTR_ENUMERATED_COERCION:!1},props:{name:{type:String,default:""},modelValue:{type:null,default(){return[]}},selectLabel:{type:String,default:"Press enter to select"},selectGroupLabel:{type:String,default:"Press enter to select group"},selectedLabel:{type:String,default:"Selected"},deselectLabel:{type:String,default:"Press enter to remove"},deselectGroupLabel:{type:String,default:"Press enter to deselect group"},showLabels:{type:Boolean,default:!0},limit:{type:Number,default:99999},maxHeight:{type:Number,default:300},limitText:{type:Function,default:i=>`and ${i} more`},loading:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},openDirection:{type:String,default:""},showNoOptions:{type:Boolean,default:!0},showNoResults:{type:Boolean,default:!0},tabindex:{type:Number,default:0}},computed:{hasOptionGroup(){return this.groupValues&&this.groupLabel&&this.groupSelect},isSingleLabelVisible(){return(this.singleValue||this.singleValue===0)&&(!this.isOpen||!this.searchable)&&!this.visibleValues.length},isPlaceholderVisible(){return!this.internalValue.length&&(!this.searchable||!this.isOpen)},visibleValues(){return this.multiple?this.internalValue.slice(0,this.limit):[]},singleValue(){return this.internalValue[0]},deselectLabelText(){return this.showLabels?this.deselectLabel:""},deselectGroupLabelText(){return this.showLabels?this.deselectGroupLabel:""},selectLabelText(){return this.showLabels?this.selectLabel:""},selectGroupLabelText(){return this.showLabels?this.selectGroupLabel:""},selectedLabelText(){return this.showLabels?this.selectedLabel:""},inputStyle(){return this.searchable||this.multiple&&this.modelValue&&this.modelValue.length?this.isOpen?{width:"100%"}:{width:"0",position:"absolute",padding:"0"}:""},contentStyle(){return this.options.length?{display:"inline-block"}:{display:"block"}},isAbove(){return this.openDirection==="above"||this.openDirection==="top"?!0:this.openDirection==="below"||this.openDirection==="bottom"?!1:this.preferredOpenDirection==="above"},showSearchInput(){return this.searchable&&(this.hasSingleSelectedSlot&&(this.visibleSingleValue||this.visibleSingleValue===0)?this.isOpen:!0)}}},_hoisted_1$2=["tabindex","aria-owns"],_hoisted_2$1={ref:"tags",class:"multiselect__tags"},_hoisted_3$1={class:"multiselect__tags-wrap"},_hoisted_4$1=["textContent"],_hoisted_5$1=["onKeypress","onMousedown"],_hoisted_6$1=["textContent"],_hoisted_7$1={class:"multiselect__spinner"},_hoisted_8$1=["name","id","placeholder","value","disabled","tabindex","aria-controls"],_hoisted_9$1=["id"],_hoisted_10$1={key:0},_hoisted_11$1={class:"multiselect__option"},_hoisted_12$1=["id","role"],_hoisted_13$1=["onClick","onMouseenter","data-select","data-selected","data-deselect"],_hoisted_14$1=["data-select","data-deselect","onMouseenter","onMousedown"],_hoisted_15$1={class:"multiselect__option"},_hoisted_16$1={class:"multiselect__option"};function _sfc_render(i,t,s,u,l,d){return openBlock(),createElementBlock("div",{tabindex:i.searchable?-1:s.tabindex,class:normalizeClass([{"multiselect--active":i.isOpen,"multiselect--disabled":s.disabled,"multiselect--above":d.isAbove,"multiselect--has-options-group":d.hasOptionGroup},"multiselect"]),onFocus:t[13]||(t[13]=y=>i.activate()),onBlur:t[14]||(t[14]=y=>i.searchable?!1:i.deactivate()),onKeydown:[t[15]||(t[15]=withKeys(withModifiers(y=>i.pointerForward(),["self","prevent"]),["down"])),t[16]||(t[16]=withKeys(withModifiers(y=>i.pointerBackward(),["self","prevent"]),["up"]))],onKeypress:t[17]||(t[17]=withKeys(withModifiers(y=>i.addPointerElement(y),["stop","self"]),["enter","tab"])),onKeyup:t[18]||(t[18]=withKeys(y=>i.deactivate(),["esc"])),role:"combobox","aria-owns":"listbox-"+i.id},[renderSlot(i.$slots,"caret",{toggle:i.toggle},()=>[createBaseVNode("div",{onMousedown:t[0]||(t[0]=withModifiers(y=>i.toggle(),["prevent","stop"])),class:"multiselect__select"},null,32)]),renderSlot(i.$slots,"clear",{search:i.search}),createBaseVNode("div",_hoisted_2$1,[renderSlot(i.$slots,"selection",{search:i.search,remove:i.removeElement,values:d.visibleValues,isOpen:i.isOpen},()=>[withDirectives(createBaseVNode("div",_hoisted_3$1,[(openBlock(!0),createElementBlock(Fragment,null,renderList(d.visibleValues,(y,g)=>renderSlot(i.$slots,"tag",{option:y,search:i.search,remove:i.removeElement},()=>[(openBlock(),createElementBlock("span",{class:"multiselect__tag",key:g},[createBaseVNode("span",{textContent:toDisplayString(i.getOptionLabel(y))},null,8,_hoisted_4$1),createBaseVNode("i",{tabindex:"1",onKeypress:withKeys(withModifiers(v=>i.removeElement(y),["prevent"]),["enter"]),onMousedown:withModifiers(v=>i.removeElement(y),["prevent"]),class:"multiselect__tag-icon"},null,40,_hoisted_5$1)]))])),256))],512),[[vShow,d.visibleValues.length>0]]),i.internalValue&&i.internalValue.length>s.limit?renderSlot(i.$slots,"limit",{key:0},()=>[createBaseVNode("strong",{class:"multiselect__strong",textContent:toDisplayString(s.limitText(i.internalValue.length-s.limit))},null,8,_hoisted_6$1)]):createCommentVNode("",!0)]),createVNode(Transition,{name:"multiselect__loading"},{default:withCtx(()=>[renderSlot(i.$slots,"loading",{},()=>[withDirectives(createBaseVNode("div",_hoisted_7$1,null,512),[[vShow,s.loading]])])]),_:3}),i.searchable?(openBlock(),createElementBlock("input",{key:0,ref:"search",name:s.name,id:i.id,type:"text",autocomplete:"off",spellcheck:!1,placeholder:i.placeholder,style:normalizeStyle(d.inputStyle),value:i.search,disabled:s.disabled,tabindex:s.tabindex,onInput:t[1]||(t[1]=y=>i.updateSearch(y.target.value)),onFocus:t[2]||(t[2]=withModifiers(y=>i.activate(),["prevent"])),onBlur:t[3]||(t[3]=withModifiers(y=>i.deactivate(),["prevent"])),onKeyup:t[4]||(t[4]=withKeys(y=>i.deactivate(),["esc"])),onKeydown:[t[5]||(t[5]=withKeys(withModifiers(y=>i.pointerForward(),["prevent"]),["down"])),t[6]||(t[6]=withKeys(withModifiers(y=>i.pointerBackward(),["prevent"]),["up"])),t[8]||(t[8]=withKeys(withModifiers(y=>i.removeLastElement(),["stop"]),["delete"]))],onKeypress:t[7]||(t[7]=withKeys(withModifiers(y=>i.addPointerElement(y),["prevent","stop","self"]),["enter"])),class:"multiselect__input","aria-controls":"listbox-"+i.id},null,44,_hoisted_8$1)):createCommentVNode("",!0),d.isSingleLabelVisible?(openBlock(),createElementBlock("span",{key:1,class:"multiselect__single",onMousedown:t[9]||(t[9]=withModifiers((...y)=>i.toggle&&i.toggle(...y),["prevent"]))},[renderSlot(i.$slots,"singleLabel",{option:d.singleValue},()=>[createTextVNode(toDisplayString(i.currentOptionLabel),1)])],32)):createCommentVNode("",!0),d.isPlaceholderVisible?(openBlock(),createElementBlock("span",{key:2,class:"multiselect__placeholder",onMousedown:t[10]||(t[10]=withModifiers((...y)=>i.toggle&&i.toggle(...y),["prevent"]))},[renderSlot(i.$slots,"placeholder",{},()=>[createTextVNode(toDisplayString(i.placeholder),1)])],32)):createCommentVNode("",!0)],512),createVNode(Transition,{name:"multiselect"},{default:withCtx(()=>[withDirectives(createBaseVNode("div",{class:"multiselect__content-wrapper",onFocus:t[11]||(t[11]=(...y)=>i.activate&&i.activate(...y)),tabindex:"-1",onMousedown:t[12]||(t[12]=withModifiers(()=>{},["prevent"])),style:normalizeStyle({maxHeight:i.optimizedHeight+"px"}),ref:"list"},[createBaseVNode("ul",{class:"multiselect__content",style:normalizeStyle(d.contentStyle),role:"listbox",id:"listbox-"+i.id},[renderSlot(i.$slots,"beforeList"),i.multiple&&i.max===i.internalValue.length?(openBlock(),createElementBlock("li",_hoisted_10$1,[createBaseVNode("span",_hoisted_11$1,[renderSlot(i.$slots,"maxElements",{},()=>[createTextVNode("Maximum of "+toDisplayString(i.max)+" options selected. First remove a selected option to select another.",1)])])])):createCommentVNode("",!0),!i.max||i.internalValue.length<i.max?(openBlock(!0),createElementBlock(Fragment,{key:1},renderList(i.filteredOptions,(y,g)=>(openBlock(),createElementBlock("li",{class:"multiselect__element",key:g,id:i.id+"-"+g,role:y&&(y.$isLabel||y.$isDisabled)?null:"option"},[y&&(y.$isLabel||y.$isDisabled)?createCommentVNode("",!0):(openBlock(),createElementBlock("span",{key:0,class:normalizeClass([i.optionHighlight(g,y),"multiselect__option"]),onClick:withModifiers(v=>i.select(y),["stop"]),onMouseenter:withModifiers(v=>i.pointerSet(g),["self"]),"data-select":y&&y.isTag?i.tagPlaceholder:d.selectLabelText,"data-selected":d.selectedLabelText,"data-deselect":d.deselectLabelText},[renderSlot(i.$slots,"option",{option:y,search:i.search,index:g},()=>[createBaseVNode("span",null,toDisplayString(i.getOptionLabel(y)),1)])],42,_hoisted_13$1)),y&&(y.$isLabel||y.$isDisabled)?(openBlock(),createElementBlock("span",{key:1,"data-select":i.groupSelect&&d.selectGroupLabelText,"data-deselect":i.groupSelect&&d.deselectGroupLabelText,class:normalizeClass([i.groupHighlight(g,y),"multiselect__option"]),onMouseenter:withModifiers(v=>i.groupSelect&&i.pointerSet(g),["self"]),onMousedown:withModifiers(v=>i.selectGroup(y),["prevent"])},[renderSlot(i.$slots,"option",{option:y,search:i.search,index:g},()=>[createBaseVNode("span",null,toDisplayString(i.getOptionLabel(y)),1)])],42,_hoisted_14$1)):createCommentVNode("",!0)],8,_hoisted_12$1))),128)):createCommentVNode("",!0),withDirectives(createBaseVNode("li",null,[createBaseVNode("span",_hoisted_15$1,[renderSlot(i.$slots,"noResult",{search:i.search},()=>[createTextVNode("No elements found. Consider changing the search query.")])])],512),[[vShow,s.showNoResults&&i.filteredOptions.length===0&&i.search&&!s.loading]]),withDirectives(createBaseVNode("li",null,[createBaseVNode("span",_hoisted_16$1,[renderSlot(i.$slots,"noOptions",{},()=>[createTextVNode("List is empty.")])])],512),[[vShow,s.showNoOptions&&(i.options.length===0||d.hasOptionGroup===!0&&i.filteredOptions.length===0)&&!i.search&&!s.loading]]),renderSlot(i.$slots,"afterList")],12,_hoisted_9$1)],36),[[vShow,i.isOpen]])]),_:3})],42,_hoisted_1$2)}const Multiselect=_export_sfc(_sfc_main$2,[["render",_sfc_render]]),vueMultiselect="",svgs$2=[{layer:"main",path:"/icons/marine_simple/complete_filled.svg"},{layer:"highlight",path:"/icons/marine_simple/highlight_filled.svg"},{layer:"shadow",path:"/icons/marine_simple/shadow_filled.svg"},{layer:"edge",path:"/icons/marine_simple/complete.svg"}],basicScheme$2=({transparent:i,perfectWhite:t},s)=>({edge:{color:t,opacity:s},main:{color:i,opacity:s},highlight:{color:i,opacity:s},shadow:{color:i,opacity:s}}),marineSimple={name:"simple marine",svgs:svgs$2,basicScheme:basicScheme$2},svgs$1=[{layer:"base",path:"/icons/marine_complex/mask_base.svg"},{layer:"armour",path:"/icons/marine_complex/mask_armour.svg"},{layer:"armour highlight",path:"/icons/marine_complex/mask_armour_highlight.svg"},{layer:"armour shadow",path:"/icons/marine_complex/mask_armour_shadow.svg"},{layer:"pauldron",path:"/icons/marine_complex/mask_pauldron.svg"},{layer:"pauldron trim",path:"/icons/marine_complex/mask_pauldron_trim.svg"},{layer:"pauldron highlight",path:"/icons/marine_complex/mask_pauldron_highlight.svg"},{layer:"pauldron trim highlight",path:"/icons/marine_complex/mask_pauldron_trim_highlight.svg"},{layer:"eyes",path:"/icons/marine_complex/mask_eyes.svg"},{layer:"eyes glow",path:"/icons/marine_complex/mask_eyes_glow.svg"},{layer:"helmet details",path:"/icons/marine_complex/mask_helmet_details.svg"},{layer:"aquila",path:"/icons/marine_complex/mask_aquila.svg"},{layer:"aquila highlight",path:"/icons/marine_complex/mask_aquila_highlight.svg"},{layer:"seals",path:"/icons/marine_complex/mask_seals.svg"},{layer:"seals paper",path:"/icons/marine_complex/mask_seals_paper.svg"},{layer:"gun",path:"/icons/marine_complex/mask_gun.svg"},{layer:"edge",path:"/icons/marine_complex/edge.svg"},{layer:"edge highlight",path:"/icons/marine_complex/edge_highlight.svg"}],basicScheme$1=({transparent:i,perfectWhite:t},s)=>({edge:{color:t,opacity:s},"edge highlight":{color:i,opacity:s},armour:{color:i,opacity:s},pauldron:{color:i,opacity:s},"pauldron trim":{color:i,opacity:s},"pauldron highlight":{color:i,opacity:s},"pauldron trim highlight":{color:i,opacity:s},"armour highlight":{color:i,opacity:s},"armour shadow":{color:i,opacity:s},gun:{color:i,opacity:s},aquila:{color:i,opacity:s},"aquila highlight":{color:i,opacity:s},eyes:{color:i,opacity:s},"eyes glow":{color:i,opacity:s},"helmet details":{color:i,opacity:s},seals:{color:i,opacity:s},"seals paper":{color:i,opacity:s},base:{color:i,opacity:s}}),marineComplex={name:"complex marine",svgs:svgs$1,basicScheme:basicScheme$1},svgs=[],basicScheme=(i,t)=>({}),fromImage={name:"from Image",svgs,basicScheme};var commonjsGlobal=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function getDefaultExportFromCjs(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}function isObject$2(i){var t=typeof i;return i!=null&&(t=="object"||t=="function")}var isObject_1=isObject$2,freeGlobal$1=typeof commonjsGlobal=="object"&&commonjsGlobal&&commonjsGlobal.Object===Object&&commonjsGlobal,_freeGlobal=freeGlobal$1,freeGlobal=_freeGlobal,freeSelf=typeof self=="object"&&self&&self.Object===Object&&self,root$2=freeGlobal||freeSelf||Function("return this")(),_root=root$2,root$1=_root,now$1=function(){return root$1.Date.now()},now_1=now$1,reWhitespace=/\s/;function trimmedEndIndex$1(i){for(var t=i.length;t--&&reWhitespace.test(i.charAt(t)););return t}var _trimmedEndIndex=trimmedEndIndex$1,trimmedEndIndex=_trimmedEndIndex,reTrimStart=/^\s+/;function baseTrim$1(i){return i&&i.slice(0,trimmedEndIndex(i)+1).replace(reTrimStart,"")}var _baseTrim=baseTrim$1,root=_root,Symbol$3=root.Symbol,_Symbol=Symbol$3,Symbol$2=_Symbol,objectProto$1=Object.prototype,hasOwnProperty=objectProto$1.hasOwnProperty,nativeObjectToString$1=objectProto$1.toString,symToStringTag$1=Symbol$2?Symbol$2.toStringTag:void 0;function getRawTag$1(i){var t=hasOwnProperty.call(i,symToStringTag$1),s=i[symToStringTag$1];try{i[symToStringTag$1]=void 0;var u=!0}catch{}var l=nativeObjectToString$1.call(i);return u&&(t?i[symToStringTag$1]=s:delete i[symToStringTag$1]),l}var _getRawTag=getRawTag$1,objectProto=Object.prototype,nativeObjectToString=objectProto.toString;function objectToString$1(i){return nativeObjectToString.call(i)}var _objectToString=objectToString$1,Symbol$1=_Symbol,getRawTag=_getRawTag,objectToString=_objectToString,nullTag="[object Null]",undefinedTag="[object Undefined]",symToStringTag=Symbol$1?Symbol$1.toStringTag:void 0;function baseGetTag$1(i){return i==null?i===void 0?undefinedTag:nullTag:symToStringTag&&symToStringTag in Object(i)?getRawTag(i):objectToString(i)}var _baseGetTag=baseGetTag$1;function isObjectLike$1(i){return i!=null&&typeof i=="object"}var isObjectLike_1=isObjectLike$1,baseGetTag=_baseGetTag,isObjectLike=isObjectLike_1,symbolTag="[object Symbol]";function isSymbol$1(i){return typeof i=="symbol"||isObjectLike(i)&&baseGetTag(i)==symbolTag}var isSymbol_1=isSymbol$1,baseTrim=_baseTrim,isObject$1=isObject_1,isSymbol=isSymbol_1,NAN=0/0,reIsBadHex=/^[-+]0x[0-9a-f]+$/i,reIsBinary=/^0b[01]+$/i,reIsOctal=/^0o[0-7]+$/i,freeParseInt=parseInt;function toNumber$1(i){if(typeof i=="number")return i;if(isSymbol(i))return NAN;if(isObject$1(i)){var t=typeof i.valueOf=="function"?i.valueOf():i;i=isObject$1(t)?t+"":t}if(typeof i!="string")return i===0?i:+i;i=baseTrim(i);var s=reIsBinary.test(i);return s||reIsOctal.test(i)?freeParseInt(i.slice(2),s?2:8):reIsBadHex.test(i)?NAN:+i}var toNumber_1=toNumber$1,isObject=isObject_1,now=now_1,toNumber=toNumber_1,FUNC_ERROR_TEXT="Expected a function",nativeMax=Math.max,nativeMin=Math.min;function debounce(i,t,s){var u,l,d,y,g,v,f=0,c=!1,r=!1,e=!0;if(typeof i!="function")throw new TypeError(FUNC_ERROR_TEXT);t=toNumber(t)||0,isObject(s)&&(c=!!s.leading,r="maxWait"in s,d=r?nativeMax(toNumber(s.maxWait)||0,t):d,e="trailing"in s?!!s.trailing:e);function n(I){var P=u,L=l;return u=l=void 0,f=I,y=i.apply(L,P),y}function o(I){return f=I,g=setTimeout(x,t),c?n(I):y}function m(I){var P=I-v,L=I-f,U=t-P;return r?nativeMin(U,d-L):U}function _(I){var P=I-v,L=I-f;return v===void 0||P>=t||P<0||r&&L>=d}function x(){var I=now();if(_(I))return w(I);g=setTimeout(x,m(I))}function w(I){return g=void 0,e&&u?n(I):(u=l=void 0,y)}function S(){g!==void 0&&clearTimeout(g),f=0,u=v=l=g=void 0}function O(){return g===void 0?y:w(now())}function A(){var I=now(),P=_(I);if(u=arguments,l=this,v=I,P){if(g===void 0)return o(v);if(r)return clearTimeout(g),g=setTimeout(x,t),n(v)}return g===void 0&&(g=setTimeout(x,t)),y}return A.cancel=S,A.flush=O,A}var debounce_1=debounce;const debounce$1=getDefaultExportFromCjs(debounce_1);function iota$1(i){for(var t=new Array(i),s=0;s<i;++s)t[s]=s;return t}var iota_1=iota$1;/*!
 * Determine if an object is a Buffer
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */var isBuffer_1=function(i){return i!=null&&(isBuffer$1(i)||isSlowBuffer(i)||!!i._isBuffer)};function isBuffer$1(i){return!!i.constructor&&typeof i.constructor.isBuffer=="function"&&i.constructor.isBuffer(i)}function isSlowBuffer(i){return typeof i.readFloatLE=="function"&&typeof i.slice=="function"&&isBuffer$1(i.slice(0,0))}var iota=iota_1,isBuffer=isBuffer_1,hasTypedArrays=typeof Float64Array<"u";function compare1st(i,t){return i[0]-t[0]}function order(){var i=this.stride,t=new Array(i.length),s;for(s=0;s<t.length;++s)t[s]=[Math.abs(i[s]),s];t.sort(compare1st);var u=new Array(t.length);for(s=0;s<u.length;++s)u[s]=t[s][1];return u}function compileConstructor(i,t){var s=["View",t,"d",i].join("");t<0&&(s="View_Nil"+i);var u=i==="generic";if(t===-1){var l="function "+s+"(a){this.data=a;};var proto="+s+".prototype;proto.dtype='"+i+"';proto.index=function(){return -1};proto.size=0;proto.dimension=-1;proto.shape=proto.stride=proto.order=[];proto.lo=proto.hi=proto.transpose=proto.step=function(){return new "+s+"(this.data);};proto.get=proto.set=function(){};proto.pick=function(){return null};return function construct_"+s+"(a){return new "+s+"(a);}",m=new Function(l);return m()}else if(t===0){var l="function "+s+"(a,d) {this.data = a;this.offset = d};var proto="+s+".prototype;proto.dtype='"+i+"';proto.index=function(){return this.offset};proto.dimension=0;proto.size=1;proto.shape=proto.stride=proto.order=[];proto.lo=proto.hi=proto.transpose=proto.step=function "+s+"_copy() {return new "+s+"(this.data,this.offset)};proto.pick=function "+s+"_pick(){return TrivialArray(this.data);};proto.valueOf=proto.get=function "+s+"_get(){return "+(u?"this.data.get(this.offset)":"this.data[this.offset]")+"};proto.set=function "+s+"_set(v){return "+(u?"this.data.set(this.offset,v)":"this.data[this.offset]=v")+"};return function construct_"+s+"(a,b,c,d){return new "+s+"(a,d)}",m=new Function("TrivialArray",l);return m(CACHED_CONSTRUCTORS[i][0])}var l=["'use strict'"],d=iota(t),y=d.map(function(_){return"i"+_}),g="this.offset+"+d.map(function(_){return"this.stride["+_+"]*i"+_}).join("+"),v=d.map(function(_){return"b"+_}).join(","),f=d.map(function(_){return"c"+_}).join(",");l.push("function "+s+"(a,"+v+","+f+",d){this.data=a","this.shape=["+v+"]","this.stride=["+f+"]","this.offset=d|0}","var proto="+s+".prototype","proto.dtype='"+i+"'","proto.dimension="+t),l.push("Object.defineProperty(proto,'size',{get:function "+s+"_size(){return "+d.map(function(_){return"this.shape["+_+"]"}).join("*"),"}})"),t===1?l.push("proto.order=[0]"):(l.push("Object.defineProperty(proto,'order',{get:"),t<4?(l.push("function "+s+"_order(){"),t===2?l.push("return (Math.abs(this.stride[0])>Math.abs(this.stride[1]))?[1,0]:[0,1]}})"):t===3&&l.push("var s0=Math.abs(this.stride[0]),s1=Math.abs(this.stride[1]),s2=Math.abs(this.stride[2]);if(s0>s1){if(s1>s2){return [2,1,0];}else if(s0>s2){return [1,2,0];}else{return [1,0,2];}}else if(s0>s2){return [2,0,1];}else if(s2>s1){return [0,1,2];}else{return [0,2,1];}}})")):l.push("ORDER})")),l.push("proto.set=function "+s+"_set("+y.join(",")+",v){"),u?l.push("return this.data.set("+g+",v)}"):l.push("return this.data["+g+"]=v}"),l.push("proto.get=function "+s+"_get("+y.join(",")+"){"),u?l.push("return this.data.get("+g+")}"):l.push("return this.data["+g+"]}"),l.push("proto.index=function "+s+"_index(",y.join(),"){return "+g+"}"),l.push("proto.hi=function "+s+"_hi("+y.join(",")+"){return new "+s+"(this.data,"+d.map(function(_){return["(typeof i",_,"!=='number'||i",_,"<0)?this.shape[",_,"]:i",_,"|0"].join("")}).join(",")+","+d.map(function(_){return"this.stride["+_+"]"}).join(",")+",this.offset)}");var c=d.map(function(_){return"a"+_+"=this.shape["+_+"]"}),r=d.map(function(_){return"c"+_+"=this.stride["+_+"]"});l.push("proto.lo=function "+s+"_lo("+y.join(",")+"){var b=this.offset,d=0,"+c.join(",")+","+r.join(","));for(var e=0;e<t;++e)l.push("if(typeof i"+e+"==='number'&&i"+e+">=0){d=i"+e+"|0;b+=c"+e+"*d;a"+e+"-=d}");l.push("return new "+s+"(this.data,"+d.map(function(_){return"a"+_}).join(",")+","+d.map(function(_){return"c"+_}).join(",")+",b)}"),l.push("proto.step=function "+s+"_step("+y.join(",")+"){var "+d.map(function(_){return"a"+_+"=this.shape["+_+"]"}).join(",")+","+d.map(function(_){return"b"+_+"=this.stride["+_+"]"}).join(",")+",c=this.offset,d=0,ceil=Math.ceil");for(var e=0;e<t;++e)l.push("if(typeof i"+e+"==='number'){d=i"+e+"|0;if(d<0){c+=b"+e+"*(a"+e+"-1);a"+e+"=ceil(-a"+e+"/d)}else{a"+e+"=ceil(a"+e+"/d)}b"+e+"*=d}");l.push("return new "+s+"(this.data,"+d.map(function(_){return"a"+_}).join(",")+","+d.map(function(_){return"b"+_}).join(",")+",c)}");for(var n=new Array(t),o=new Array(t),e=0;e<t;++e)n[e]="a[i"+e+"]",o[e]="b[i"+e+"]";l.push("proto.transpose=function "+s+"_transpose("+y+"){"+y.map(function(_,x){return _+"=("+_+"===undefined?"+x+":"+_+"|0)"}).join(";"),"var a=this.shape,b=this.stride;return new "+s+"(this.data,"+n.join(",")+","+o.join(",")+",this.offset)}"),l.push("proto.pick=function "+s+"_pick("+y+"){var a=[],b=[],c=this.offset");for(var e=0;e<t;++e)l.push("if(typeof i"+e+"==='number'&&i"+e+">=0){c=(c+this.stride["+e+"]*i"+e+")|0}else{a.push(this.shape["+e+"]);b.push(this.stride["+e+"])}");l.push("var ctor=CTOR_LIST[a.length+1];return ctor(this.data,a,b,c)}"),l.push("return function construct_"+s+"(data,shape,stride,offset){return new "+s+"(data,"+d.map(function(_){return"shape["+_+"]"}).join(",")+","+d.map(function(_){return"stride["+_+"]"}).join(",")+",offset)}");var m=new Function("CTOR_LIST","ORDER",l.join(`
`));return m(CACHED_CONSTRUCTORS[i],order)}function arrayDType(i){if(isBuffer(i))return"buffer";if(hasTypedArrays)switch(Object.prototype.toString.call(i)){case"[object Float64Array]":return"float64";case"[object Float32Array]":return"float32";case"[object Int8Array]":return"int8";case"[object Int16Array]":return"int16";case"[object Int32Array]":return"int32";case"[object Uint8Array]":return"uint8";case"[object Uint16Array]":return"uint16";case"[object Uint32Array]":return"uint32";case"[object Uint8ClampedArray]":return"uint8_clamped";case"[object BigInt64Array]":return"bigint64";case"[object BigUint64Array]":return"biguint64"}return Array.isArray(i)?"array":"generic"}var CACHED_CONSTRUCTORS={float32:[],float64:[],int8:[],int16:[],int32:[],uint8:[],uint16:[],uint32:[],array:[],uint8_clamped:[],bigint64:[],biguint64:[],buffer:[],generic:[]};function wrappedNDArrayCtor(i,t,s,u){if(i===void 0){var f=CACHED_CONSTRUCTORS.array[0];return f([])}else typeof i=="number"&&(i=[i]);t===void 0&&(t=[i.length]);var l=t.length;if(s===void 0){s=new Array(l);for(var d=l-1,y=1;d>=0;--d)s[d]=y,y*=t[d]}if(u===void 0){u=0;for(var d=0;d<l;++d)s[d]<0&&(u-=(t[d]-1)*s[d])}for(var g=arrayDType(i),v=CACHED_CONSTRUCTORS[g];v.length<=l+1;)v.push(compileConstructor(g,v.length-1));var f=v[l+1];return f(i,t,s,u)}var ndarray=wrappedNDArrayCtor;const ndarray4=getDefaultExportFromCjs(ndarray);var ort_min={exports:{}};/*!
* ONNX Runtime Web v1.16.3
* Copyright (c) Microsoft Corporation. All rights reserved.
* Licensed under the MIT License.
*/(function(module,exports){(function(i,t){module.exports=t()})(self,()=>(()=>{var __webpack_modules__={5716:(i,t,s)=>{t.R=void 0;const u=s(6027),l=s(1723);t.R=new class{async init(){}async createSessionHandler(d,y){const g=new u.Session(y);return await g.loadModel(d),new l.OnnxjsSessionHandler(g)}}},2818:(i,t,s)=>{t.c8=t.rX=void 0;const u=s(2235),l=s(5381),d=s(9544),y=s(6640);t.rX=()=>{if((typeof u.env.wasm.initTimeout!="number"||u.env.wasm.initTimeout<0)&&(u.env.wasm.initTimeout=0),typeof u.env.wasm.simd!="boolean"&&(u.env.wasm.simd=!0),typeof u.env.wasm.proxy!="boolean"&&(u.env.wasm.proxy=!1),typeof u.env.wasm.numThreads!="number"||!Number.isInteger(u.env.wasm.numThreads)||u.env.wasm.numThreads<=0){const g=typeof navigator>"u"?(0,l.cpus)().length:navigator.hardwareConcurrency;u.env.wasm.numThreads=Math.min(4,Math.ceil((g||1)/2))}},t.c8=new class{async init(){(0,t.rX)(),await(0,d.initializeWebAssemblyInstance)()}async createSessionHandler(g,v){const f=new y.OnnxruntimeWebAssemblySessionHandler;return await f.loadModel(g,v),Promise.resolve(f)}}},1057:function(i,t,s){var u=this&&this.__createBinding||(Object.create?function(g,v,f,c){c===void 0&&(c=f);var r=Object.getOwnPropertyDescriptor(v,f);r&&!("get"in r?!v.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return v[f]}}),Object.defineProperty(g,c,r)}:function(g,v,f,c){c===void 0&&(c=f),g[c]=v[f]}),l=this&&this.__exportStar||function(g,v){for(var f in g)f==="default"||Object.prototype.hasOwnProperty.call(v,f)||u(v,g,f)};Object.defineProperty(t,"__esModule",{value:!0}),l(s(2235),t);const d=s(2235),y=s(8408);{const g=s(5716).R;(0,d.registerBackend)("webgl",g,-10)}{const g=s(2818).c8;(0,d.registerBackend)("cpu",g,10),(0,d.registerBackend)("wasm",g,10),(0,d.registerBackend)("xnnpack",g,9),(0,d.registerBackend)("webnn",g,9)}d.env.versions.web=y.version},4910:(i,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.createAttributeWithCacheKey=void 0;class s{constructor(l){Object.assign(this,l)}get cacheKey(){return this._cacheKey||(this._cacheKey=Object.getOwnPropertyNames(this).sort().map(l=>`${this[l]}`).join(";")),this._cacheKey}}t.createAttributeWithCacheKey=u=>new s(u)},6874:(i,t,s)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.Attribute=void 0;const u=s(5127),l=s(2446),d=s(9240),y=s(7273);var g=u.onnxruntime.experimental.fbs;class v{constructor(c){if(this._attributes=new Map,c!=null){for(const r of c)r instanceof l.onnx.AttributeProto?this._attributes.set(r.name,[v.getValue(r),v.getType(r)]):r instanceof g.Attribute&&this._attributes.set(r.name(),[v.getValue(r),v.getType(r)]);if(this._attributes.size<c.length)throw new Error("duplicated attribute names")}}set(c,r,e){this._attributes.set(c,[e,r])}delete(c){this._attributes.delete(c)}getFloat(c,r){return this.get(c,"float",r)}getInt(c,r){return this.get(c,"int",r)}getString(c,r){return this.get(c,"string",r)}getTensor(c,r){return this.get(c,"tensor",r)}getFloats(c,r){return this.get(c,"floats",r)}getInts(c,r){return this.get(c,"ints",r)}getStrings(c,r){return this.get(c,"strings",r)}getTensors(c,r){return this.get(c,"tensors",r)}get(c,r,e){const n=this._attributes.get(c);if(n===void 0){if(e!==void 0)return e;throw new Error(`required attribute not found: ${c}`)}if(n[1]!==r)throw new Error(`type mismatch: expected ${r} but got ${n[1]}`);return n[0]}static getType(c){const r=c instanceof l.onnx.AttributeProto?c.type:c.type();switch(r){case l.onnx.AttributeProto.AttributeType.FLOAT:return"float";case l.onnx.AttributeProto.AttributeType.INT:return"int";case l.onnx.AttributeProto.AttributeType.STRING:return"string";case l.onnx.AttributeProto.AttributeType.TENSOR:return"tensor";case l.onnx.AttributeProto.AttributeType.FLOATS:return"floats";case l.onnx.AttributeProto.AttributeType.INTS:return"ints";case l.onnx.AttributeProto.AttributeType.STRINGS:return"strings";case l.onnx.AttributeProto.AttributeType.TENSORS:return"tensors";default:throw new Error(`attribute type is not supported yet: ${l.onnx.AttributeProto.AttributeType[r]}`)}}static getValue(c){const r=c instanceof l.onnx.AttributeProto?c.type:c.type();if(r===l.onnx.AttributeProto.AttributeType.GRAPH||r===l.onnx.AttributeProto.AttributeType.GRAPHS)throw new Error("graph attribute is not supported yet");const e=this.getValueNoCheck(c);if(r===l.onnx.AttributeProto.AttributeType.INT&&y.LongUtil.isLong(e))return y.LongUtil.longToNumber(e);if(r===l.onnx.AttributeProto.AttributeType.INTS){const n=e,o=new Array(n.length);for(let m=0;m<n.length;m++){const _=n[m];o[m]=y.LongUtil.longToNumber(_)}return o}if(r===l.onnx.AttributeProto.AttributeType.TENSOR)return c instanceof l.onnx.AttributeProto?d.Tensor.fromProto(e):d.Tensor.fromOrtTensor(e);if(r===l.onnx.AttributeProto.AttributeType.TENSORS){if(c instanceof l.onnx.AttributeProto)return e.map(n=>d.Tensor.fromProto(n));if(c instanceof g.Attribute)return e.map(n=>d.Tensor.fromOrtTensor(n))}if(r===l.onnx.AttributeProto.AttributeType.STRING&&c instanceof l.onnx.AttributeProto){const n=e;return(0,y.decodeUtf8String)(n)}return r===l.onnx.AttributeProto.AttributeType.STRINGS&&c instanceof l.onnx.AttributeProto?e.map(y.decodeUtf8String):e}static getValueNoCheck(c){return c instanceof l.onnx.AttributeProto?this.getValueNoCheckFromOnnxFormat(c):this.getValueNoCheckFromOrtFormat(c)}static getValueNoCheckFromOnnxFormat(c){switch(c.type){case l.onnx.AttributeProto.AttributeType.FLOAT:return c.f;case l.onnx.AttributeProto.AttributeType.INT:return c.i;case l.onnx.AttributeProto.AttributeType.STRING:return c.s;case l.onnx.AttributeProto.AttributeType.TENSOR:return c.t;case l.onnx.AttributeProto.AttributeType.GRAPH:return c.g;case l.onnx.AttributeProto.AttributeType.FLOATS:return c.floats;case l.onnx.AttributeProto.AttributeType.INTS:return c.ints;case l.onnx.AttributeProto.AttributeType.STRINGS:return c.strings;case l.onnx.AttributeProto.AttributeType.TENSORS:return c.tensors;case l.onnx.AttributeProto.AttributeType.GRAPHS:return c.graphs;default:throw new Error(`unsupported attribute type: ${l.onnx.AttributeProto.AttributeType[c.type]}`)}}static getValueNoCheckFromOrtFormat(c){switch(c.type()){case g.AttributeType.FLOAT:return c.f();case g.AttributeType.INT:return c.i();case g.AttributeType.STRING:return c.s();case g.AttributeType.TENSOR:return c.t();case g.AttributeType.GRAPH:return c.g();case g.AttributeType.FLOATS:return c.floatsArray();case g.AttributeType.INTS:{const r=[];for(let e=0;e<c.intsLength();e++)r.push(c.ints(e));return r}case g.AttributeType.STRINGS:{const r=[];for(let e=0;e<c.stringsLength();e++)r.push(c.strings(e));return r}case g.AttributeType.TENSORS:{const r=[];for(let e=0;e<c.tensorsLength();e++)r.push(c.tensors(e));return r}default:throw new Error(`unsupported attribute type: ${g.AttributeType[c.type()]}`)}}}t.Attribute=v},1975:(i,t,s)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.resolveBackend=t.backend=void 0;const u=s(4418),l=new Map;async function d(y){const g=t.backend;if(g[y]!==void 0&&function(v){const f=v;return"initialize"in f&&typeof f.initialize=="function"&&"createSessionHandler"in f&&typeof f.createSessionHandler=="function"&&"dispose"in f&&typeof f.dispose=="function"}(g[y])){const v=g[y];let f=v.initialize();if(typeof f=="object"&&"then"in f&&(f=await f),f)return l.set(y,v),v}}t.backend={webgl:new u.WebGLBackend},t.resolveBackend=async function y(g){if(!g)return y(["webgl"]);{const v=typeof g=="string"?[g]:g;for(const f of v){const c=l.get(f);if(c)return c;const r=await d(f);if(r)return r}}throw new Error("no available backend to use")}},4418:(i,t,s)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.WebGLBackend=void 0;const u=s(2235),l=s(1315),d=s(2171),y=s(3389);t.WebGLBackend=class{get contextId(){return u.env.webgl.contextId}set contextId(g){u.env.webgl.contextId=g}get matmulMaxBatchSize(){return u.env.webgl.matmulMaxBatchSize}set matmulMaxBatchSize(g){u.env.webgl.matmulMaxBatchSize=g}get textureCacheMode(){return u.env.webgl.textureCacheMode}set textureCacheMode(g){u.env.webgl.textureCacheMode=g}get pack(){return u.env.webgl.pack}set pack(g){u.env.webgl.pack=g}get async(){return u.env.webgl.async}set async(g){u.env.webgl.async=g}initialize(){try{return this.glContext=(0,y.createWebGLContext)(this.contextId),typeof this.matmulMaxBatchSize!="number"&&(this.matmulMaxBatchSize=16),typeof this.textureCacheMode!="string"&&(this.textureCacheMode="full"),typeof this.pack!="boolean"&&(this.pack=!1),typeof this.async!="boolean"&&(this.async=!1),l.Logger.setWithEnv(u.env),l.Logger.verbose("WebGLBackend",`Created WebGLContext: ${typeof this.glContext} with matmulMaxBatchSize: ${this.matmulMaxBatchSize}; textureCacheMode: ${this.textureCacheMode}; pack: ${this.pack}; async: ${this.async}.`),!0}catch(g){return l.Logger.warning("WebGLBackend",`Unable to initialize WebGLBackend. ${g}`),!1}}createSessionHandler(g){return new d.WebGLSessionHandler(this,g)}dispose(){this.glContext.dispose()}}},6859:(i,t,s)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.CoordsGlslLib=void 0;const u=s(7273),l=s(1997),d=s(6757),y=s(7618),g=s(432);class v extends l.GlslLib{constructor(c){super(c)}getFunctions(){return Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},this.offsetToCoords()),this.coordsToOffset()),this.toVec()),this.valueFrom()),this.getCommonUtilFuncs()),this.getInputsSamplingSnippets()),this.getOutputSamplingSnippet())}getCustomTypes(){return{}}offsetToCoords(){return{offsetToCoords:new l.GlslLibRoutine(`
      vec2 offsetToCoords(int offset, int width, int height) {
        int t = offset / width;
        int s = offset - t*width;
        vec2 coords = (vec2(s,t) + vec2(0.5,0.5)) / vec2(width, height);
        return coords;
      }
      `)}}coordsToOffset(){return{coordsToOffset:new l.GlslLibRoutine(`
      int coordsToOffset(vec2 coords, int width, int height) {
        float s = coords.s * float(width);
        float t = coords.t * float(height);
        int offset = int(t) * width + int(s);
        return offset;
      }
      `)}}getOutputSamplingSnippet(){const c=this.context.outputTextureLayout;return c.isPacked?this.getPackedOutputSamplingSnippet(c):this.getUnpackedOutputSamplingSnippet(c)}getPackedOutputSamplingSnippet(c){const r=c.unpackedShape,e=[c.width,c.height],n={},o="getOutputCoords";switch(r.length){case 0:n[o]=this.getOutputScalarCoords();break;case 1:n[o]=this.getOutputPacked1DCoords(r,e);break;case 2:n[o]=this.getOutputPacked2DCoords(r,e);break;case 3:n[o]=this.getOutputPacked3DCoords(r,e);break;default:n[o]=this.getOutputPackedNDCoords(r,e)}const m=`
      void setOutput(vec4 val) {
        ${(0,d.getGlsl)(this.context.glContext.version).output} = val;
      }
    `;return n.floatTextureSetRGBA=new l.GlslLibRoutine(m),n}getUnpackedOutputSamplingSnippet(c){const r=c.unpackedShape,e=[c.width,c.height],n={},o="getOutputCoords";switch(r.length){case 0:n[o]=this.getOutputScalarCoords();break;case 1:n[o]=this.getOutputUnpacked1DCoords(r,e);break;case 2:n[o]=this.getOutputUnpacked2DCoords(r,e);break;case 3:n[o]=this.getOutputUnpacked3DCoords(r,e);break;case 4:n[o]=this.getOutputUnpacked4DCoords(r,e);break;case 5:n[o]=this.getOutputUnpacked5DCoords(r,e);break;case 6:n[o]=this.getOutputUnpacked6DCoords(r,e);break;default:throw new Error(`Unsupported output dimensionality: ${r.length}`)}const m=`
        void setOutput(float val) {
          ${(0,d.getGlsl)(this.context.glContext.version).output} = vec4(val, 0, 0, 0);
        }
    `;return n.floatTextureSetR=new l.GlslLibRoutine(m),n}getOutputScalarCoords(){return new l.GlslLibRoutine(`
      int getOutputCoords() {
        return 0;
      }
    `)}getOutputPacked1DCoords(c,r){const e=r;let n="";return e[0]===1?(n=`
          int getOutputCoords() {
            return 2 * int(TexCoords.y * ${e[1]}.0);
          }
        `,new l.GlslLibRoutine(n)):e[1]===1?(n=`
          int getOutputCoords() {
            return 2 * int(TexCoords.x * ${e[0]}.0);
          }
        `,new l.GlslLibRoutine(n)):(n=`
        int getOutputCoords() {
          ivec2 resTexRC = ivec2(TexCoords.xy *
                                 vec2(${e[0]}, ${e[1]}));
          return 2 * (resTexRC.y * ${e[0]} + resTexRC.x);
        }
      `,new l.GlslLibRoutine(n))}getOutputPacked2DCoords(c,r){let e="";if(u.ArrayUtil.arraysEqual(c,r))return e=`
        ivec2 getOutputCoords() {
          return 2 * ivec2(TexCoords.xy * vec2(${r[0]}, ${r[1]}));
        }
      `,new l.GlslLibRoutine(e);const n=r,o=Math.ceil(c[1]/2);return e=`
        ivec2 getOutputCoords() {
          ivec2 resTexRC = ivec2(TexCoords.xy *
                                vec2(${n[0]}, ${n[1]}));

          int index = resTexRC.y * ${n[0]} + resTexRC.x;

          // reverse r and c order for packed texture
          int r = imod(index, ${o}) * 2;
          int c = 2 * (index / ${o});

          return ivec2(r, c);
        }
      `,new l.GlslLibRoutine(e)}getOutputPacked3DCoords(c,r){const e=[r[0],r[1]],n=Math.ceil(c[2]/2),o=n*Math.ceil(c[1]/2),m=`
        ivec3 getOutputCoords() {
          ivec2 resTexRC = ivec2(TexCoords.xy *
                                vec2(${e[0]}, ${e[1]}));
          int index = resTexRC.y * ${e[0]} + resTexRC.x;

          int b = index / ${o};
          index -= b * ${o};

          // reverse r and c order for packed texture
          int r = imod(index, ${n}) * 2;
          int c = 2 * (index / ${n});

          return ivec3(b, r, c);
        }
      `;return new l.GlslLibRoutine(m)}getOutputPackedNDCoords(c,r){const e=[r[0],r[1]],n=Math.ceil(c[c.length-1]/2),o=n*Math.ceil(c[c.length-2]/2);let m=o,_="",x="b, r, c";for(let S=2;S<c.length-1;S++)m*=c[c.length-S-1],_=`
      int b${S} = index / ${m};
      index -= b${S} * ${m};
    `+_,x=`b${S}, `+x;const w=`
      ivec${c.length} getOutputCoords() {
        ivec2 resTexRC = ivec2(TexCoords.xy *
                              vec2(${e[0]}, ${e[1]}));
        int index = resTexRC.y * ${e[0]} + resTexRC.x;

        ${_}

        int b = index / ${o};
        index -= b * ${o};

        // reverse r and c order for packed texture
        int r = imod(index, ${n}) * 2;
        int c = 2 * (index / ${n});

        return ivec${c.length}(${x});
      }
    `;return new l.GlslLibRoutine(w)}getOutputUnpacked1DCoords(c,r){const e=`
        int getOutputCoords() {
          ivec2 resTexRC = ivec2(TexCoords.xy *
                                vec2(${r[0]}, ${r[1]}));
          return resTexRC.y * ${r[0]} + resTexRC.x;
        }
      `;return new l.GlslLibRoutine(e)}getOutputUnpacked2DCoords(c,r){const e=`
        ivec2 getOutputCoords() {
          ivec2 resTexRC = ivec2(TexCoords.xy *
                                vec2(${r[0]}, ${r[1]}));
          int index = resTexRC.y * ${r[0]} + resTexRC.x;
          int r = index / ${c[1]};
          int c = index - r * ${c[1]};
          return ivec2(r, c);
        }
      `;return new l.GlslLibRoutine(e)}getOutputUnpacked3DCoords(c,r){let e="";const n=c.length;let o=null;n<2&&(o=[]),o=new Array(n-1),o[n-2]=c[n-1];for(let x=n-3;x>=0;--x)o[x]=o[x+1]*c[x+1];const m=["r","c","d"],_=o.map((x,w)=>`int ${m[w]} = index / ${x}; ${w===o.length-1?`int ${m[w+1]} = index - ${m[w]} * ${x}`:`index -= ${m[w]} * ${x}`};`).join("");return e=`
        ivec3 getOutputCoords() {
          ivec2 resTexRC = ivec2(TexCoords.xy *
                                vec2(${r[0]}, ${r[1]}));
          int index = resTexRC.y * ${r[0]} + resTexRC.x;
          ${_}
          return ivec3(r, c, d);
        }
      `,new l.GlslLibRoutine(e)}getOutputUnpacked4DCoords(c,r){let e="";const n=c.length;let o=null;n<2&&(o=[]),o=new Array(n-1),o[n-2]=c[n-1];for(let x=n-3;x>=0;--x)o[x]=o[x+1]*c[x+1];const m=["r","c","d","d2"],_=o.map((x,w)=>`int ${m[w]} = index / ${x}; ${w===o.length-1?`int ${m[w+1]} = index - ${m[w]} * ${x}`:`index -= ${m[w]} * ${x}`};`).join("");return e=`
      ivec4 getOutputCoords() {
          ivec2 resTexRC = ivec2(TexCoords.xy *
                                vec2(${r[0]}, ${r[1]}));
          int index = resTexRC.y * ${r[0]} + resTexRC.x;
          ${_}
          return ivec4(r, c, d, d2);
        }
      `,new l.GlslLibRoutine(e)}getOutputUnpacked5DCoords(c,r){let e="";const n=c.length;let o=null;n<2&&(o=[]),o=new Array(n-1),o[n-2]=c[n-1];for(let x=n-3;x>=0;--x)o[x]=o[x+1]*c[x+1];const m=["r","c","d","d2","d3"],_=o.map((x,w)=>`int ${m[w]} = index / ${x}; ${w===o.length-1?`int ${m[w+1]} = index - ${m[w]} * ${x}`:`index -= ${m[w]} * ${x}`};`).join("");return e=`
      ivec5 getOutputCoords() {
          ivec2 resTexRC = ivec2(TexCoords.xy *
                                vec2(${r[0]}, ${r[1]}));
          int index = resTexRC.y * ${r[0]} + resTexRC.x;
          ${_}
          return ivec5(r, c, d, d2, d3);
        }
      `,new l.GlslLibRoutine(e)}getOutputUnpacked6DCoords(c,r){let e="";const n=c.length;let o=null;n<2&&(o=[]),o=new Array(n-1),o[n-2]=c[n-1];for(let x=n-3;x>=0;--x)o[x]=o[x+1]*c[x+1];const m=["r","c","d","d2","d3","d4"],_=o.map((x,w)=>`int ${m[w]} = index / ${x}; ${w===o.length-1?`int ${m[w+1]} = index - ${m[w]} * ${x}`:`index -= ${m[w]} * ${x}`};`).join("");return e=`
     ivec6 getOutputCoords() {
         ivec2 resTexRC = ivec2(TexCoords.xy *
                               vec2(${r[0]}, ${r[1]}));
         int index = resTexRC.y * ${r[0]} + resTexRC.x;
         ${_}
         return ivec6(r, c, d, d2, d3, d4);
       }
     `,new l.GlslLibRoutine(e)}getCommonUtilFuncs(){const c={};let r="uvFromFlat";c[r]=new l.GlslLibRoutine(`
    vec2 uvFromFlat(int texNumR, int texNumC, int index) {
      int texC = index / texNumR;
      int texR = index - texC * texNumR;
      // TODO: swap texR, texC order in following function so row is corresponding to u and column is corresponding to
      //       v.
      return (vec2(texR, texC) + halfCR) / vec2(texNumR, texNumC);
    }
    `),r="packedUVfrom1D",c[r]=new l.GlslLibRoutine(`
      vec2 packedUVfrom1D(int texNumR, int texNumC, int index) {
        int texelIndex = index / 2;
        int texR = texelIndex / texNumC;
        int texC = texelIndex - texR * texNumC;
        return (vec2(texC, texR) + halfCR) / vec2(texNumC, texNumR);
      }
      `),r="packedUVfrom2D",c[r]=new l.GlslLibRoutine(`
      vec2 packedUVfrom2D(int texNumR, int texNumC, int texelsInLogicalRow, int row, int col) {
        int texelIndex = (row / 2) * texelsInLogicalRow + (col / 2);
        int texR = texelIndex / texNumC;
        int texC = texelIndex - texR * texNumC;
        return (vec2(texC, texR) + halfCR) / vec2(texNumC, texNumR);
      }
      `),r="packedUVfrom3D",c[r]=new l.GlslLibRoutine(`
      vec2 packedUVfrom3D(int texNumR, int texNumC,
          int texelsInBatch, int texelsInLogicalRow, int b,
          int row, int col) {
        int index = b * texelsInBatch + (row / 2) * texelsInLogicalRow + (col / 2);
        int texR = index / texNumC;
        int texC = index - texR * texNumC;
        return (vec2(texC, texR) + halfCR) / vec2(texNumC, texNumR);
      }
      `),r="sampleTexture";const e=(0,d.getGlsl)(this.context.glContext.version);return c[r]=new l.GlslLibRoutine(`
        float sampleTexture(sampler2D textureSampler, vec2 uv) {
            return ${e.texture2D}(textureSampler, uv).r;
        }`),c}getInputsSamplingSnippets(){const c={},r=this.context.outputTextureLayout;return this.context.programInfo.inputNames.forEach((e,n)=>{const o=this.context.inputTextureLayouts[n],m=(0,g.generateShaderFuncNameFromInputSamplerName)(e);o.isPacked?c[m]=this.getPackedSamplerFromInput(m,e,o):c[m]=this.getUnpackedSamplerFromInput(m,e,o);const _=(0,g.generateShaderFuncNameFromInputSamplerNameAtOutCoords)(e);o.unpackedShape.length<=r.unpackedShape.length&&(o.isPacked?c[_]=this.getPackedSamplerAtOutputCoords(_,o,r,e):c[_]=this.getUnpackedSamplerAtOutputCoords(_,o,r,e))}),c}getPackedSamplerAtOutputCoords(c,r,e,n){const o=r.unpackedShape,m=e.unpackedShape,_=n,x=(0,g.generateShaderFuncNameFromInputSamplerName)(_),w=o.length,S=m.length,O=u.BroadcastUtil.getBroadcastDims(o,m),A=(0,g.getCoordsDataType)(S),I=S-w;let P;const L=(0,g.getGlChannels)();P=w===0?"":S<2&&O.length>=1?"coords = 0;":O.map(re=>`coords.${L[re+I]} = 0;`).join(`
`);let U="";U=S<2&&w>0?"coords":o.map((re,R)=>`coords.${L[R+I]}`).join(", ");let G="return outputValue;";const te=u.ShapeUtil.size(o)===1,Y=u.ShapeUtil.size(m)===1;if(w!==1||te||Y){if(te&&!Y)G=S===1?`
          return vec4(outputValue.x, outputValue.x, 0., 0.);
        `:`
          return vec4(outputValue.x);
        `;else if(O.length){const re=w-2,R=w-1;O.indexOf(re)>-1&&O.indexOf(R)>-1?G="return vec4(outputValue.x);":O.indexOf(re)>-1?G="return vec4(outputValue.x, outputValue.y, outputValue.x, outputValue.y);":O.indexOf(R)>-1&&(G="return vec4(outputValue.xx, outputValue.zz);")}}else G=`
        return vec4(outputValue.xy, outputValue.xy);
      `;const F=`
      vec4 ${c}() {
        ${A} coords = getOutputCoords();
        
        int lastDim = coords.${L[S-1]};
        coords.${L[S-1]} = coords.${L[S-2]};
        coords.${L[S-2]} = lastDim;
      
        ${P}
        vec4 outputValue = ${x}(${U});
        ${G}
      }
    `;return new l.GlslLibRoutine(F,["coordinates.getOutputCoords"])}getUnpackedSamplerAtOutputCoords(c,r,e,n){const o=[e.width,e.height],m=[r.width,r.height],_=r.unpackedShape.length,x=e.unpackedShape.length,w=r.unpackedShape,S=e.unpackedShape,O=(0,g.generateShaderFuncNameFromInputSamplerName)(n);if(_===x&&u.ArrayUtil.arraysEqual(m,o)){const Y=`
          float ${c}() {
            return sampleTexture(${n}, TexCoords);
          }
        `;return new l.GlslLibRoutine(Y,["coordinates.sampleTexture"])}const A=(0,g.getCoordsDataType)(x),I=u.BroadcastUtil.getBroadcastDims(w,S),P=x-_;let L;const U=(0,g.getGlChannels)();L=_===0?"":x<2&&I.length>=1?"coords = 0;":I.map(Y=>`coords.${U[Y+P]} = 0;`).join(`
`);let G="";G=x<2&&_>0?"coords":r.unpackedShape.map((Y,F)=>`coords.${U[F+P]}`).join(", ");const te=`
        float ${c}() {
          ${A} coords = getOutputCoords();
          ${L}
          return ${O}(${G});
        }
      `;return new l.GlslLibRoutine(te,["coordinates.getOutputCoords"])}getPackedSamplerFromInput(c,r,e){switch(e.unpackedShape.length){case 0:return this.getPackedSamplerScalar(c,r);case 1:return this.getPackedSampler1D(c,r,e);case 2:return this.getPackedSampler2D(c,r,e);case 3:return this.getPackedSampler3D(c,r,e);default:return this.getPackedSamplerND(c,r,e)}}getUnpackedSamplerFromInput(c,r,e){const n=e.unpackedShape;switch(n.length){case 0:return this.getUnpackedSamplerScalar(c,r,e);case 1:return this.getUnpackedSampler1D(c,r,e);case 2:return this.getUnpackedSampler2D(c,r,e);case 3:return this.getUnpackedSampler3D(c,r,e);case 4:return this.getUnpackedSampler4D(c,r,e);case 5:return this.getUnpackedSampler5D(c,r,e);case 6:return this.getUnpackedSampler6D(c,r,e);default:throw new Error(`Unsupported dimension ${n.length}-D`)}}getPackedSamplerScalar(c,r){const e=`
          vec4 ${c}() {
            return ${(0,d.getGlsl)(this.context.glContext.version).texture2D}(${r}, halfCR);
          }
        `;return new l.GlslLibRoutine(e)}getPackedSampler1D(c,r,e){const n=[e.width,e.height],o=[n[1],n[0]],m=(0,d.getGlsl)(this.context.glContext.version),_=`vec4 ${c}(int index) {
      vec2 uv = packedUVfrom1D(
      ${o[0]}, ${o[1]}, index);
      return ${m.texture2D}(${r}, uv);
    }`;return new l.GlslLibRoutine(_,["coordinates.packedUVfrom1D"])}getPackedSampler2D(c,r,e){const n=e.unpackedShape,o=[e.width,e.height],m=(0,d.getGlsl)(this.context.glContext.version),_=o[0],x=o[1];if(o!=null&&u.ArrayUtil.arraysEqual(n,o)){const A=`vec4 ${c}(int row, int col) {
        vec2 uv = (vec2(col, row) + halfCR) / vec2(${x}.0, ${_}.0);
        return ${m.texture2D}(${r}, uv);
      }`;return new l.GlslLibRoutine(A)}const w=o,S=Math.ceil(n[1]/2),O=`vec4 ${c}(int row, int col) {
      vec2 uv = packedUVfrom2D(${w[1]}, ${w[0]}, ${S}, row, col);
      return ${m.texture2D}(${r}, uv);
    }`;return new l.GlslLibRoutine(O,["coordinates.packedUVfrom2D"])}getPackedSampler3D(c,r,e){const n=e.unpackedShape,o=[e.width,e.height],m=[o[0],o[1]],_=(0,d.getGlsl)(this.context.glContext.version);if(n[0]===1){const A=n.slice(1),I=[1,2],P=(0,g.squeezeInputShape)(n,A),L=["b","row","col"],U=JSON.parse(JSON.stringify(e));U.unpackedShape=P;const G=this.getPackedSamplerFromInput(c,r,U),te=`${G.routineBody}
      vec4 ${c}(int b, int row, int col) {
        return ${c}(${(0,g.getSqueezedParams)(L,I)});
      } `;return new l.GlslLibRoutine(te,G.dependencies)}const x=m[0],w=m[1],S=Math.ceil(n[2]/2),O=`vec4 ${c}(int b, int row, int col) {
      vec2 uv = packedUVfrom3D(
        ${w}, ${x}, ${S*Math.ceil(n[1]/2)}, ${S}, b, row, col);
      return ${_.texture2D}(${r}, uv);}`;return new l.GlslLibRoutine(O,["coordinates.packedUVfrom3D"])}getPackedSamplerND(c,r,e){const n=e.unpackedShape,o=n.length,m=[e.width,e.height],_=(0,d.getGlsl)(this.context.glContext.version),x=[m[0],m[1]],w=x[1],S=x[0],O=Math.ceil(n[o-1]/2);let A=O*Math.ceil(n[o-2]/2),I="int b, int row, int col",P=`b * ${A} + (row / 2) * ${O} + (col / 2)`;for(let U=2;U<o-1;U++)I=`int b${U}, `+I,A*=n[o-U-1],P=`b${U} * ${A} + `+P;const L=`vec4 ${c}(${I}) {
      int index = ${P};
      int texR = index / ${S};
      int texC = index - texR * ${S};
      vec2 uv = (vec2(texC, texR) + halfCR) / vec2(${S}, ${w});
      return ${_.texture2D}(${r}, uv);
    }`;return new l.GlslLibRoutine(L)}getUnpackedSamplerScalar(c,r,e){const[n,o]=[e.width,e.height];if(n===1&&o===1){const _=`
          float ${c}() {
            return sampleTexture(${r}, halfCR);
          }
        `;return new l.GlslLibRoutine(_,["coordinates.sampleTexture"])}const m=`
        float ${c}() {
          int offset_${r} = coordsToOffset(TexCoords, ${n}, ${o});
          vec2 uv = uvFromFlat(${n}, ${o}, offset_${r});
          return sampleTexture(${r}, uv);
        }
      `;return new l.GlslLibRoutine(m,["coordinates.uvFromFlat","coordinates.sampleTexture","coordinates.coordsToOffset"])}getUnpackedSampler1D(c,r,e){const n=e.width,o=e.height;if(o===1&&n===1){const _=`
        float ${c}(int index) {
          return sampleTexture(${r}, halfCR);
        }
      `;return new l.GlslLibRoutine(_,["coordinates.sampleTexture"])}if(o===1){const _=`
          float ${c}(int index) {
            vec2 uv = vec2((float(index) + 0.5) / ${n}.0, 0.5);
            return sampleTexture(${r}, uv);
          }
        `;return new l.GlslLibRoutine(_,["coordinates.sampleTexture"])}if(n===1){const _=`
          float ${c}(int index) {
            vec2 uv = vec2(0.5, (float(index) + 0.5) / ${o}.0);
            return sampleTexture(${r}, uv);
          }
        `;return new l.GlslLibRoutine(_,["coordinates.sampleTexture"])}const m=`
        float ${c}(int index) {
          vec2 uv = uvFromFlat(${n}, ${o}, index);
          return sampleTexture(${r}, uv);
        }
      `;return new l.GlslLibRoutine(m,["coordinates.uvFromFlat","coordinates.sampleTexture"])}getUnpackedSampler2D(c,r,e){const n=e.unpackedShape,o=[e.height,e.width];if(o!=null&&u.ArrayUtil.arraysEqual(n,o)){const A=`
          float ${c}(int row, int col) {
            vec2 uv = (vec2(row, col) + halfCR) / vec2(${o[1]}.0, ${o[0]}.0);
            return sampleTexture(${r}, uv);
          }
        `;return new l.GlslLibRoutine(A,["coordinates.sampleTexture"])}const{newShape:m,keptDims:_}=(0,y.squeezeShape)(n),x=m;if(x.length<n.length){const A=(0,g.squeezeInputShape)(n,x),I=JSON.parse(JSON.stringify(e));I.unpackedShape=A;const P=["col","row"],L=`
          ${this.getUnpackedSamplerFromInput(c,r,I).routineBody}
          float ${c}(int row, int col) {
            return ${c}(${(0,g.getSqueezedParams)(P,_)});
          }
        `;return new l.GlslLibRoutine(L,["coordinates.sampleTexture"])}const w=o[1],S=o[0];if(S===1){const A=`
          float ${c}(int row, int col) {
            int offset_${r} = coordsToOffset(TexCoords, ${w}, ${S});
            float index = dot(vec3(row, col, offset_${r}), vec3(${n[1]}, 1, 1));
            vec2 uv = vec2(0.5, (index + 0.5) / ${w}.0);
            return sampleTexture(${r}, uv);
          }
        `;return new l.GlslLibRoutine(A,["coordinates.sampleTexture","coordinates.coordsToOffset"])}if(w===1){const A=`
          float ${c}(int row, int col) {
            int offset_${r} = coordsToOffset(TexCoords, ${w}, ${S});
            float index = dot(vec3(row, col, offset_${r}), vec3(${n[1]}, 1, 1));
            vec2 uv = vec2((index + 0.5) / ${S}.0, 0.5);
            return sampleTexture(${r}, uv);
          }
        `;return new l.GlslLibRoutine(A,["coordinates.sampleTexture","coordinates.coordsToOffset"])}const O=`
        float ${c}(int row, int col) {
          int index = col * ${n[1]} + row;
          vec2 uv = uvFromFlat(${w}, ${S}, index);
          return sampleTexture(${r}, uv);
        }
      `;return new l.GlslLibRoutine(O,["coordinates.uvFromFlat","coordinates.sampleTexture","coordinates.coordsToOffset"])}getUnpackedSampler3D(c,r,e){const n=e.unpackedShape,o=n[1]*n[2],m=n[2],{newShape:_,keptDims:x}=(0,y.squeezeShape)(n),w=_;if(w.length<n.length){const O=(0,g.squeezeInputShape)(n,w),A=["batch","col","row"],I=JSON.parse(JSON.stringify(e));I.unpackedShape=O;const P=this.getUnpackedSamplerFromInput(c,r,I),L=x.reverse(),U=`
          ${P.routineBody}
          float ${c}(int batch, int row, int col) {
            return ${c}(${(0,g.getSqueezedParams)(A,L)});
          }
        `;return new l.GlslLibRoutine(U,P.dependencies)}const S=`
          float ${c}(int depth, int row, int col) {
            // Explicitly use integer operations as dot() only works on floats.
            int index = depth * ${o} + col * ${m} + row;
            vec2 uv = uvFromFlat(${e.width}, ${e.height}, index);
            return sampleTexture(${r}, uv);
          }
      `;return new l.GlslLibRoutine(S,["coordinates.uvFromFlat","coordinates.sampleTexture","coordinates.coordsToOffset"])}getUnpackedSampler4D(c,r,e){const n=e.unpackedShape,o=n[3],m=n[2]*o,_=`
        float ${c}(int row, int col, int depth, int depth2) {
          int index = row * ${n[1]*m} + col * ${m} +
              depth2 * ${o} + depth;
          vec2 uv = uvFromFlat(${e.width}, ${e.height}, index);
          return sampleTexture(${r}, uv);
        }
      `;return new l.GlslLibRoutine(_,["coordinates.uvFromFlat","coordinates.sampleTexture"])}getUnpackedSampler5D(c,r,e){const n=e.unpackedShape,o=n[4],m=n[3]*o,_=n[2]*m,x=n[1]*_,{newShape:w,keptDims:S}=(0,y.squeezeShape)(n);if(w.length<n.length){const A=(0,g.squeezeInputShape)(n,w),I=["row","col","depth","depth2","depth3"],P=JSON.parse(JSON.stringify(e));P.unpackedShape=A;const L=`
          ${this.getUnpackedSamplerFromInput(c,r,P).routineBody}
          float ${c}(int row, int col, int depth, int depth2, int depth3) {
            return ${c}(${(0,g.getSqueezedParams)(I,S)});
          }
        `;return new l.GlslLibRoutine(L,["coordinates.sampleTexture","coordinates.uvFromFlat"])}const O=`
        float ${c}(int row, int col, int depth, int depth2, int depth3) {
          int index = row * ${x} + col * ${_} + depth * ${m} +
          depth3 * ${o} + depth2;
          vec2 uv = uvFromFlat(${e.width}, ${e.height}, index);
          return sampleTexture(${r}, uv);
        }
      `;return new l.GlslLibRoutine(O,["coordinates.sampleTexture","coordinates.uvFromFlat"])}getUnpackedSampler6D(c,r,e){const n=e.unpackedShape,o=n[5],m=n[4]*o,_=n[3]*m,x=n[2]*_,w=n[1]*x,{newShape:S,keptDims:O}=(0,y.squeezeShape)(n);if(S.length<n.length){const I=(0,g.squeezeInputShape)(n,S),P=["row","col","depth","depth2","depth3","depth4"],L=JSON.parse(JSON.stringify(e));L.unpackedShape=I;const U=`
            ${this.getUnpackedSamplerFromInput(c,r,L).routineBody}
            float ${c}(int row, int col, int depth,
              int depth2, int depth3, int depth4) {
              return ${c}(${(0,g.getSqueezedParams)(P,O)});
            }
          `;return new l.GlslLibRoutine(U,["coordinates.sampleTexture","coordinates.uvFromFlat"])}const A=`
          float ${c}(int row, int col, int depth,
            int depth2, int depth3, int depth4) {
            int index = row * ${w} + col * ${x} + depth * ${_} +
            depth2 * ${m} + depth3 * ${o} + depth4;
            vec2 uv = uvFromFlat(${e.width}, ${e.height}, index);
            return sampleTexture(${r}, uv);
          }
        `;return new l.GlslLibRoutine(A,["coordinates.uvFromFlat","coordinates.sampleTexture","coordinates.coordsToOffset"])}toVec(){const c=this.context.outputTextureLayout,r=c.shape.length,e=c.strides,n=c.width,o=c.height,m=[];for(let x=0;x<r-1;++x)m.push(`
        c[${x}] = offset / ${e[x]};`),m.push(`
        offset -= c[${x}] * ${e[x]};`);m.push(`
        c[${r-1}] = offset;`);const _=`
      void toVec(vec2 texCoords, out int c[${r}]) {
        int offset = coordsToOffset(texCoords, ${n}, ${o});
        ${m.join("")}
      }
      void toVec(int offset, out int c[${r}]) {
        ${m.join("")}
      }
    `;return{toVec:new l.GlslLibRoutine(_,["coordinates.coordsToOffset"])}}valueFrom(){const c={};return this.context.programInfo.inputNames.forEach((r,e)=>{const n=this.context.inputTextureLayouts[e],o=(n.unpackedShape.length>0?n.unpackedShape:n.shape).length;let m=`_${r}`;c[m]=new l.GlslLibRoutine(this.getValueFromSingle(r,o,n.width,n.height,!1),[`shapeUtils.indicesToOffset${m}`,"coordinates.offsetToCoords","fragcolor.getColorAsFloat"]),m+="_T",c[m]=new l.GlslLibRoutine(this.getValueFromSingle(r,o,n.width,n.height,!0),[`shapeUtils.indicesToOffset${m}`,"coordinates.offsetToCoords","fragcolor.getColorAsFloat"])}),c}getValueFromSingle(c,r,e,n,o){let m=`_${c}`;return o&&(m+="_T"),`
        float ${m}(int m[${r}]) {
          int offset = indicesToOffset${m}(m);
          vec2 coords = offsetToCoords(offset, ${e}, ${n});
          float value = getColorAsFloat(${(0,d.getGlsl)(this.context.glContext.version).texture2D}(${c}, coords));
          return value;
        }
        `}getPackedValueFrom(c,r,e,n,o){let m=`_${c}_Pack`;return o&&(m+="_T"),`
        vec4 ${m}(int m[${r}]) {
          int offset = indicesToOffset_${c}(m);
          vec2 coords = offsetToCoords(offset, ${e}, ${n});
          return ${(0,d.getGlsl)(this.context.glContext.version).texture2D}(${c}, coords);
        }
        `}}t.CoordsGlslLib=v},1997:(i,t)=>{var s;Object.defineProperty(t,"__esModule",{value:!0}),t.TopologicalSortGlslRoutines=t.GlslLibRoutineNode=t.GlslLibRoutine=t.GlslLib=t.GlslContext=t.FunctionType=void 0,(s=t.FunctionType||(t.FunctionType={}))[s.ValueBased=0]="ValueBased",s[s.Positional=1]="Positional",t.GlslContext=class{constructor(u,l,d,y){this.glContext=u,this.programInfo=l,this.inputTextureLayouts=d,this.outputTextureLayout=y}},t.GlslLib=class{constructor(u){this.context=u}},t.GlslLibRoutine=class{constructor(u,l){this.routineBody=u,this.dependencies=l}},t.GlslLibRoutineNode=class{constructor(u,l,d){this.name=u,this.dependencies=d||[],l&&(this.routineBody=l)}addDependency(u){u&&this.dependencies.push(u)}},t.TopologicalSortGlslRoutines=class{static returnOrderedNodes(u){if(!u||u.length===0)return[];if(u.length===1)return u;const l=new Set,d=new Set,y=new Array;return this.createOrderedNodes(u,l,d,y),y}static createOrderedNodes(u,l,d,y){for(let g=0;g<u.length;++g)this.dfsTraverse(u[g],l,d,y)}static dfsTraverse(u,l,d,y){if(!u||d.has(u.name))return;if(l.has(u.name))throw new Error("Cyclic dependency detected. Can't topologically sort routines needed for shader.");l.add(u.name);const g=u.dependencies;if(g&&g.length>0)for(let v=0;v<g.length;++v)this.dfsTraverse(g[v],l,d,y);y.push(u),d.add(u.name),l.delete(u.name)}}},1371:(i,t,s)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.EncodingGlslLib=void 0;const u=s(1997);class l extends u.GlslLib{constructor(y){super(y)}getFunctions(){return Object.assign(Object.assign({},this.encodeFloat32()),this.decodeFloat32())}getCustomTypes(){return{}}encodeFloat32(){return{encode:new u.GlslLibRoutine(`highp vec4 encode(highp float f) {
        return vec4(f, 0.0, 0.0, 0.0);
      }
        `)}}decodeFloat32(){return{decode:new u.GlslLibRoutine(`highp float decode(highp vec4 rgba) {
        return rgba.r;
      }
        `)}}encodeUint8(){const y=l.isLittleEndian()?"rgba.rgba=rgba.abgr;":"";return{encode:new u.GlslLibRoutine(`
      highp vec4 encode(highp float f) {
        highp float F = abs(f);
        highp float Sign = step(0.0,-f);
        highp float Exponent = floor(log2(F));
        highp float Mantissa = (exp2(- Exponent) * F);
        Exponent = floor(log2(F) + 127.0) + floor(log2(Mantissa));
        highp vec4 rgba;
        rgba[0] = 128.0 * Sign  + floor(Exponent*exp2(-1.0));
        rgba[1] = 128.0 * mod(Exponent,2.0) + mod(floor(Mantissa*128.0),128.0);
        rgba[2] = floor(mod(floor(Mantissa*exp2(23.0 -8.0)),exp2(8.0)));
        rgba[3] = floor(exp2(23.0)*mod(Mantissa,exp2(-15.0)));
        ${y}
        rgba = rgba / 255.0; // values need to be normalized to [0,1]
        return rgba;
    }
        `)}}decodeUint8(){const y=l.isLittleEndian()?"rgba.rgba=rgba.abgr;":"";return{decode:new u.GlslLibRoutine(`
        highp float decode(highp vec4 rgba) {
          rgba = rgba * 255.0; // values need to be de-normalized from [0,1] to [0,255]
          ${y}
          highp float Sign = 1.0 - step(128.0,rgba[0])*2.0;
          highp float Exponent = 2.0 * mod(rgba[0],128.0) + step(128.0,rgba[1]) - 127.0;
          highp float Mantissa = mod(rgba[1],128.0)*65536.0 + rgba[2]*256.0 +rgba[3] + float(0x800000);
          highp float Result =  Sign * exp2(Exponent) * (Mantissa * exp2(-23.0 ));
          return Result;
      }
        `)}}static isLittleEndian(){const y=new ArrayBuffer(4),g=new Uint32Array(y),v=new Uint8Array(y);if(g[0]=3735928559,v[0]===239)return!0;if(v[0]===222)return!1;throw new Error("unknown endianness")}}t.EncodingGlslLib=l},2691:(i,t,s)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.FragColorGlslLib=void 0;const u=s(1997),l=s(6757);class d extends u.GlslLib{constructor(g){super(g)}getFunctions(){return Object.assign(Object.assign({},this.setFragColor()),this.getColorAsFloat())}getCustomTypes(){return{}}setFragColor(){const g=(0,l.getGlsl)(this.context.glContext.version);return{setFragColor:new u.GlslLibRoutine(`
        void setFragColor(float value) {
            ${g.output} = encode(value);
        }
        `,["encoding.encode"])}}getColorAsFloat(){return{getColorAsFloat:new u.GlslLibRoutine(`
        float getColorAsFloat(vec4 color) {
            return decode(color);
        }
        `,["encoding.decode"])}}}t.FragColorGlslLib=d},3878:(i,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.replaceInlines=void 0;const s=/@inline[\s\n\r]+(\w+)[\s\n\r]+([0-9a-zA-Z_]+)\s*\(([^)]*)\)\s*{(([^}]|[\n\r])*)}/gm;t.replaceInlines=function(u){const l={};let d;for(;(d=s.exec(u))!==null;){const y=d[3].split(",").map(g=>{const v=g.trim().split(" ");return v&&v.length===2?{type:v[0],name:v[1]}:null}).filter(g=>g!==null);l[d[2]]={params:y,body:d[4]}}for(const y in l){const g="(\\w+)?\\s+([_0-9a-zA-Z]+)\\s+=\\s+__FUNC__\\((.*)\\)\\s*;".replace("__FUNC__",y),v=new RegExp(g,"gm");for(;(d=v.exec(u))!==null;){const f=d[1],c=d[2],r=d[3].split(","),e=f?`${f} ${c};`:"";let n=l[y].body,o="";l[y].params.forEach((_,x)=>{_&&(o+=`${_.type} ${_.name} = ${r[x]};
`)}),n=`${o}
 ${n}`,n=n.replace("return",`${c} = `);const m=`
      ${e}
      {
        ${n}
      }
      `;u=u.replace(d[0],m)}}return u.replace(s,"")}},8897:(i,t,s)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.GlslPreprocessor=void 0;const u=s(1997),l=s(3878),d=s(1248),y=s(6757);t.GlslPreprocessor=class{constructor(g,v,f,c){this.libs={},this.glslLibRoutineDependencyGraph={},this.context=new u.GlslContext(g,v,f,c),Object.keys(d.glslRegistry).forEach(e=>{const n=new d.glslRegistry[e](this.context);this.libs[e]=n});const r=this.glslLibRoutineDependencyGraph;for(const e in this.libs){const n=this.libs[e].getFunctions();for(const o in n){const m=e+"."+o;let _;r[m]?(_=r[m],_.routineBody=n[o].routineBody):(_=new u.GlslLibRoutineNode(m,n[o].routineBody),r[m]=_);const x=n[o].dependencies;if(x)for(let w=0;w<x.length;++w)if(r[x[w]])_.addDependency(r[x[w]]);else{const S=new u.GlslLibRoutineNode(x[w]);r[x[w]]=S,_.addDependency(S)}}}}preprocess(){const g=this.context.programInfo;let v=g.shaderSource;return this.context.programInfo.hasMain||(v=`${v}
      ${(0,y.getDefaultFragShaderMain)(this.context.glContext.version,this.context.outputTextureLayout.shape.length)}`),v=(0,l.replaceInlines)(v),`${(0,y.getFragShaderPreamble)(this.context.glContext.version)}
    ${this.getUniforms(g.inputNames,g.variables)}
    ${this.getImports(v)}
    ${v}`}getImports(g){const v=this.selectGlslLibRoutinesToBeIncluded(g);if(v.length===0)return"";let f="";for(let c=0;c<v.length;++c){if(!v[c].routineBody)throw new Error(`Missing body for the Glsl Library routine: ${v[c].name}`);f+=v[c].routineBody+`
`}return f}selectGlslLibRoutinesToBeIncluded(g){const v=[];return Object.keys(this.glslLibRoutineDependencyGraph).forEach(f=>{const c=f.split(".")[1];g.indexOf(c)!==-1&&v.push(this.glslLibRoutineDependencyGraph[f])}),u.TopologicalSortGlslRoutines.returnOrderedNodes(v)}getUniforms(g,v){const f=[];if(g)for(const c of g)f.push(`uniform sampler2D ${c};`);if(v)for(const c of v)f.push(`uniform ${c.type} ${c.name}${c.arrayLength?`[${c.arrayLength}]`:""};`);return f.join(`
`)}}},1248:(i,t,s)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.glslRegistry=void 0;const u=s(6859),l=s(1371),d=s(2691),y=s(9183),g=s(9314);t.glslRegistry={encoding:l.EncodingGlslLib,fragcolor:d.FragColorGlslLib,vec:g.VecGlslLib,shapeUtils:y.ShapeUtilsGlslLib,coordinates:u.CoordsGlslLib}},9183:(i,t,s)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.ShapeUtilsGlslLib=void 0;const u=s(1997);class l extends u.GlslLib{constructor(y){super(y)}getFunctions(){return Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},this.bcastIndex()),this.bcastMatmulIndex()),this.offsetToIndices()),this.indicesToOffset()),this.incrementIndices())}getCustomTypes(){return{}}bcastIndex(){const y=this.context.outputTextureLayout.shape.length,g={};return this.context.programInfo.inputNames.forEach((v,f)=>{const c=this.context.inputTextureLayouts[f].unpackedShape;if(c.length<=y){const r=c.length,e=y-r,n=`bcastIndices_${v}`;let o="";for(let _=0;_<r;++_)o+=`
          realIndices[${_}] = int( mod(float(bcastedIndices[${e+_}]), ${c[_]}.0) );
          `;const m=`
        void ${n} (int bcastedIndices[${y}], out int realIndices[${r}]) {
          ${o}
        }
        `;g[n]=new u.GlslLibRoutine(m)}}),g}bcastMatmulIndex(){const y=this.context.outputTextureLayout.shape.length,g={};return this.context.programInfo.inputNames.forEach((v,f)=>{const c=this.context.inputTextureLayouts[f].shape;if(!(c.length<2||c.length>y)){const r=c.length,e=y-r,n=`bcastMatmulIndices_${v}`;let o="";for(let _=0;_<r-2;++_)o+=`
          realIndices[${_}] = int( mod(float(bcastedIndices[${e+_}]), ${c[_]}.0) );
          `;const m=`
        void ${n}(int bcastedIndices[${y}], out int realIndices[${r}]) {
          ${o}
          realIndices[${r-1}] = bcastedIndices[${y-1}];
          realIndices[${r-2}] = bcastedIndices[${y-2}];
        }
        `;g[n]=new u.GlslLibRoutine(m)}}),g}indicesToOffset(){const y={};return this.context.programInfo.inputNames.forEach((g,v)=>{const f=this.context.inputTextureLayouts[v].shape,c=this.context.inputTextureLayouts[v].strides,r=f.length;let e=`indicesToOffset_${g}`;y[e]=new u.GlslLibRoutine(l.indexToOffsetSingle(e,r,c)),e=`indicesToOffset_${g}_T`,y[e]=new u.GlslLibRoutine(l.indexToOffsetSingle(e,r,c.slice().reverse()))}),y}static indexToOffsetSingle(y,g,v){let f="";for(let c=g-1;c>=0;--c)f+=`
        offset += indices[${c}] * ${v[c]};
        `;return`
      int ${y}(int indices[${g}]) {
        int offset = 0;
        ${f}
        return offset;
      }
      `}offsetToIndices(){const y={};return this.context.programInfo.inputNames.forEach((g,v)=>{const f=this.context.inputTextureLayouts[v].shape,c=this.context.inputTextureLayouts[v].strides,r=f.length;let e=`offsetToIndices_${g}`;y[e]=new u.GlslLibRoutine(l.offsetToIndicesSingle(e,r,c)),e=`offsetToIndices_${g}_T`,y[e]=new u.GlslLibRoutine(l.offsetToIndicesSingle(e,r,c.slice().reverse()))}),y}static offsetToIndicesSingle(y,g,v){const f=[];for(let c=0;c<g-1;++c)f.push(`
      indices[${c}] = offset / ${v[c]};`),f.push(`
        offset -= indices[${c}] * ${v[c]};`);return f.push(`
      indices[${g-1}] = offset;`),`
      void ${y}(int offset, out int indices[${g}]) {
        ${f.join("")}
      }
      `}incrementIndices(){const y={};return this.context.programInfo.inputNames.forEach((g,v)=>{const f=this.context.inputTextureLayouts[v].shape,c=f.length,r=`incrementIndices_${g}`;let e="";for(let o=0;o<c;++o)e+=`
        shape[${o}] = ${f[o]};`;const n=`
        void ${r}(int axis, out int indices[${c}]) {
          int shape[${c}];
          ${e};
          for(int i = ${c} -1 ; i >= 0; --i) {
            if(i > axis) continue;
            indices[i] += 1;
            if(indices[i] < shape[i]) {
              break;
            }
            indices[i] = 0;
          }
        }
        `;y[r]=new u.GlslLibRoutine(n)}),y}}t.ShapeUtilsGlslLib=l},6757:(i,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.getDefaultFragShaderMain=t.getFragShaderPreamble=t.getVertexShaderSource=t.getGlsl=void 0;const s={version:"",attribute:"attribute",varyingVertex:"varying",varyingFrag:"varying",texture2D:"texture2D",output:"gl_FragColor",outputDeclaration:""},u={version:"#version 300 es",attribute:"in",varyingVertex:"out",varyingFrag:"in",texture2D:"texture",output:"outputColor",outputDeclaration:"out vec4 outputColor;"};function l(d){return d===1?s:u}t.getGlsl=l,t.getVertexShaderSource=function(d){const y=l(d);return`${y.version}
      precision highp float;
      ${y.attribute} vec3 position;
      ${y.attribute} vec2 textureCoord;

      ${y.varyingVertex} vec2 TexCoords;

      void main()
      {
          gl_Position = vec4(position, 1.0);
          TexCoords = textureCoord;
      }`},t.getFragShaderPreamble=function(d){const y=l(d);return`${y.version}
    precision highp float;
    precision highp int;
    precision highp sampler2D;
    ${y.varyingFrag} vec2 TexCoords;
    ${y.outputDeclaration}
    const vec2 halfCR = vec2(0.5, 0.5);

    // Custom vector types to handle higher dimenalities.
    struct ivec5
    {
      int x;
      int y;
      int z;
      int w;
      int u;
    };

    struct ivec6
    {
      int x;
      int y;
      int z;
      int w;
      int u;
      int v;
    };

    int imod(int x, int y) {
      return x - y * (x / y);
    }

    `},t.getDefaultFragShaderMain=function(d,y){return`
  void main() {
    int indices[${y}];
    toVec(TexCoords, indices);
    vec4 result = vec4(process(indices));
    ${l(d).output} = result;
  }
  `}},9314:(i,t,s)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.VecGlslLib=void 0;const u=s(1997);class l extends u.GlslLib{constructor(y){super(y)}getCustomTypes(){return{}}getFunctions(){return Object.assign(Object.assign(Object.assign(Object.assign({},this.binaryVecFunctions()),this.copyVec()),this.setVecItem()),this.getVecItem())}binaryVecFunctions(){const y=this.context.outputTextureLayout.shape.length,g={add:"+=",sub:"-=",mul:"*=",div:"/="},v={};for(const f in g){const c=`${f}Vec`;let r="";for(let n=0;n<y;++n)r+=`
          dest[${n}] ${g[f]} src[${n}];
          `;const e=`
        void ${c}(int src[${y}], out int dest[${y}]) {
          ${r}
        }
        `;v[c]=new u.GlslLibRoutine(e)}return v}copyVec(){const y=this.context.outputTextureLayout.shape.length;let g="";for(let f=0;f<y;++f)g+=`
        dest[${f}] = src[${f}];
        `;const v=`
      void copyVec(int src[${y}], out int dest[${y}]) {
        ${g}
      }
      `;return{copyVec:new u.GlslLibRoutine(v)}}setVecItem(){const y=this.context.outputTextureLayout.shape.length;let g=`
        if(index < 0)
            index =${y} + index;
        if (index == 0)
            m[0] = value;
        `;for(let f=1;f<y-1;++f)g+=`
        else if (index == ${f})
            m[${f}] = value;
            `;g+=`
        else
            m[${y-1}] = value;
        `;const v=`
      void setVecItem(out int m[${y}], int index, int value) {
        ${g}
      }
        `;return{setVecItem:new u.GlslLibRoutine(v)}}getVecItem(){const y=this.context.outputTextureLayout.shape.length;let g=`
        if(index < 0)
            index = ${y} + index;
        if (index == 0)
            return m[0];
      `;for(let f=1;f<y-1;++f)g+=`
        else if (index == ${f})
            return m[${f}];
      `;g+=`
        else
            return m[${y-1}];
        `;const v=`
      int getVecItem(int m[${y}], int index) {
        ${g}
      }
    `;return{getVecItem:new u.GlslLibRoutine(v)}}}t.VecGlslLib=l},7860:(i,t,s)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.WebGLInferenceHandler=void 0;const u=s(1315),l=s(9240),d=s(7273),y=s(9),g=s(7379),v=s(2488),f=s(540),c=s(3314),r=s(5639);t.WebGLInferenceHandler=class{constructor(e){this.session=e,this.packedTextureDataCache=new Map,this.unpackedTextureDataCache=new Map}calculateTextureWidthAndHeight(e,n){return(0,c.calculateTextureWidthAndHeight)(this.session.layoutStrategy,e,n)}executeProgram(e,n){if(n.length<e.inputNames.length)throw new Error(`Input size mustn't be less than ${e.inputNames.length}.`);if(e.inputNames.length!==e.inputTypes.length)throw new Error("input names size does not match input types");const o=[];for(let O=0;O<e.inputNames.length;++O)o[O]=this.getOrCreateTextureData(n[O],e.inputTypes[O]);const m=((O,A)=>{const I=A.map(L=>`${L.unpackedShape.join(",")};${L.width}x${L.height}`).join("_");let P=O.name;return O.cacheHint&&(P+="["+O.cacheHint+"]"),P+=":"+I,P})(e,o);let _=this.session.programManager.getArtifact(m);const x=_?_.programInfo:typeof e.get=="function"?e.get():e,w=(0,c.createTextureLayoutFromTextureType)(this.session.layoutStrategy,x.output.dims,x.output.textureType),S=this.createTextureData(w,x.output.type);return _||(_=this.session.programManager.build(x,o,S),this.session.programManager.setArtifact(m,_)),this.runProgram(_,o,S),S}run(e,n){return this.executeProgram(e,n).tensor}runProgram(e,n,o){for(let m=0;m<n.length;++m)if(!!n[m].isPacked!=(e.programInfo.inputTypes[m]===r.TextureType.packed))throw new Error(`input[${m}] property packed inconsistent`);if(!!o.isPacked!=(e.programInfo.output.textureType===r.TextureType.packed))throw new Error("output property packed inconsistent");this.session.programManager.run(e,n,o)}getOrCreateTextureData(e,n){let o=this.getTextureData(e.dataId,n===r.TextureType.packed);if(!o&&(o=this.getTextureData(e.dataId,n!==r.TextureType.packed),o))return n===r.TextureType.packed?this.pack(o):this.unpack(o);if(!o){const m=(0,c.createTextureLayoutFromTextureType)(this.session.layoutStrategy,e.dims,n);if(n===r.TextureType.packedLastDimension){const w=e.dims;if(w.length===4){const S=[w[0],Math.ceil(w[1]*w[2]*w[3]/4)],O=(0,c.createTextureLayoutFromTextureType)(this.session.layoutStrategy,S,n);let A=e.numberData;if(w[1]*w[2]*w[3]%4!=0){const I=w[0],P=w[1]*w[2]*w[3],L=Math.ceil(P*1/4)*4;A=new Float32Array(I*L);for(let U=0;U<I;++U){const G=U*P,te=U*L+U%1*P;A.set(e.numberData.subarray(G,G+P),te)}}return this.createTextureData(O,e.type,A,e,1)}}if(n===r.TextureType.packed){const _=(0,c.createTextureLayoutFromShape)(this.session.layoutStrategy,e.dims,1,[],{reverseWH:!0}),x=this.createTextureData(_,e.type,e.numberData,e,1);o=this.pack(x)}else o=this.createTextureData(m,e.type,e.numberData,e,1)}return o}createTextureDataFromLayoutBindTensor(e,n,o,m){return this.createTextureData(e,n,o,m,1)}createTextureData(e,n,o,m,_){u.Logger.verbose("InferenceHandler",`Creating TextureData: layout:[${JSON.stringify(e)}]`);const x=this.session.textureManager.createTextureFromLayout(n,e,o,_);return this.createTextureDataFromTexture(e,n,x,m)}reshapeUnpacked(e,n){const o=this.getOrCreateTextureData(e,r.TextureType.unpacked),m={channels:o.channels,height:o.height,width:o.width,shape:n.length!==0?n:[1],strides:d.ShapeUtil.computeStrides(n),unpackedShape:n};return this.createTextureDataFromTexture(m,e.type,o.texture).tensor}reshapePacked(e,n){const o=this.getOrCreateTextureData(e,r.TextureType.packed);if((0,g.isReshapeCheap)(e.dims,n)){const S={channels:o.channels,height:o.height,width:o.width,shape:n.length!==0?n:[1],strides:d.ShapeUtil.computeStrides(n),unpackedShape:n,isPacked:!0};return this.createTextureDataFromTexture(S,e.type,o.texture).tensor}const m=(0,g.processDims3D)(e.dims),_=(0,g.processDims3D)(n),x=this.reshapePacked(e,m),w=this.run((0,g.createPackedReshape3DProgramInfoLoader)(this,x,_),[x]);return this.reshapePacked(w,n)}cast(e,n){const o=this.getOrCreateTextureData(e,r.TextureType.unpacked);return this.createTextureDataFromTexture(o,n,o.texture).tensor}createTextureDataFromTexture(e,n,o,m,_){const x=Object.assign(Object.assign({},e),{tensor:m||new l.Tensor(e.unpackedShape,n,w=>this.readTexture(x),async w=>this.readTextureAsync(x),void 0,_),texture:o});return this.setTextureData(x.tensor.dataId,x,e.isPacked),x}getTextureData(e,n=!1){return this.session.isInitializer(e)?this.session.getTextureData(e,n):n?this.packedTextureDataCache.get(e):this.unpackedTextureDataCache.get(e)}setTextureData(e,n,o=!1){this.session.isInitializer(e)?this.session.setTextureData(e,n,o):(o?this.packedTextureDataCache:this.unpackedTextureDataCache).set(e,n)}isTextureLayoutCached(e,n=!1){return!!this.getTextureData(e.dataId,n)}dispose(){this.session.textureManager.clearActiveTextures(),this.packedTextureDataCache.forEach(e=>this.session.textureManager.releaseTexture(e)),this.packedTextureDataCache=new Map,this.unpackedTextureDataCache.forEach(e=>this.session.textureManager.releaseTexture(e)),this.unpackedTextureDataCache=new Map}readTexture(e){return e.isPacked?this.readTexture(this.unpack(e)):this.session.backend.glContext.isFloat32DownloadSupported?this.session.textureManager.readTexture(e,e.tensor.type,e.channels):this.session.textureManager.readUint8TextureAsFloat((0,v.encodeAsUint8)(this,e))}async readTextureAsync(e){return e.isPacked?this.readTextureAsync(this.unpack(e)):this.session.backend.glContext.isFloat32DownloadSupported?this.session.textureManager.readTextureAsync(e,e.tensor.type,e.channels):this.session.textureManager.readUint8TextureAsFloat((0,v.encodeAsUint8)(this,e))}pack(e){return this.executeProgram((0,y.createPackProgramInfoLoader)(this,e.tensor),[e.tensor])}unpack(e){return this.executeProgram((0,f.createUnpackProgramInfoLoader)(this,e.tensor),[e.tensor])}}},4110:function(i,t,s){var u=this&&this.__createBinding||(Object.create?function(Ce,we,Pe,Le){Le===void 0&&(Le=Pe);var Be=Object.getOwnPropertyDescriptor(we,Pe);Be&&!("get"in Be?!we.__esModule:Be.writable||Be.configurable)||(Be={enumerable:!0,get:function(){return we[Pe]}}),Object.defineProperty(Ce,Le,Be)}:function(Ce,we,Pe,Le){Le===void 0&&(Le=Pe),Ce[Le]=we[Pe]}),l=this&&this.__setModuleDefault||(Object.create?function(Ce,we){Object.defineProperty(Ce,"default",{enumerable:!0,value:we})}:function(Ce,we){Ce.default=we}),d=this&&this.__importStar||function(Ce){if(Ce&&Ce.__esModule)return Ce;var we={};if(Ce!=null)for(var Pe in Ce)Pe!=="default"&&Object.prototype.hasOwnProperty.call(Ce,Pe)&&u(we,Ce,Pe);return l(we,Ce),we};Object.defineProperty(t,"__esModule",{value:!0}),t.WEBGL_OP_RESOLVE_RULES=void 0;const y=s(8817),g=d(s(5194)),v=s(4752),f=s(6668),c=s(9754),r=s(5042),e=s(6742),n=s(4125),o=s(6149),m=s(5378),_=s(6981),x=s(7413),w=s(7006),S=s(8276),O=s(5565),A=s(2834),I=s(1010),P=s(8126),L=s(2801),U=s(565),G=s(2444),te=s(815),Y=s(564),F=s(5416),re=s(1240),R=s(5944),M=s(5707),H=d(s(9087)),le=s(7862),he=s(3980);t.WEBGL_OP_RESOLVE_RULES=[["Abs","","6+",H.abs],["Acos","","7+",H.acos],["Add","","7+",g.add],["And","","7+",g.and],["Asin","","7+",H.asin],["Atan","","7+",H.atan],["AveragePool","","7+",A.averagePool,A.parseAveragePoolAttributes],["BatchNormalization","","7+",y.batchNormalization,y.parseBatchNormalizationAttributes],["Cast","","6+",v.cast,v.parseCastAttributes],["Ceil","","6+",H.ceil],["Clip","","6-10",H.clip,H.parseClipAttributes],["Clip","","11+",H.clipV11],["Concat","","4+",f.concat,f.parseConcatAttributes],["Conv","","1+",c.conv,c.parseConvAttributes],["ConvTranspose","","1+",r.convTranspose,r.parseConvTransposeAttributes],["Cos","","7+",H.cos],["Div","","7+",g.div],["Dropout","","7+",H.identity],["DepthToSpace","","1+",e.depthToSpace,e.parseDepthToSpaceAttributes],["Equal","","7+",g.equal],["Elu","","6+",H.elu,H.parseEluAttributes],["Exp","","6+",H.exp],["Flatten","","1+",n.flatten,n.parseFlattenAttributes],["Floor","","6+",H.floor],["FusedConv","com.microsoft","1+",c.conv,c.parseConvAttributes],["Gather","","1+",o.gather,o.parseGatherAttributes],["Gemm","","7-10",m.gemm,m.parseGemmAttributesV7],["Gemm","","11+",m.gemm,m.parseGemmAttributesV11],["GlobalAveragePool","","1+",A.globalAveragePool,A.parseGlobalAveragePoolAttributes],["GlobalMaxPool","","1+",A.globalMaxPool],["Greater","","7+",g.greater],["Identity","","1+",H.identity],["ImageScaler","","1+",_.imageScaler,_.parseImageScalerAttributes],["InstanceNormalization","","6+",x.instanceNormalization,x.parseInstanceNormalizationAttributes],["LeakyRelu","","6+",H.leakyRelu,H.parseLeakyReluAttributes],["Less","","7+",g.less],["LRN","","1+",w.lrn,w.parseLrnAttributes],["Log","","6+",H.log],["MatMul","","1+",S.matMul,S.parseMatMulAttributes],["MaxPool","","1+",A.maxPool,A.parseMaxPoolAttributes],["Mul","","7+",g.mul],["Neg","","6+",H.neg],["Not","","1+",H.not],["Or","","7+",g.or],["Pad","","2-10",O.padV2,O.parsePadAttributesV2],["Pad","","11+",O.padV11,O.parsePadAttributesV11],["Pow","","7+",g.pow],["PRelu","","7+",g.pRelu],["ReduceLogSum","","1+",I.reduceLogSum,I.parseReduceAttributes],["ReduceMax","","1+",I.reduceMax,I.parseReduceAttributes],["ReduceMean","","1+",I.reduceMean,I.parseReduceAttributes],["ReduceMin","","1+",I.reduceMin,I.parseReduceAttributes],["ReduceProd","","1+",I.reduceProd,I.parseReduceAttributes],["ReduceSum","","1-12",I.reduceSum,I.parseReduceAttributes],["ReduceSumSquare","","1+",I.reduceLogSumSquare,I.parseReduceAttributes],["Relu","","6+",H.relu],["Reshape","","5+",P.reshape],["Resize","","10",L.resize,L.parseResizeAttributesV10],["Resize","","11+",L.resize,L.parseResizeAttributesV11],["Shape","","1+",U.shape],["Sigmoid","","6+",H.sigmoid],["Sin","","7+",H.sin],["Slice","","10+",G.sliceV10],["Slice","","1-9",G.slice,G.parseSliceAttributes],["Softmax","","1-12",te.softmax,te.parseSoftmaxAttributes],["Softmax","","13+",te.softmaxV13,te.parseSoftmaxAttributesV13],["Split","","2-12",Y.split,Y.parseSplitAttributes],["Sqrt","","6+",H.sqrt],["Squeeze","","1-12",F.squeeze,F.parseSqueezeAttributes],["Squeeze","","13+",F.squeezeV13],["Sub","","7+",g.sub],["Sum","","6+",re.sum],["Tan","","7+",H.tan],["Tanh","","6+",H.tanh],["Tile","","6+",R.tile],["Transpose","","1+",M.transpose,M.parseTransposeAttributes],["Upsample","","7-8",he.upsample,he.parseUpsampleAttributesV7],["Upsample","","9",he.upsample,he.parseUpsampleAttributesV9],["Unsqueeze","","1-12",le.unsqueeze,le.parseUnsqueezeAttributes],["Unsqueeze","","13+",le.unsqueezeV13],["Xor","","7+",g.xor]]},8817:(i,t,s)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.parseBatchNormalizationAttributes=t.batchNormalization=void 0;const u=s(4910),l=s(6757),d=s(5639),y={name:"BatchNormalization",inputNames:["A","Scale","B","Mean","Variance"],inputTypes:[d.TextureType.unpacked,d.TextureType.unpacked,d.TextureType.unpacked,d.TextureType.unpacked,d.TextureType.unpacked]};t.batchNormalization=(f,c,r)=>(v(c),[f.run(Object.assign(Object.assign({},y),{cacheHint:r.cacheKey,get:()=>g(f,c,r)}),c)]),t.parseBatchNormalizationAttributes=f=>{const c=f.attributes.getFloat("epsilon",1e-5),r=f.attributes.getFloat("momentum",.9),e=f.attributes.getInt("spatial",1);return(0,u.createAttributeWithCacheKey)({epsilon:c,momentum:r,spatial:e})};const g=(f,c,r)=>{const e=(0,l.getGlsl)(f.session.backend.glContext.version),n=c[0].dims.length,[o,m]=f.calculateTextureWidthAndHeight(c[1].dims,d.TextureType.unpacked),_=`
  float process(int[${n}] indices) {
    vec2 position = offsetToCoords(indices[1], ${o}, ${m});
    float scale = getColorAsFloat(${e.texture2D}(Scale, position));
    float mean = getColorAsFloat(${e.texture2D}(Mean, position));
    float variance = getColorAsFloat(${e.texture2D}(Variance, position));
    float b = getColorAsFloat(${e.texture2D}(B, position));

    return scale * ( (_A(indices) - mean) / sqrt(variance + float(${r.epsilon})) ) + b;
  }`;return Object.assign(Object.assign({},y),{output:{dims:c[0].dims,type:c[0].type,textureType:d.TextureType.unpacked},shaderSource:_})},v=f=>{if(!f||f.length!==5)throw new Error("BatchNormalization requires 5 inputs.");const c=f[0],r=f[1],e=f[2],n=f[3],o=f[4];if(c.dims.length<3||r.dims.length!==1||e.dims.length!==1||n.dims.length!==1||o.dims.length!==1)throw new Error("invalid input shape.");if(r.dims[0]!==c.dims[1]||e.dims[0]!==c.dims[1]||n.dims[0]!==c.dims[1]||o.dims[0]!==c.dims[1])throw new Error("invalid input shape.");if(c.type!=="float32"&&c.type!=="float64"||r.type!=="float32"&&r.type!=="float64"||e.type!=="float32"&&e.type!=="float64"||n.type!=="float32"&&n.type!=="float64"||o.type!=="float32"&&o.type!=="float64")throw new Error("invalid input tensor types.")}},5194:(i,t,s)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.xor=t.sub=t.pRelu=t.pow=t.or=t.mul=t.less=t.greater=t.equal=t.div=t.and=t.add=t.glslPRelu=t.glslPow=t.glslXor=t.glslOr=t.glslAnd=t.glslLess=t.glslGreater=t.glslEqual=t.glslSub=t.glslMul=t.glslDiv=t.glslAdd=void 0;const u=s(7273),l=s(1997),d=s(6757),y=s(5639);function g(){const A="add_";return{body:`
  float ${A}(float a, float b) {
    return a + b;
  }
  vec4 ${A}(vec4 v1, vec4 v2) {
    return v1 + v2;
  }
  `,name:A,type:l.FunctionType.ValueBased}}function v(){const A="div_";return{body:`
  float ${A}(float a, float b) {
    return a / b;
  }
  vec4 ${A}(vec4 v1, vec4 v2) {
    return v1 / v2;
  }
  `,name:A,type:l.FunctionType.ValueBased}}function f(){const A="mul_";return{body:`
  float ${A}(float a, float b) {
    return a * b;
  }
  vec4 ${A}(vec4 v1, vec4 v2) {
    return v1 * v2;
  }
  `,name:A,type:l.FunctionType.ValueBased}}function c(){const A="sub_";return{body:`
  float ${A}(float a, float b) {
    return a - b;
  }
  vec4 ${A}(vec4 v1, vec4 v2) {
    return v1 - v2;
  }
  `,name:A,type:l.FunctionType.ValueBased}}function r(){const A="equal_";return{body:`
  float ${A}(float a, float b) {
    return float(a == b);
  }
  vec4 ${A}(vec4 v1, vec4 v2) {
    return vec4(equal(v1, v2));
  }
  `,name:A,type:l.FunctionType.ValueBased}}function e(){const A="greater_";return{body:`
  float ${A}(float a, float b) {
    return float(a > b);
  }
  vec4 ${A}(vec4 v1, vec4 v2) {
    return vec4( v1.r > v2.r ,
      v1.g > v2.g,
      v1.b > v2.b,
      v1.a > v2.a );
  }
  `,name:A,type:l.FunctionType.ValueBased}}function n(){const A="less_";return{body:`
  float ${A}(float a, float b) {
    return float(a < b);
  }
  vec4 ${A}(vec4 v1, vec4 v2) {
    return vec4( v1.r < v2.r ,
                v1.g < v2.g,
                v1.b < v2.b,
                v1.a < v2.a );
  }
  `,name:A,type:l.FunctionType.ValueBased}}function o(){const A="and_";return{body:`
  float ${A}(float a, float b) {
    return float( bool(a) && bool(b) );
  }
  vec4 ${A}(vec4 v1, vec4 v2) {
    bvec4 b1 = bvec4(v1);
    bvec4 b2 = bvec4(v2);
    return vec4( b1.r && b2.r ,
                b1.g && b2.g,
                b1.b && b2.b,
                b1.a && b2.a );
  }
  `,name:A,type:l.FunctionType.ValueBased}}function m(){const A="or_";return{body:`
  float ${A}(float a, float b) {
    return float( bool(a) || bool(b) );
  }
  vec4 ${A}(vec4 v1, vec4 v2) {
    bvec4 b1 = bvec4(v1);
    bvec4 b2 = bvec4(v2);
    return vec4( b1.r || b2.r ,
                b1.g || b2.g,
                b1.b || b2.b,
                b1.a || b2.a );
  }
  `,name:A,type:l.FunctionType.ValueBased}}function _(){const A="xor_";return{body:`
  float ${A}(float a, float b) {
    return float( bool(a) ^^ bool(b) );
  }
  vec4 ${A}(vec4 v1, vec4 v2) {
    bvec4 b1 = bvec4(v1);
    bvec4 b2 = bvec4(v2);
    return vec4( b1.r ^^ b2.r ,
                b1.g ^^ b2.g,
                b1.b ^^ b2.b,
                b1.a ^^ b2.a );
  }
  `,name:A,type:l.FunctionType.ValueBased}}function x(){return function(A){const I=`${A}_`;return{body:`
  float ${I}(float a, float b) {
    return ${A}(a, b);
  }
  vec4 ${I}(vec4 v1, vec4 v2) {
    return ${A}(v1, v2);
  }
  `,name:I,type:l.FunctionType.ValueBased}}("pow")}function w(){const A="prelu_";return{body:`
  float ${A}(float a, float b) {
    return a < 0.0 ? a * b: a;
  }
  vec4 ${A}(vec4 v1, vec4 v2) {
    return vec4(
      v1.r < 0.0 ? v1.r * v2.r: v1.r,
      v1.g < 0.0 ? v1.g * v2.g: v1.g,
      v1.b < 0.0 ? v1.b * v2.b: v1.b,
      v1.a < 0.0 ? v1.a * v2.a: v1.a
      );
  }
  `,name:A,type:l.FunctionType.ValueBased}}t.glslAdd=g,t.glslDiv=v,t.glslMul=f,t.glslSub=c,t.glslEqual=r,t.glslGreater=e,t.glslLess=n,t.glslAnd=o,t.glslOr=m,t.glslXor=_,t.glslPow=x,t.glslPRelu=w;const S=(A,I,P,L=I[0].type,U)=>{const G=A.session.pack?y.TextureType.packed:y.TextureType.unpacked;return{name:P.name,inputNames:["A","B"],inputTypes:[G,G],cacheHint:U,get:()=>O(A,I,P,L)}},O=(A,I,P,L=I[0].type)=>{const U=A.session.pack?y.TextureType.packed:y.TextureType.unpacked,G=!u.ShapeUtil.areEqual(I[0].dims,I[1].dims);let te=I[0].dims;const Y=A.session.pack;if(G){const R=u.BroadcastUtil.calcShape(I[0].dims,I[1].dims,!1);if(!R)throw new Error("Can't perform binary op on the given tensors");te=R;const M=te.length,H=I[0].dims.length!==0?I[0].dims.length:1,le=I[1].dims.length!==0?I[1].dims.length:1,he=I[0].dims.length!==0?"bcastIndices_A(indices, aindices);":"aindices[0] = 0;",Ce=I[1].dims.length!==0?"bcastIndices_B(indices, bindices);":"bindices[0] = 0;",we=(0,d.getGlsl)(A.session.backend.glContext.version),Pe=Y?`
      ${P.body}
      void main() {
        vec4 a = getAAtOutCoords();
        vec4 b = getBAtOutCoords();
        vec4 result = ${P.name}(a, b);
        ${we.output} = result;
      }`:`
      ${P.body}
      float process(int indices[${M}]) {
        int aindices[${H}];
        int bindices[${le}];
        ${he}
        ${Ce}
        return ${P.name}(_A(aindices), _B(bindices));
      }`;return{name:P.name,inputNames:["A","B"],inputTypes:[U,U],output:{dims:te,type:L,textureType:U},shaderSource:Pe,hasMain:Y}}const F=(0,d.getGlsl)(A.session.backend.glContext.version),re=`
    ${P.body}
    void main() {
      vec4 v1 = ${F.texture2D}(A, TexCoords);
      vec4 v2 = ${F.texture2D}(B, TexCoords);
      vec4 result = ${P.name}(v1, v2);
      ${F.output} = result;
    }
    `;return{name:P.name,inputNames:["A","B"],inputTypes:[U,U],output:{dims:I[0].dims,type:L,textureType:U},shaderSource:re,hasMain:!0}};t.add=(A,I)=>[A.run(S(A,I,g()),I)],t.and=(A,I)=>[A.run(S(A,I,o(),"bool"),I)],t.div=(A,I)=>[A.run(S(A,I,v()),I)],t.equal=(A,I)=>[A.run(S(A,I,r(),"bool"),I)],t.greater=(A,I)=>[A.run(S(A,I,e(),"bool"),I)],t.less=(A,I)=>[A.run(S(A,I,n(),"bool"),I)],t.mul=(A,I)=>[A.run(S(A,I,f()),I)],t.or=(A,I)=>[A.run(S(A,I,m(),"bool"),I)],t.pow=(A,I)=>[A.run(S(A,I,x()),I)],t.pRelu=(A,I)=>[A.run(S(A,I,w()),I)],t.sub=(A,I)=>[A.run(S(A,I,c()),I)],t.xor=(A,I)=>[A.run(S(A,I,_(),"bool"),I)]},4752:(i,t,s)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.parseCastAttributes=t.cast=void 0;const u=s(7273);t.cast=(d,y,g)=>(l(y),[d.cast(y[0],g)]),t.parseCastAttributes=d=>u.ProtoUtil.tensorDataTypeFromProto(d.attributes.getInt("to"));const l=d=>{if(!d||d.length!==1)throw new Error("Cast requires 1 input.");if(d[0].type==="string")throw new Error("Invalid input type.")}},4595:(i,t,s)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.createPackedConcatProgramInfoLoader=void 0;const u=s(6757),l=s(5639),d=s(432),y=s(5614);t.createPackedConcatProgramInfoLoader=(v,f,c)=>{const r=(e=f.length,n=c.cacheKey,{name:"Concat (packed)",inputNames:Array.from({length:e},(o,m)=>`X${m}`),inputTypes:Array(e).fill(l.TextureType.packed),cacheHint:n});var e,n;return Object.assign(Object.assign({},r),{get:()=>((o,m,_,x)=>{const w=_[0].dims.slice();if(x>=w.length||x<-1*w.length)throw new Error("axis specified for concat doesn't match input dimensionality");x<0&&(x=w.length+x);const S=w.slice(0);for(let he=1;he<_.length;he++){const Ce=_[he].dims.slice();for(let we=0;we<w.length;we++)if(we===x)S[x]+=Ce[we];else if(w[we]!==Ce[we])throw new Error("non concat dimensions must match")}const O=S.length,A=(0,y.getChannels)("coords",O),I=(0,d.getCoordsDataType)(O),P=(0,y.unpackFromChannel)(),L=_.map(he=>he.dims),U=(0,d.getGlChannels)(O),G=new Array(L.length-1);G[0]=L[0][x];for(let he=1;he<G.length;he++)G[he]=G[he-1]+L[he][x];const te=U[x],Y=U.slice(-2),F=U.join();let re=`if (${te} < ${G[0]}) {
        return getChannel(
            getX0(${F}), vec2(${Y.join()}));
        }`;for(let he=1;he<G.length;he++){const Ce=G[he-1];re+=`
            if (${te} < ${G[he]}  && ${te} >= ${G[he-1]}) {
              return getChannel(
                getX${he}(${g(U,te,Ce)}),
                vec2(${g(Y,te,Ce)}));
            }`}const R=G.length,M=G[G.length-1];re+=`
            return getChannel(
              getX${R}(${g(U,te,M)}),
              vec2(${g(Y,te,M)}));`;const H=(0,u.getGlsl)(o.session.backend.glContext.version),le=`
          ${P}
          float getValue(${U.map(he=>"int "+he)}) {
            ${re}
          }

          void main() {
            ${I} coords = getOutputCoords();
            int lastDim = coords.${U[O-1]};
            coords.${U[O-1]} = coords.${U[O-2]};
            coords.${U[O-2]} = lastDim;

            vec4 result = vec4(getValue(${A}), 0., 0., 0.);

            ${A[O-1]} = ${A[O-1]} + 1;
            if (${A[O-1]} < ${S[O-1]}) {
              result.g = getValue(${A});
            }

            ${A[O-2]} = ${A[O-2]} + 1;
            if (${A[O-2]} < ${S[O-2]}) {
              result.a = getValue(${A});
            }

            ${A[O-1]} = ${A[O-1]} - 1;
            if (${A[O-2]} < ${S[O-2]} &&
                ${A[O-1]} < ${S[O-1]}) {
              result.b = getValue(${A});
            }
            ${H.output} = result;
          }
        `;return Object.assign(Object.assign({},m),{output:{dims:S,type:_[0].type,textureType:l.TextureType.packed},shaderSource:le,hasMain:!0})})(v,r,f,c.axis)})};const g=(v,f,c)=>{const r=v.indexOf(f);return v.map((e,n)=>n===r?`${e} - ${c}`:e).join()}},6668:(i,t,s)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.parseConcatAttributes=t.concat=void 0;const u=s(4910),l=s(5639),d=s(4595);t.concat=(e,n,o)=>(r(n),e.session.pack&&n[0].dims.length>1?[e.run((0,d.createPackedConcatProgramInfoLoader)(e,n,o),n)]:[e.run(y(e,n,o),n)]);const y=(e,n,o)=>{const m=(_=n.length,x=o.cacheKey,{name:"Concat",inputNames:Array.from({length:_},(w,S)=>`X${S}`),inputTypes:Array(_).fill(l.TextureType.unpacked),cacheHint:x});var _,x;return Object.assign(Object.assign({},m),{get:()=>((w,S,O,A)=>{const I=O[0].dims.slice();if(A>=I.length||A<-1*I.length)throw new Error("axis specified for concat doesn't match input dimensionality");A<0&&(A=I.length+A);const P=I.slice(0);for(let F=1;F<O.length;F++){const re=O[F].dims.slice();for(let R=0;R<I.length;R++)if(R===A)P[A]+=re[R];else if(I[R]!==re[R])throw new Error("non concat dimensions must match")}const L=P.length,U=new Array(O.length);let G=0;for(let F=0;F<U.length;++F)G+=O[F].dims[A],U[F]=G;let te="";te=O.length<5?g(U):v(U);const Y=`
        ${f(O.length,L)}
        ${c(U)}
        ${te}
        float process(int indices[${L}]) {
          int textureIndex = getTextureWhereDataResides (indices[${A}]);

          if(textureIndex != 0) {
            indices[${A}] = indices[${A}] - int(getSizeInConcatAxisValueFromIndex(textureIndex-int(1)));
          }

          return fetchDataFromCorrectTexture(textureIndex, indices);
        }`;return Object.assign(Object.assign({},S),{output:{dims:P,type:O[0].type,textureType:l.TextureType.unpacked},shaderSource:Y})})(0,m,n,o.axis)})},g=e=>`int getTextureWhereDataResides(int index) {
      ${e.map((n,o)=>`if(index<${n}) {return ${o};}
`).join("")}
    }`,v=e=>g(e),f=(e,n)=>{const o=[`float fetchDataFromCorrectTexture(int textureIndex, int indices[${n}]) {`];for(let m=0;m<e;++m)m===0?o.push(`	if (textureIndex == ${m}) { return _X${m}(indices); }`):m===e-1?o.push(`	else { return _X${m}(indices); }`):o.push(`	else if (textureIndex == ${m}) { return _X${m}(indices); }`);return o.push("	}"),o.join(`
`)},c=e=>{const n=["int getSizeInConcatAxisValueFromIndex(int index) {"];for(let o=0;o<e.length;++o)o===0?n.push(`	if (index == ${o}) { return ${e[o]}; }`):o===e.length-1?n.push(`	else { return ${e[o]}; }`):n.push(`	else if (index == ${o}) { return ${e[o]}; }`);return n.push("	}"),n.join(`
`)};t.parseConcatAttributes=e=>(0,u.createAttributeWithCacheKey)({axis:e.attributes.getInt("axis")});const r=e=>{if(!e||e.length<1)throw new Error("too few inputs");const n=e[0].type,o=e[0].dims.length;if(n==="string")throw new Error("string tensor is not supported yet");for(const m of e){if(m.type!==n)throw new Error("input tensors should be one type");if(m.dims.length!==o)throw new Error("input tensors should have the same shape")}}},7825:(i,t,s)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.createUnpackedGroupedConvProgramInfoLoader=void 0;const u=s(1315),l=s(6757),d=s(5639),y=s(9754),g=s(2150);t.createUnpackedGroupedConvProgramInfoLoader=(v,f,c)=>{const r=(e=f.length>2,n=c.cacheKey,{name:"GroupedConv",inputNames:e?["X","W","Bias"]:["X","W"],inputTypes:e?[d.TextureType.unpacked,d.TextureType.unpacked,d.TextureType.unpacked]:[d.TextureType.unpacked,d.TextureType.unpacked],cacheHint:n});var e,n;return Object.assign(Object.assign({},r),{get:()=>((o,m,_,x)=>{const w=m.length>2?"value += getBias(output_channel);":"",S=m[0].dims.slice(),O=m[1].dims.slice(),A=O[0]/x.group;u.Logger.verbose("GroupedConv",`autpPad:${x.autoPad}, dilations:${x.dilations}, group:${x.group}, kernelShape:${x.kernelShape}, pads:${x.pads}, strides:${x.strides}`);const I=(0,y.calculateOutputShape)(S,O,x.dilations,x.pads,x.strides),P=(0,l.getGlsl)(o.session.backend.glContext.version),{activationFunction:L,applyActivation:U}=(0,g.getActivationSnippet)(x),G=`
  const ivec2 strides = ivec2(${x.strides[0]}, ${x.strides[1]});
  const ivec2 pads = ivec2(${x.pads[0]}, ${x.pads[1]});
  ${L}
  void main() {
    ivec4 coords = getOutputCoords();
    int batch = coords.x;
    int output_channel = coords.y;
    ivec2 xRCCorner = coords.zw * strides - pads;
    int group_id = output_channel / ${A};

    float value = 0.0;
    for (int wInChannel = 0; wInChannel < ${O[1]}; wInChannel++) {
      int input_channel = group_id * ${O[1]} + wInChannel;
      for (int wHeight = 0; wHeight < ${O[2]}; wHeight++) {
        int xHeight = xRCCorner.x + wHeight * ${x.dilations[0]};

        if (xHeight < 0 || xHeight >= ${S[2]}) {
          continue;
        }

        for (int wWidth = 0; wWidth < ${O[3]}; wWidth++) {
          int xWidth = xRCCorner.y + wWidth * ${x.dilations[1]};
          if (xWidth < 0 || xWidth >= ${S[3]}) {
            continue;
          }

          float xVal = getX(batch, input_channel, xWidth, xHeight);
          float wVal = getW(output_channel, wInChannel, wWidth, wHeight);
          value += xVal*wVal;
        }
      }
    }
    ${w}
    ${U}
    ${P.output} = vec4(value, .0, .0, .0);
  }
`;return Object.assign(Object.assign({},_),{output:{dims:I,type:m[0].type,textureType:d.TextureType.unpacked},shaderSource:G,hasMain:!0})})(v,f,r,c)})}},7708:(i,t,s)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.conv2DPacked=t.conv2DPackedPointwise=void 0;const u=s(9754),l=s(5950),d=s(5632);t.conv2DPackedPointwise=(y,g,v)=>{const f=g[0].dims,c=g[1].dims,r=(0,u.calculateOutputShape)(f,c,v.dilations,v.pads,v.strides),e=y.reshapePacked(g[0],[f[1],f[2]*f[3]]),n=y.reshapePacked(g[1],[c[0],c[1]]),o=g.length>2?[n,e,g[2]]:[n,e],m=y.run((0,d.createPackedMatmulProgramInfoLoader)(y,o,v),o);return y.reshapePacked(m,r)},t.conv2DPacked=(y,g,v)=>{const f=g[0].dims,c=g[1].dims,r=(0,u.calculateOutputShape)(f,c,v.dilations,v.pads,v.strides),e=y.run((0,l.createPackedIm2ColProgramInfoLoader)(y,g[0],g[1],r,v),[g[0]]),n=y.reshapePacked(g[1],[c[0],c[1]*c[2]*c[3]]),o=g.length===3?[n,e,g[2]]:[n,e],m=y.run((0,d.createPackedMatmulProgramInfoLoader)(y,o,v),o);return y.reshapePacked(m,r)}},5042:(i,t,s)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.parseConvTransposeAttributes=t.convTranspose=void 0;const u=s(4910),l=s(6757),d=s(5639),y=s(2150),g=(n,o,m,_,x,w)=>(n-1)*o+m+(_-1)*x+1-w,v=(n,o,m,_,x)=>{const w=Math.floor(n/2);o==="SAME_UPPER"?(m[_]=w,m[x]=n-w):o==="SAME_LOWER"&&(m[_]=n-w,m[x]=w)};t.convTranspose=(n,o,m)=>(e(o,m),f(n,o,m));const f=(n,o,m)=>{const _=r(m,o);return[c(n,o,_)]},c=(n,o,m)=>n.run(((_,x,w)=>{const S=(O=x.length>2,A=w.cacheKey,{name:"ConvTranspose",inputNames:O?["X","W","B"]:["X","W"],inputTypes:O?[d.TextureType.unpacked,d.TextureType.unpacked,d.TextureType.unpacked]:[d.TextureType.unpacked,d.TextureType.unpacked],cacheHint:A});var O,A;return Object.assign(Object.assign({},S),{get:()=>((I,P,L,U)=>{const G=P.length>2?"getB(output_channel)":"0.0",te=P[0].dims,Y=P[1].dims,F=Y[1],re=Y[0]/U.group,R=[P[0].dims[0],P[1].dims[1]*U.group,...U.outputShape],M=(0,l.getGlsl)(I.session.backend.glContext.version),{activationFunction:H,applyActivation:le}=(0,y.getActivationSnippet)(U),he=`
  const ivec2 strides = ivec2(${U.strides[0]}, ${U.strides[1]});
  const ivec2 pads = ivec2(${U.pads[0]}, ${U.pads[1]});
  ${H}
  void main() {
    ivec4 coords = getOutputCoords();
    int batch = coords.x;
    int output_channel = coords.y;

    ivec2 loc = coords.zw + pads;

    int group_id = output_channel / ${F};
    int wOutChannel = output_channel - group_id * ${F};

    float value = ${G};
    for (int inChannelOffset = 0; inChannelOffset < ${re}; inChannelOffset++) {
      int input_channel = group_id * ${re} + inChannelOffset;
      for (int wWOff = 0; wWOff < ${Y[2]}; wWOff++) {
        for (int wHOff = 0; wHOff < ${Y[3]}; wHOff++) {
          ivec2 wOff = ivec2(wWOff * ${U.dilations[0]}, wHOff * ${U.dilations[1]});
          ivec2 wLoc = loc - wOff;
          ivec2 wLocIn = wLoc / strides;
          if (
            wLocIn * strides == wLoc &&
            wLocIn.x >= 0 && wLocIn.x < ${te[2]} &&
            wLocIn.y >= 0 && wLocIn.y < ${te[3]}
          ) {
            float xVal = getX(batch, input_channel, wLocIn.y, wLocIn.x);
            float wVal = getW(input_channel, wOutChannel, wHOff, wWOff);
            value += xVal * wVal;
          }
        }
      }
    }
    ${le}
    ${M.output} = vec4(value, .0, .0, .0);
  }
`;return Object.assign(Object.assign({},L),{output:{dims:R,type:P[0].type,textureType:d.TextureType.unpacked},shaderSource:he,hasMain:!0})})(_,x,S,w)})})(n,o,m),o),r=(n,o)=>{const m=n.kernelShape.slice();if(n.kernelShape.length===0)for(let S=2;S<o[1].dims.length;++S)m.push(o[1].dims[S]);const _=n.pads.slice(),x=n.outputShape.slice();((S,O,A,I,P,L,U,G)=>{const te=S.length-2,Y=G.length===0;for(let F=0;F<te;++F){const re=Y?S[F+2]*L[F]:G[F],R=g(S[F+2],L[F],P[F],O[F],A[F],re);v(R,I,P,F,F+te),Y&&G.push(L[F]*(S[F+2]-1)+U[F]+(O[F]-1)*A[F]+1-P[F]-P[F+te])}})(o[0].dims,m,n.dilations,n.autoPad,_,n.strides,n.outputPadding,x);const w=Object.assign({},n);return Object.assign(w,{kernelShape:m,pads:_,outputShape:x,cacheKey:n.cacheKey}),w};t.parseConvTransposeAttributes=n=>{const o=n.attributes,m=(0,y.parseInternalActivationAttributes)(o),_=o.getString("auto_pad","NOTSET"),x=o.getInts("dilations",[1,1]),w=o.getInt("group",1),S=o.getInts("kernel_shape",[]),O=o.getInts("output_padding",[0,0]),A=o.getInts("output_shape",[]),I=o.getInts("pads",[0,0,0,0]),P=o.getInts("strides",[1,1]);return(0,u.createAttributeWithCacheKey)(Object.assign({autoPad:_,dilations:x,group:w,kernelShape:S,outputPadding:O,outputShape:A,pads:I,strides:P},m))};const e=(n,o)=>{if(!n||n.length!==2&&n.length!==3)throw new Error("Conv requires 2 or 3 inputs");if(n[0].dims.length!==4||n[1].dims.length!==4)throw new Error("currently only support 2-dimensional conv");if(n[0].dims[1]!==n[1].dims[0])throw new Error("FILTER_IN_CHANNEL should be equal to DATA_CHANNEL");const m=n[1].dims[1]*o.group;if(n.length===3&&(n[2].dims.length!==1||n[2].dims[0]!==m))throw new Error("invalid bias");const _=n[0].dims.length-2;if(o.dilations.length!==_)throw new Error(`dilations should be ${_}D`);if(o.strides.length!==_)throw new Error(`strides should be ${_}D`);if(o.pads.length!==2*_)throw new Error(`pads should be ${2*_}D`);if(o.outputPadding.length!==_)throw new Error(`output_padding should be ${_}D`);if(o.kernelShape.length!==0&&o.kernelShape.length!==n[1].dims.length-2)throw new Error("invalid kernel shape");if(o.outputShape.length!==0&&o.outputShape.length!==n[0].dims.length-2)throw new Error("invalid output shape");if(n[0].type!=="float32"||n[1].type!=="float32")throw new Error("ConvTranspose input(X,W) should be float tensor");if(n.length===3&&n[2].type!=="float32")throw new Error("ConvTranspose input(bias) should be float tensor")}},9754:(i,t,s)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.parseConvAttributes=t.conv=t.calculateOutputShape=void 0;const u=s(4910),l=s(7273),d=s(7825),y=s(7708),g=s(3281),v=s(2150),f=s(1625),c=s(8276);t.calculateOutputShape=(_,x,w,S,O)=>{const A=_[0],I=_.slice(2),P=I.length,L=x[0],U=x.slice(2).map((te,Y)=>te+(te-1)*(w[Y]-1)),G=I.map((te,Y)=>te+S[Y]+S[Y+P]).map((te,Y)=>Math.floor((te-U[Y]+O[Y])/O[Y]));return[A,L].concat(...G)},t.conv=(_,x,w)=>(m(x,w),r(_,x,w));const r=(_,x,w)=>{const S=o(w,x),O=_.session.pack,A=S.kernelShape[0]===1&&S.kernelShape[1]===1;return S.group>1?[_.run((0,d.createUnpackedGroupedConvProgramInfoLoader)(_,x,S),x)]:A&&O?[e(_,x,S)]:O&&x[0].dims.length===4&&x[0].dims[0]===1&&!A?[(0,y.conv2DPacked)(_,x,S)]:[n(_,x,S)]},e=(_,x,w)=>{const S=x[0].dims,O=x[1].dims,A=(0,t.calculateOutputShape)(S,O,w.dilations,w.pads,w.strides),I=_.reshapeUnpacked(x[0],[S[1],S[2]*S[3]]),P=_.reshapeUnpacked(x[1],[O[0],O[1]]),L=x.length>2?[P,I,x[2]]:[P,I],U=_.run((0,c.createMatmulProgramInfoLoader)(L,w),L);return _.reshapeUnpacked(U,A)},n=(_,x,w)=>{const S=x[0].dims,O=x[1].dims,A=(0,t.calculateOutputShape)(S,O,w.dilations,w.pads,w.strides),I=_.run((0,f.createIm2ColProgramInfoLoader)(_,x[0],x[1],A,w),[x[0]]),P=x.length===3?[I,x[1],x[2]]:[I,x[1]];return _.run((0,g.createDotProductProgramInfoLoader)(_,x,A,w),P)},o=(_,x)=>{const w=_.kernelShape.slice();if(_.kernelShape.length===0)for(let A=2;A<x[1].dims.length;++A)w.push(x[1].dims[A]);const S=_.pads.slice();l.PoolConvUtil.adjustPadsBasedOnAutoPad(x[0].dims,_.strides,_.dilations,w,S,_.autoPad);const O=Object.assign({},_);return Object.assign(O,{kernelShape:w,pads:S,cacheKey:_.cacheKey}),O};t.parseConvAttributes=_=>{const x=_.attributes,w=(0,v.parseInternalActivationAttributes)(x),S=x.getString("auto_pad","NOTSET"),O=x.getInts("dilations",[1,1]),A=x.getInt("group",1),I=x.getInts("kernel_shape",[]),P=x.getInts("pads",[0,0,0,0]),L=x.getInts("strides",[1,1]);return(0,u.createAttributeWithCacheKey)(Object.assign({autoPad:S,dilations:O,group:A,kernelShape:I,pads:P,strides:L},w))};const m=(_,x)=>{if(!_||_.length!==2&&_.length!==3)throw new Error("Conv requires 2 or 3 inputs");if(_[0].dims.length!==4||_[1].dims.length!==4)throw new Error("currently only support 2-dimensional conv");if(_[0].dims[1]!==_[1].dims[1]*x.group)throw new Error("FILTER_IN_CHANNEL should be equal to DATA_CHANNEL");if(_.length===3&&(_[2].dims.length!==1||_[1].dims[0]!==_[2].dims[0]))throw new Error("invalid bias");const w=_[0].dims.length-2;if(x.dilations.length!==w)throw new Error(`dilations should be ${w}D`);if(x.strides.length!==w)throw new Error(`strides should be ${w}D`);if(x.pads.length!==2*w)throw new Error(`pads should be ${2*w}D`);if(x.kernelShape.length!==0&&x.kernelShape.length!==_[1].dims.length-2)throw new Error("invalid kernel shape");if(_[0].type!=="float32"||_[1].type!=="float32")throw new Error("Conv input(X,W) should be float tensor");if(_.length===3&&_[2].type!=="float32")throw new Error("Conv input(bias) should be float tensor")}},6742:(i,t,s)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.parseDepthToSpaceAttributes=t.depthToSpace=void 0;const u=s(5707);t.depthToSpace=(d,y,g)=>{l(y);const v=g.blocksize,f=v*v,c=g.mode==="DCR"?[0,3,4,1,5,2]:[0,1,4,2,5,3],r=g.mode==="DCR"?[y[0].dims[0],v,v,y[0].dims[1]/f,y[0].dims[2],y[0].dims[3]]:[y[0].dims[0],y[0].dims[1]/f,v,v,y[0].dims[2],y[0].dims[3]],e=d.reshapeUnpacked(y[0],r),n={perm:c,cacheKey:`${c}`},[o]=(0,u.transpose)(d,[e],n),m=[y[0].dims[0],y[0].dims[1]/f,y[0].dims[2]*v,y[0].dims[3]*v];return[d.reshapeUnpacked(o,m)]},t.parseDepthToSpaceAttributes=d=>{const y=d.attributes.getInt("blocksize");if(y<1)throw new Error(`blocksize must be >= 1, but got : ${y} for DepthToSpace`);const g=d.attributes.getString("mode","DCR");if(g!=="DCR"&&g!=="CRD")throw new Error(`unrecognized mode: ${g} for DepthToSpace`);return{mode:g,blocksize:y}};const l=d=>{if(d.length!==1)throw new Error(`DepthToSpace expect 1 inputs, but got ${d.length}`);if(d[0].type==="string"||d[0].dims.length!==4)throw new TypeError("DepthToSpace input should be a 4-D numeric tensor")}},3281:(i,t,s)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.createDotProductProgramInfoLoader=void 0;const u=s(7273),l=s(6757),d=s(5639),y=s(2150),g=s(1625);t.createDotProductProgramInfoLoader=(v,f,c,r)=>{const e=((n,o)=>({name:"ConvDotProduct",inputNames:n?["Im2Col","K","B"]:["Im2Col","K"],inputTypes:n?[d.TextureType.unpacked,d.TextureType.packedLastDimension,d.TextureType.unpacked]:[d.TextureType.unpacked,d.TextureType.packedLastDimension],cacheKey:o.activationCacheKey}))(f.length>2,r);return Object.assign(Object.assign({},e),{get:()=>((n,o,m,_,x)=>{const w=m[0].dims,S=m[1].dims,O=[S[0],Math.ceil(w[1]*S[2]*S[3]/4)],A=(0,g.calculateIm2ColDims)(w,S,_),[I,P]=n.calculateTextureWidthAndHeight(O,d.TextureType.packedLastDimension),L=u.ShapeUtil.computeStrides(A),[U,G]=n.calculateTextureWidthAndHeight(A,d.TextureType.packedLastDimension),te=_.length,Y=m.length<3?"0.0":"_B(b)",F=Math.ceil(w[1]*S[2]*S[3]/4),{activationFunction:re,applyActivation:R}=(0,y.getActivationSnippet)(x),M=(0,l.getGlsl)(n.session.backend.glContext.version),H=`
${re}
float process(int indices[${te}]) {
  int b[1];
  b[0] = indices[1];
  int im2col[4];
  im2col[0] = indices[0];
  im2col[1] = indices[2];
  im2col[2] = indices[3];
  int im2colOffset = im2col[0] * ${L[0]} + im2col[1] * ${L[1]} + im2col[2] * ${L[2]};
  int kernelOffset = indices[1] * ${O[1]};
  float value = ${Y};
  for (int i = 0; i < ${F}; ++i) {
    vec2 im2colCoords = offsetToCoords(im2colOffset, ${U}, ${G});
    vec2 kernelCoords = offsetToCoords(kernelOffset, ${I}, ${P});
    value += dot(${M.texture2D}(Im2Col, im2colCoords), ${M.texture2D}(K, kernelCoords));
    ++im2colOffset;
    ++kernelOffset;
  }
  ${R}
  return value;
}`;return Object.assign(Object.assign({},o),{output:{dims:_,type:m[0].type,textureType:d.TextureType.unpacked},shaderSource:H})})(v,e,f,c,r)})}},4125:(i,t,s)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.parseFlattenAttributes=t.flatten=void 0;const u=s(7273);t.flatten=(d,y,g)=>{l(y,g);const v=u.ShapeUtil.flattenShape(y[0].dims,g);return[d.reshapeUnpacked(y[0],v)]},t.parseFlattenAttributes=d=>d.attributes.getInt("axis",1);const l=(d,y)=>{if(!d||d.length!==1)throw new Error("Flatten requires 1 input.");const g=d[0].dims.length;if(g===0)throw new Error("scalar tensor is not supported.");if(y<-g||y>g)throw new Error("Invalid axis");if(d[0].type==="string")throw new Error("string tensor is not supported.")}},2150:(i,t,s)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.parseInternalActivationAttributes=t.getActivationSnippet=void 0;const u=s(7273),l=s(9087);t.getActivationSnippet=function(d){let y;switch(d.activation){case"Relu":y=(0,l.glslRelu)();break;case"Sigmoid":y=(0,l.glslSigmoid)();break;case"Clip":y=(0,l.glslClip)(d.clipMin,d.clipMax);break;default:return{activationFunction:"",applyActivation:""}}const g=y.name;return{activationFunction:y.body,applyActivation:`value = ${g}_(value);`}},t.parseInternalActivationAttributes=d=>{const y=d.getString("activation","");if(y==="Clip"){const[g,v]=d.getFloats("activation_params",[u.MIN_CLIP,u.MAX_CLIP]);return{activation:y,clipMax:v,clipMin:g,activationCacheKey:`${y}:${g},${v}`}}return{activation:y,activationCacheKey:y}}},6149:(i,t,s)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.parseGatherAttributes=t.gather=void 0;const u=s(4910),l=s(6145),d=s(7273),y=s(5639);t.gather=(c,r,e)=>(f(r,e.axis),[c.run(v(c,r,e),r)]),t.parseGatherAttributes=c=>(0,u.createAttributeWithCacheKey)({axis:c.attributes.getInt("axis",0)});const g={name:"Gather",inputNames:["A","B"],inputTypes:[y.TextureType.unpacked,y.TextureType.unpacked]},v=(c,r,e)=>{const n=Object.assign(Object.assign({},g),{cacheHint:e.cacheKey});return Object.assign(Object.assign({},n),{get:()=>((o,m,_,x)=>{const w=_[0].dims.slice(),S=_[1].dims.slice(),O=new Array(w.length+S.length-1);x=d.ShapeUtil.normalizeAxis(x,w.length);const A=[];for(let P=0;P<O.length;P++)P<x?(O[P]=w[P],A.push(`inputIdx[${P}] = outputIdx[${P}];`)):P<x+S.length?(O[P]=S[P-x],A.push(`indexDataIdx[${P-x}] = outputIdx[${P}];`)):(O[P]=w[P-S.length+1],A.push(`inputIdx[${P-S.length+1}] = outputIdx[${P}];`));const I=`
      float process(int outputIdx[${O.length||1}]) {
        int inputIdx[${w.length}];
        int indexDataIdx[${S.length||1}];
        indexDataIdx[0] = 0;
        ${A.join(`
        `)}
        int idx = int(_B(indexDataIdx));
        inputIdx[${x}] = idx < 0 ? idx + ${w[x]} : idx;
        return _A(inputIdx);
      }`;return Object.assign(Object.assign({},m),{output:{dims:O,type:_[0].type,textureType:y.TextureType.unpacked},shaderSource:I})})(0,n,r,e.axis)})},f=(c,r)=>{if(!c||c.length!==2)throw new Error("Gather requires 2 inputs.");const e=c[0].dims.length;if(e<1)throw new Error("Invalid input shape.");if(r<-e||r>e-1)throw new Error("Invalid axis.");if(l.NUMBER_TYPES.indexOf(c[0].type)===-1)throw new Error("Invaid input type.");if(c[1].type!=="int32"&&c[1].type!=="int16")throw new Error("Invaid input type.")}},5378:(i,t,s)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.parseGemmAttributesV11=t.parseGemmAttributesV7=t.gemm=void 0;const u=s(4910),l=s(7273),d=s(5639);t.gemm=(c,r,e)=>(f(r,e),[c.run(g(r,e),r)]);const y=(c,r)=>{const e=c.attributes.getInt("transA",0)!==0,n=c.attributes.getInt("transB",0)!==0,o=c.attributes.getFloat("alpha",1),m=c.attributes.getFloat("beta",1);return(0,u.createAttributeWithCacheKey)({transA:e,transB:n,alpha:o,beta:m,isOptionalC:r})};t.parseGemmAttributesV7=c=>y(c,!1),t.parseGemmAttributesV11=c=>y(c,!0);const g=(c,r)=>{const e={name:"Gemm",inputNames:c.length===3?["A","B","C"]:["A","B"],inputTypes:c.length===3?[d.TextureType.unpacked,d.TextureType.unpacked,d.TextureType.unpacked]:[d.TextureType.unpacked,d.TextureType.unpacked],key:r.cacheKey};return Object.assign(Object.assign({},e),{get:()=>v(e,c,r)})},v=(c,r,e)=>{const n=r[0].dims.slice(),o=r[1].dims.slice(),[m,_]=l.GemmUtil.getShapeOfGemmResult(n,e.transA,o,e.transB,r.length===3?r[2].dims:void 0),x=[m,_];if(!x)throw new Error("Can't use gemm on the given tensors");let w=n[n.length-1],S="";e.transA&&(w=n[0]),e.transA&&e.transB?S="value += _A_T(a) * _B_T(b);":e.transA&&!e.transB?S="value += _A_T(a) * _B(b);":!e.transA&&e.transB?S="value += _A(a) * _B_T(b);":e.transA||e.transB||(S="value += _A(a) * _B(b);");const O=x.length,A=`
      float process(int indices[${O}]) {
          int a[${O}];
          int b[${O}];
          ${r.length===3?`int c[${r[2].dims.length}];`:""}

          copyVec(indices, a);
          copyVec(indices, b);
          ${r.length===3?"bcastIndices_C(indices, c);":""}

          float value = 0.0;
          for (int k=0; k<${w}; ++k) {
              a[${O-1}] = k;
              b[${O-2}] = k;
              ${S}
          }

          value = value * alpha;
          ${r.length===3?"value += beta * _C(c);":""}
          return value;
      }`;return Object.assign(Object.assign({},c),{output:{dims:x,type:r[0].type,textureType:d.TextureType.unpacked},variables:[{name:"alpha",type:"float",data:e.alpha},{name:"beta",type:"float",data:e.beta}],shaderSource:A})},f=(c,r)=>{if(!c)throw new Error("Input is missing");if(r.isOptionalC&&(c.length<2||c.length>3))throw new Error("Invaid input shape.");if(!r.isOptionalC&&c.length!==3)throw new Error("Gemm requires 3 inputs");if(c.length===3&&c[2].dims.length!==1&&c[2].dims.length!==2)throw new Error("Invalid input shape of C");if(c[0].type!=="float32"&&c[0].type!=="float64"||c[1].type!=="float32"&&c[1].type!=="float64"||c.length===3&&c[2].type!=="float32"&&c[2].type!=="float64")throw new Error("Invalid input type.");if(c[0].type!==c[1].type||c.length===3&&c[0].type!==c[2].type)throw new Error("Input types are mismatched")}},5950:(i,t,s)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.createPackedIm2ColProgramInfoLoader=void 0;const u=s(6757),l=s(5639),d=s(5614);t.createPackedIm2ColProgramInfoLoader=(y,g,v,f,c)=>{const r=(e=c.cacheKey,{name:"Im2Col (packed)",inputNames:["A"],inputTypes:[l.TextureType.packed],cacheHint:e});var e;return Object.assign(Object.assign({},r),{get:()=>((n,o,m,_,x,w)=>{const S=m.dims,O=_.dims,A=x.length,I=[O[1]*O[2]*O[3],x[2]*x[3]],P=O[2]*O[3],L=(0,d.unpackFromChannel)(),U=(0,u.getGlsl)(n.session.backend.glContext.version);let G="";for(let Y=0;Y<=1;Y++)for(let F=0;F<=1;F++)G+=`
            blockIndex = rc.x + ${F};
            pos = rc.y + ${Y};

            if(blockIndex < ${I[1]} && pos < ${I[0]}) {
              offsetY = int(blockIndex / (${x[A-1]})) * ${w.strides[0]} -
                ${w.pads[0]};
              d0 = offsetY + ${w.dilations[0]} * (imod(pos, ${P}) / ${O[2]});

              if(d0 < ${S[2]} && d0 >= 0) {
                offsetX = imod(blockIndex, ${x[A-1]}) * ${w.strides[1]} -
                  ${w.pads[1]};
                d1 = offsetX + ${w.dilations[1]} * imod(imod(pos, ${P}), ${O[2]});

                if(d1 < ${S[3]} && d1 >= 0) {

                  ch = int(float(pos)/ ${P}.);
                    innerDims = vec2(d0, d1);
                    result[${2*Y+F}] = getChannel(
                      getA(0, ch, int(innerDims.x),
                      int(innerDims.y)), innerDims);
                }
              }
            }

          `;const te=`
      ${L}

      void main() {
        ivec2 rc = getOutputCoords();
          vec4 result = vec4(0.0);
          int blockIndex, pos, offsetY, d0, offsetX, d1, ch;
          vec2 innerDims;
          ${G}
          ${U.output} = result;
      }
            `;return Object.assign(Object.assign({},o),{output:{dims:I,type:m.type,textureType:l.TextureType.packed},shaderSource:te,hasMain:!0})})(y,r,g,v,f,c)})}},1625:(i,t,s)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.calculateIm2ColDims=t.createIm2ColProgramInfoLoader=void 0;const u=s(5639);t.createIm2ColProgramInfoLoader=(l,d,y,g,v)=>{const f=(c=v.cacheKey,{name:"Im2Col",inputNames:["X"],inputTypes:[u.TextureType.unpacked],cacheHint:c});var c;return Object.assign(Object.assign({},f),{get:()=>((r,e,n,o,m,_)=>{const x=n.dims,w=o.dims,S=m.length,O=(0,t.calculateIm2ColDims)(x,w,m,4),A=`
        const int XC = ${x[1]};
        const int XH = ${x[2]};
        const int XW = ${x[3]};
        const int KH = ${_.kernelShape[0]};
        const int KW = ${_.kernelShape[1]};
        const int dilationH = ${_.dilations[0]};
        const int dilationW = ${_.dilations[1]};
        const int strideH = ${_.strides[0]};
        const int strideW = ${_.strides[1]};
        const int padH = ${_.pads[0]};
        const int padW = ${_.pads[1]};
        const int KHKW = KH*KW;
        const int XCKHKW = XC * KHKW;
        const int outputChannels = 4;
        vec4 process(int indices[${S}]) {
          int b  = indices[0]; // batch size
          int oh = indices[1] * strideH - padH; //output height
          int ow = indices[2] * strideW - padW; //output width
          int p = indices[3] * outputChannels; //patch
          vec4 value = vec4(0.0);
          for(int i=0; i < outputChannels; ++i) {
            if(p < XCKHKW) {
              int patchC = p / KHKW;
              int patchH = (p - patchC*KHKW) / KW;
              int patchW = (p - patchC*KHKW) - patchH * KW;
              int xh2 = oh + patchH * dilationH;
              int xw2 = ow + patchW * dilationW;
              int x[${x.length}];
              x[0] = b;
              x[1] = patchC;
              x[2] = xh2;
              x[3] = xw2;
              if(xh2 >= 0 &&
                  xh2 < XH &&
                  xw2 >= 0 &&
                  xw2 < XW) {
                value[i] = _X(x);
              }
            }
            ++p;
          }
          return value;
        }
        `;return Object.assign(Object.assign({},e),{output:{dims:O,type:n.type,textureType:u.TextureType.packedLastDimension},shaderSource:A})})(0,f,d,y,g,v)})},t.calculateIm2ColDims=(l,d,y,g=4)=>[y[0],y[2],y[3],Math.ceil(l[1]*d[2]*d[3]/g)]},6981:(i,t,s)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.parseImageScalerAttributes=t.imageScaler=void 0;const u=s(4910),l=s(5639);t.imageScaler=(f,c,r)=>(v(c),[f.run(y(f,c,r),c)]),t.parseImageScalerAttributes=f=>{const c=f.attributes.getFloat("scale"),r=f.attributes.getFloats("bias");return(0,u.createAttributeWithCacheKey)({scale:c,bias:r})};const d={name:"ImageScaler",inputNames:["X"],inputTypes:[l.TextureType.unpacked]},y=(f,c,r)=>{const e=Object.assign(Object.assign({},d),{cacheHint:r.cacheKey});return Object.assign(Object.assign({},e),{get:()=>((n,o,m,_)=>{const x=m[0].dims.slice(),w=x.length,S=`
      ${g(_.bias.length)}
      float process(int indices[${w}]) {
        return _X(indices) * scale + getBias(bias, indices[1]);
      }`;return Object.assign(Object.assign({},o),{output:{dims:x,type:m[0].type,textureType:l.TextureType.unpacked},variables:[{name:"bias",type:"float",arrayLength:_.bias.length,data:_.bias},{name:"scale",type:"float",data:_.scale}],shaderSource:S})})(0,e,c,r)})},g=f=>{const c=[`float getBias(float bias[${f}], int channel) {`];for(let r=0;r<f;++r)r===0?c.push(`	if (channel == ${r}) { return bias[${r}]; }`):r===f-1?c.push(`	else { return bias[${r}]; }`):c.push(`	else if (channel == ${r}) { return bias[${r}]; }`);return c.push("	}"),c.join(`
`)},v=f=>{if(!f||f.length!==1)throw new Error("ImageScaler requires 1 input.");if(f[0].dims.length!==4)throw new Error("Invalid input shape.");if(f[0].type!=="float32"&&f[0].type!=="float64")throw new Error("Invalid input type.")}},7413:(i,t,s)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.parseInstanceNormalizationAttributes=t.instanceNormalization=void 0;const u=s(6757),l=s(5639);t.instanceNormalization=(c,r,e)=>{f(r);const n=c.run(y(r[0]),r);return[c.run(v(c,r[0],e,n.dims),[r[0],n,r[1],r[2]])]},t.parseInstanceNormalizationAttributes=c=>c.attributes.getFloat("epsilon",1e-5);const d={name:"InstanceNormalization_MeanAndVariance",inputNames:["X"],inputTypes:[l.TextureType.unpacked]},y=c=>Object.assign(Object.assign({},d),{get:()=>((r,e)=>{const n=e.dims.slice(),o=n[1],m=n[2]*n[3],_=[n[0],o],x=`
      vec4 process(int[2] indices) {
        vec4 v = vec4(0.0);
        int a[4];
        a[0] = indices[0];
        a[1] = indices[1];
        float temp = 0.0;
        for(int a2=0; a2<${n[2]}; a2++) {
          a[2] = a2;
          for(int a3=0; a3<${n[3]}; a3++) {
            a[3] = a3;
            float x = _X(a);
            temp += x;
          }
        }
        float mean = temp / float(${m});
        temp = 0.0;
        for(int a2=0; a2<${n[2]}; a2++) {
          a[2] = a2;
          for(int a3=0; a3<${n[3]}; a3++) {
            a[3] = a3;
            float x = _X(a);
            temp += (x - mean) * (x - mean);
          }
        }
        v.r = mean;
        v.g = temp / float(${m});

        return v;
      }`;return Object.assign(Object.assign({},r),{output:{dims:_,type:e.type,textureType:l.TextureType.packedLastDimension},shaderSource:x})})(d,c)}),g={name:"InstanceNormalization_ComputeOutput",inputNames:["X","MeanAndVariance","Scale","B"],inputTypes:[l.TextureType.unpacked,l.TextureType.packedLastDimension,l.TextureType.unpacked,l.TextureType.unpacked]},v=(c,r,e,n)=>{const o=Object.assign(Object.assign({},g),{cacheHint:`${e}`});return Object.assign(Object.assign({},o),{get:()=>((m,_,x,w,S)=>{const O=(0,u.getGlsl)(m.session.backend.glContext.version),[A,I]=m.calculateTextureWidthAndHeight(S,l.TextureType.packedLastDimension),[P,L]=[A/4,I],U=`
      vec4 get_MeanAndVariance(int[2] mv) {
        int offset = indicesToOffset_MeanAndVariance(mv);
        vec2 coords = offsetToCoords(offset, ${P}, ${L});
        return ${O.texture2D}(MeanAndVariance, coords);
      }

      float process(int[4] indices) {
        int mv[2];
        mv[0] = indices[0];
        mv[1] = indices[1];
        vec4 mean_and_variance = get_MeanAndVariance(mv);
        float mean = mean_and_variance.r;
        float variance = mean_and_variance.g;

        int sb[1];
        sb[0] = indices[1];
        float scale = _Scale(sb);
        float b = _B(sb);

        return scale * (_X(indices) - mean) / sqrt(variance + epsilon) + b;
      }`;return Object.assign(Object.assign({},_),{output:{dims:x.dims,type:x.type,textureType:l.TextureType.unpacked},variables:[{name:"epsilon",type:"float",data:w}],shaderSource:U})})(c,o,r,e,n)})},f=c=>{if(!c||c.length!==3)throw new Error("InstanceNormalization requires 3 inputs.");const r=c[0],e=c[1],n=c[2];if(r.dims.length<3||e.dims.length!==1||n.dims.length!==1)throw new Error("Invalid input shape.");if(e.dims[0]!==r.dims[1]||n.dims[0]!==r.dims[1])throw new Error("Input shapes are mismatched.");if(r.type!=="float32"&&r.type!=="float64"||e.type!=="float32"&&e.type!=="float64"||n.type!=="float32"&&n.type!=="float64")throw new Error("Invalid input type.");if(c[0].dims.length!==4)throw new Error("Only support 4-D input shape.")}},7006:(i,t,s)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.createLrnProgramInfoLoader=t.parseLrnAttributes=t.lrn=void 0;const u=s(4910),l=s(5639);t.lrn=(v,f,c)=>(g(f),[v.run(y(f,c),f)]),t.parseLrnAttributes=v=>{const f=v.attributes.getFloat("alpha",1e-4),c=v.attributes.getFloat("beta",.75),r=v.attributes.getFloat("bias",1),e=v.attributes.getInt("size");return(0,u.createAttributeWithCacheKey)({alpha:f,beta:c,bias:r,size:e})};const d={name:"LRN",inputNames:["X"],inputTypes:[l.TextureType.unpacked]};function y(v,f){return Object.assign(Object.assign({},d),{cacheHint:f.cacheKey,get:()=>function(c,r){const e=c[0].dims[1],n=c[0].dims.length,o=-Math.floor((r.size-1)/2),m=Math.ceil((r.size-1)/2),_=`float(${r.alpha}) / float(${r.size})`,x=`
    float process(int indices[${n}]) {
        int c = indices[1];
        float x = _X(indices);
        float square_sum = 0.0;

        for (int i = ${o}; i <= ${m}; i++) {
          int idx = c + i;
          if (c >= 0 && c < ${e}) {
            indices[1] = idx;
            float j = _X(indices);
            square_sum += j * j;
          }
        }
        return x / pow(float(${r.bias}) + ${_} * square_sum, float(${r.beta}));
    }`;return Object.assign(Object.assign({},d),{cacheHint:r.cacheKey,output:{dims:c[0].dims,type:c[0].type,textureType:l.TextureType.unpacked},shaderSource:x})}(v,f)})}t.createLrnProgramInfoLoader=y;const g=v=>{if(!v||v.length!==1)throw new Error("LRN requires 1 input.");if(v[0].dims.length!==4)throw new Error('currently only support LRN for input with "NCHW" format');if(v[0].type!=="float32")throw new Error("input should be float type")}},5632:(i,t,s)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.createPackedMatmulProgramInfoLoader=void 0;const u=s(7273),l=s(6757),d=s(5639),y=s(432),g=s(2150),v=s(8276);t.createPackedMatmulProgramInfoLoader=(f,c,r)=>{const e=(n=c.length>2,o=r.activationCacheKey,{name:"MatMul (packed)",inputNames:n?["A","B","Bias"]:["A","B"],inputTypes:n?[d.TextureType.packed,d.TextureType.packed,d.TextureType.packed]:[d.TextureType.packed,d.TextureType.packed],cacheHint:o});var n,o;return Object.assign(Object.assign({},e),{get:()=>((m,_,x,w)=>{const S=x.length>2,O=S?"value += getBiasForMatmul();":"",A=x[0].dims,I=x[1].dims,P=u.BroadcastUtil.calcShape(A,I,!0),L=!u.ShapeUtil.areEqual(x[0].dims,x[1].dims);if(!P)throw new Error("Can't use matmul on the given tensors");const U=A[A.length-1],G=Math.ceil(U/2),te=A.length,Y=I.length,F=(0,l.getGlsl)(m.session.backend.glContext.version),re=(0,y.getCoordsDataType)(P.length),R=P.length,M=(0,y.getGlChannels)(),{activationFunction:H,applyActivation:le}=(0,g.getActivationSnippet)(w),he=S?`${(0,v.getBiasForMatmul)(re,M,x[2].dims,P,!0)}`:"",Ce=L?`${function(Be,Me,je,Je){let it=[],lt=[];const Dt=je[0].dims,ve=je[1].dims,$=Dt.length,V=ve.length,W=Je.length,Q=W-$,ie=W-V;it=Dt.map((Oe,Ee)=>`coords.${Me[Ee+Q]}`),it[$-1]="i*2",it.join(", "),lt=ve.map((Oe,Ee)=>`coords.${Me[Ee+ie]}`),lt[V-2]="i*2",lt.join(", ");const ae=u.BroadcastUtil.getBroadcastDims(Dt,Je),xe=u.BroadcastUtil.getBroadcastDims(ve,Je),be=ae.map(Oe=>`coords.${Me[Oe+Q]} = 0;`).join(`
`),Te=xe.map(Oe=>`coords.${Me[Oe+ie]} = 0;`).join(`
`),pe=`int lastDim = coords.${Me[W-1]};
  coords.${Me[W-1]} = coords.${Me[W-2]};
  coords.${Me[W-2]} = lastDim;`;return`
vec4 getAAtOutCoordsMatmul(int i) {
  ${Be} coords = getOutputCoords();
  ${pe}
  ${be}
  vec4 outputValue = getA(${it});
  return outputValue;
}

vec4 getBAtOutCoordsMatmul(int i) {
  ${Be} coords = getOutputCoords();
  ${pe}
  ${Te}
  vec4 outputValue = getB(${lt});
  return outputValue;
}`}(re,M,x,P)}`:"",we=L?"getAAtOutCoordsMatmul(i)":`getA(${function(Be,Me){let je="";for(let Je=0;Je<Me-2;Je++)je+=`rc.${Be[Je]}, `;return je+=`rc.${Be[Me-2]}, i*2`,je}(M,te)})`,Pe=L?"getBAtOutCoordsMatmul(i)":`getB(${function(Be,Me){let je="";for(let Je=0;Je<Me-2;Je++)je+=`rc.${Be[Je]}, `;return je+=`i*2, rc.${Be[Me-1]}`,je}(M,Y)})`,Le=`
            ${Ce}
            ${he}
            ${H}
            void main() {
              ${L?"":`${re} rc =
          getOutputCoords(); int lastDim = rc.${M[R-1]}; rc.${M[R-1]} =
          rc.${M[R-2]}; rc.${M[R-2]} = lastDim;
      `}

              vec4 value = vec4(0);
              for (int i = 0; i < ${G}; i++) {
                vec4 a = ${we};
                vec4 b = ${Pe};

                value += (a.rrbb * b.rgrg);
                value += (a.ggaa * b.baba);
              }
              ${O}
              ${le}
              ${F.output} = value;
            }`;return Object.assign(Object.assign({},_),{output:{dims:P,type:x[0].type,textureType:d.TextureType.packed},shaderSource:Le,hasMain:!0})})(f,e,c,r)})}},8276:(i,t,s)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.getBiasForMatmul=t.createMatmulProgramInfoLoader=t.parseMatMulAttributes=t.matMul=void 0;const u=s(7273),l=s(5639),d=s(432),y=s(2150),g=s(5632);t.matMul=(e,n,o)=>(c(n),e.session.pack?[e.run((0,g.createPackedMatmulProgramInfoLoader)(e,n,o),n)]:[e.run(f(n,o),n)]),t.parseMatMulAttributes=e=>(0,y.parseInternalActivationAttributes)(e.attributes);const v=(e,n)=>({name:"MatMul",inputNames:e?["A","B","Bias"]:["A","B"],inputTypes:e?[l.TextureType.unpacked,l.TextureType.unpacked,l.TextureType.unpacked]:[l.TextureType.unpacked,l.TextureType.unpacked],cacheHint:n});function f(e,n){const o=v(e.length>2,n.activationCacheKey);return Object.assign(Object.assign({},o),{get:()=>function(m,_,x){const w=_[0].dims,S=_[1].dims,O=u.BroadcastUtil.calcShape(w,S,!0);if(!O)throw new Error("Can't use matmul on the given tensors");const A=(0,d.getCoordsDataType)(O.length),I=(0,d.getGlChannels)(),{activationFunction:P,applyActivation:L}=(0,y.getActivationSnippet)(x),U=_.length>2,G=U?"value += getBiasForMatmul();":"",te=U?`${r(A,I,_[2].dims,O,!1)}`:"",Y=O.length,F=w.length,re=S.length,R=`
    ${P}
    ${te}
    float process(int indices[${Y}]) {
        int a[${F}];
        int b[${re}];
        bcastMatmulIndices_A(indices, a);
        bcastMatmulIndices_B(indices, b);

        float value;
        for (int k=0; k<${w[w.length-1]}; ++k) {
            a[${F-1}] = k;
            b[${re-2}] = k;
            value += _A(a) * _B(b);
        }
        ${G}
        ${L}
        return value;
    }`;return Object.assign(Object.assign({},m),{output:{dims:O,type:_[0].type,textureType:l.TextureType.unpacked},shaderSource:R})}(o,e,n)})}t.createMatmulProgramInfoLoader=f;const c=e=>{if(!e||e.length!==2)throw new Error("MatMul requires 2 inputs.");if(e[0].dims[e[0].dims.length-1]!==e[1].dims[e[1].dims.length-2])throw new Error("shared dimension does not match.");if(e[0].type!=="float32"&&e[0].type!=="float64"||e[1].type!=="float32"&&e[1].type!=="float64")throw new Error("inputs should be float type");if(e[0].type!==e[1].type)throw new Error("inputs types should match")};function r(e,n,o,m,_){let x="";const w=o.length,S=m.length,O=S-w;x=S<2&&w>0?"coords":o.map((P,L)=>`coords.${n[L+O]}`).join(", ");const A=u.BroadcastUtil.getBroadcastDims(o,m).map(P=>`coords.${n[P+O]} = 0;`).join(`
`);let I="vec4(outputValue.xx, outputValue.yy)";return u.ShapeUtil.size(o)===1&&(I="vec4(outputValue.x)"),_?`
vec4 getBiasForMatmul() {
  ${e} coords = getOutputCoords();
  ${A}
  vec4 outputValue = getBias(${x});
  return ${I};
}`:`
float getBiasForMatmul() {
  ${e} coords = getOutputCoords();
  ${A}
  return getBias(coords.x);
}`}t.getBiasForMatmul=r},9:(i,t,s)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.createPackProgramInfoLoader=void 0;const u=s(6757),l=s(5639),d=s(432),y=s(5614),g={name:"pack",inputNames:["A"],inputTypes:[l.TextureType.unpackedReversed]};t.createPackProgramInfoLoader=(v,f)=>Object.assign(Object.assign({},g),{get:()=>((c,r)=>{const e=(0,u.getGlsl)(c.session.backend.glContext.version),n=r.dims,o=n.length,m=r.dims.length,_=(0,d.getCoordsDataType)(m),x=(0,y.getChannels)("rc",m),w=(S=m,O=x,A=n[n.length-2],I=n[n.length-1],S===0||S===1?"":`
    int r = ${O[S-2]};
    int c = ${O[S-1]};
    int rp1 = ${O[S-2]} + 1;
    int cp1 = ${O[S-1]} + 1;
    bool rEdge = rp1 >= ${I};
    bool cEdge = cp1 >= ${A};
    `);var S,O,A,I;let P;P=o===0?[1,1]:o===1?[n[0],1]:[n[m-1],n[m-2]];const L=function(te,Y,F){if(te===0)return"false";if(te===1)return`rc > ${Y[0]}`;let re="";for(let R=te-2;R<te;R++)re+=`${F[R]} >= ${Y[R-te+2]}`,R<te-1&&(re+="||");return re}(m,P,x),U=function(te,Y){const F=te.length;if(F===0)return"getA(), 0, 0, 0";if(F===1)return`getA(rc),
            rc + 1 >= ${te[0]} ? 0. : getA(rc + 1),
            0, 0`;let re="";if(F>2)for(let R=0;R<F-2;++R)re+=`${Y[R]},`;return`getA(${re}r, c),
          rEdge ? 0. : getA(${re}rp1, c),
          cEdge ? 0. : getA(${re}r, cp1),
          rEdge || cEdge ? 0. : getA(${re}rp1, cp1)`}(n,x),G=`
        void main() {
          ${_} rc = getOutputCoords();

          if(${L}) {
            ${e.output} = vec4(0);
          } else {
            ${w}

            ${e.output} = vec4(${U});
          }
        }
      `;return Object.assign(Object.assign({},g),{hasMain:!0,output:{dims:r.dims,type:r.type,textureType:l.TextureType.packed},shaderSource:G})})(v,f)})},5614:(i,t,s)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.unpackFromChannel=t.getChannels=t.getVecChannels=void 0;const u=s(432);function l(d,y){return(0,u.getGlChannels)(y).map(g=>`${d}.${g}`)}t.getVecChannels=l,t.getChannels=function(d,y){return y===1?[d]:l(d,y)},t.unpackFromChannel=function(){return`
    float getChannel(vec4 frag, int dim) {
      int modCoord = imod(dim, 2);
      return modCoord == 0 ? frag.r : frag.g;
    }

    float getChannel(vec4 frag, vec2 innerDims) {
      vec2 modCoord = mod(innerDims, 2.);
      return modCoord.x == 0. ?
        (modCoord.y == 0. ? frag.r : frag.g) :
        (modCoord.y == 0. ? frag.b : frag.a);
    }
  `}},5565:(i,t,s)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.parsePadAttributesV11=t.padV11=t.parsePadAttributesV2=t.padV2=void 0;const u=s(4910),l=s(7273),d=s(6757),y=s(5639),g={name:"Pad",inputNames:["A"],inputTypes:[y.TextureType.unpacked]};t.padV2=(_,x,w)=>(c(x),[_.run(Object.assign(Object.assign({},g),{cacheHint:w.cacheKey,get:()=>f(_,x[0],w)}),x)]),t.parsePadAttributesV2=_=>{const x=_.attributes.getString("mode","constant"),w=_.attributes.getFloat("value",0),S=_.attributes.getInts("pads");return(0,u.createAttributeWithCacheKey)({mode:x,value:w,pads:S})},t.padV11=(_,x,w)=>{r(x);const S=v(_,x,w);return(0,t.padV2)(_,[x[0]],S)},t.parsePadAttributesV11=_=>_.attributes.getString("mode","constant");const v=(_,x,w)=>{if(!_.session.isInitializer(x[1].dataId)||x.length>=3&&!_.session.isInitializer(x[2].dataId))throw new Error("dynamic pad attributes are not allowed");const S=Array.from(x[1].integerData),O=x.length>=3?x[2].floatData[0]:0;return(0,u.createAttributeWithCacheKey)({mode:w,pads:S,value:O})},f=(_,x,w)=>{const S=l.ShapeUtil.padShape(x.dims.slice(),w.pads),O=S.length,A=`
      ${e(_,x,w)}
      float process(int[${O}] indices) {
          return padA(indices);
      }`;return{name:"Pad",inputNames:["A"],inputTypes:[y.TextureType.unpacked],output:{dims:S,type:x.type,textureType:y.TextureType.unpacked},shaderSource:A}},c=_=>{if(!_||_.length!==1)throw new Error("Pad requires 1 input");if(_[0].type!=="float32"&&_[0].type!=="float64")throw new Error("Invalid input type.")},r=_=>{if(!_||_.length!==2&&_.length!==3)throw new Error("Pad requires 2 or 3 inputs");if(_[1].type!=="int32")throw new Error("Invalid input type.");if(_.length>=3&&_[2].type==="string")throw new Error("Invalid input type.")},e=(_,x,w)=>{const S=(0,d.getGlsl)(_.session.backend.glContext.version),[O,A]=_.calculateTextureWidthAndHeight(x.dims,y.TextureType.unpacked),I=l.ShapeUtil.computeStrides(x.dims);switch(w.mode){case"constant":return n(S,x.dims,I,O,A,w.pads,w.value);case"reflect":return o(S,x.dims,I,O,A,w.pads);case"edge":return m(S,x.dims,I,O,A,w.pads);default:throw new Error("Invalid mode")}},n=(_,x,w,S,O,A,I)=>{const P=x.length;let L="";for(let U=P-1;U>=0;--U)L+=`
        k = m[${U}] - ${A[U]};
        if (k < 0)  return constant;
        if (k >= ${x[U]}) return constant;
        offset += k * ${w[U]};
        `;return`
      float padA(int m[${P}]) {
        const float constant = float(${I});
        int offset = 0;
        int k = 0;
        ${L}
        vec2 coords = offsetToCoords(offset, ${S}, ${O});
        float value = getColorAsFloat(${_.texture2D}(A, coords));
        return value;
      }
      `},o=(_,x,w,S,O,A)=>{const I=x.length;let P="";for(let L=I-1;L>=0;--L)P+=`
        k = m[${L}] - ${A[L]};
        if (k < 0) { k = -k; }
        {
          const int _2n_1 = ${2*(x[L]-1)};
          k = int( mod( float(k), float(_2n_1) ) ) ;
          if(k >= ${x[L]}) { k = _2n_1 - k; }
        }
        offset += k * ${w[L]};
        `;return`
      float padA(int m[${I}]) {
        int offset = 0;
        int k = 0;
        ${P}
        vec2 coords = offsetToCoords(offset, ${S}, ${O});
        float value = getColorAsFloat(${_.texture2D}(A, coords));
        return value;
      }
      `},m=(_,x,w,S,O,A)=>{const I=x.length;let P="";for(let L=I-1;L>=0;--L)P+=`
        k = m[${L}] - ${A[L]};
        if (k < 0)  k = 0;
        if (k >= ${x[L]}) k = ${x[L]-1};
        offset += k * ${w[L]};
      `;return`
      float padA(int m[${I}]) {
        int offset = 0;
        int k = 0;
        ${P}
        vec2 coords = offsetToCoords(offset, ${S}, ${O});
        float value = getColorAsFloat(${_.texture2D}(A, coords));
        return value;
      }
      `}},2834:(i,t,s)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.globalMaxPool=t.parseMaxPoolAttributes=t.maxPool=t.parseGlobalAveragePoolAttributes=t.globalAveragePool=t.parseAveragePoolAttributes=t.averagePool=void 0;const u=s(4910),l=s(7273),d=s(5639);t.averagePool=(m,_,x)=>{r(_);const w={name:"AveragePool",inputNames:["X"],inputTypes:[d.TextureType.unpacked],cacheHint:x.cacheKey};return[m.run(Object.assign(Object.assign({},w),{get:()=>y(_,w,!1,x)}),_)]},t.parseAveragePoolAttributes=m=>{const _=m.attributes.getString("auto_pad","NOTSET"),x=m.attributes.getInt("ceil_mode",0),w=m.attributes.getInt("count_include_pad",0)!==0,S=m.attributes.getInts("kernel_shape"),O=m.attributes.getInts("strides",[]),A=m.attributes.getInts("pads",[]);if(x!==0)throw new Error("using ceil() in shape computation is not yet supported for AveragePool");return(0,u.createAttributeWithCacheKey)({autoPad:_,ceilMode:x,countIncludePad:w,kernelShape:S,strides:O,pads:A})};const y=(m,_,x,w)=>{const[S,O]=v(m,w,x),A=l.ShapeUtil.size(S.kernelShape);let I="";S.countIncludePad?I+=`value /= float(${A});`:I+=`value /= float(${A} - pad);`;const P=`
        ${e(m[0].dims,S,"value += _X(x);",I,"0.0")}
      `;return Object.assign(Object.assign({},_),{output:{dims:O,type:m[0].type,textureType:d.TextureType.unpacked},shaderSource:P})};t.globalAveragePool=(m,_,x)=>{r(_);const w={name:"GlobalAveragePool",inputNames:["X"],inputTypes:[d.TextureType.unpacked],cacheHint:`${x.countIncludePad}`};return[m.run(Object.assign(Object.assign({},w),{get:()=>y(_,w,!0,x)}),_)]},t.parseGlobalAveragePoolAttributes=m=>{const _=m.attributes.getInt("count_include_pad",0)!==0;return(0,u.createAttributeWithCacheKey)({autoPad:"",ceilMode:0,countIncludePad:_,kernelShape:[],strides:[],pads:[]})},t.maxPool=(m,_,x)=>{r(_);const w={name:"MaxPool",inputNames:["X"],inputTypes:[d.TextureType.unpacked],cacheHint:x.cacheKey};return[m.run(Object.assign(Object.assign({},w),{get:()=>g(_,w,!1,x)}),_)]},t.parseMaxPoolAttributes=m=>{const _=m.attributes.getString("auto_pad","NOTSET"),x=m.attributes.getInt("ceil_mode",0),w=m.attributes.getInts("kernel_shape"),S=m.attributes.getInts("strides",[]),O=m.attributes.getInts("pads",[]),A=m.attributes.getInt("storage_order",0),I=m.attributes.getInts("dilations",[]);if(A!==0)throw new Error("column major storage order is not yet supported for MaxPool");if(x!==0)throw new Error("using ceil() in shape computation is not yet supported for MaxPool");return(0,u.createAttributeWithCacheKey)({autoPad:_,ceilMode:x,countIncludePad:!1,kernelShape:w,strides:S,pads:O,storageOrder:A,dilations:I})};const g=(m,_,x,w)=>{const[S,O]=v(m,w,x),A=`
      ${e(m[0].dims,S,`
      value = max(_X(x), value);
    `,"","-1e5")}
    `;return Object.assign(Object.assign({},_),{output:{dims:O,type:m[0].type,textureType:d.TextureType.unpacked},shaderSource:A})},v=(m,_,x)=>{const w=m[0].dims.slice(),S=Object.hasOwnProperty.call(_,"dilations"),O=_.kernelShape.slice(),A=_.strides.slice(),I=S?_.dilations.slice():[],P=_.pads.slice();l.PoolConvUtil.adjustPoolAttributes(x,w,O,A,I,P);const L=l.PoolConvUtil.computePoolOutputShape(x,w,A,I,O,P,_.autoPad),U=Object.assign({},_);return S?Object.assign(U,{kernelShape:O,strides:A,pads:P,dilations:I,cacheKey:_.cacheKey}):Object.assign(U,{kernelShape:O,strides:A,pads:P,cacheKey:_.cacheKey}),[U,L]},f={autoPad:"",ceilMode:0,countIncludePad:!1,kernelShape:[],strides:[],pads:[],storageOrder:0,dilations:[],cacheKey:""},c={name:"GlobalMaxPool",inputNames:["X"],inputTypes:[d.TextureType.unpacked]};t.globalMaxPool=(m,_)=>(r(_),[m.run(Object.assign(Object.assign({},c),{get:()=>g(_,c,!0,f)}),_)]);const r=m=>{if(!m||m.length!==1)throw new Error("Pool ops requires 1 input.");if(m[0].type!=="float32"&&m[0].type!=="float64")throw new Error("Invalid input type.")},e=(m,_,x,w,S)=>{const O=m.length;if(_.kernelShape.length<=2){const A=_.kernelShape[_.kernelShape.length-1],I=_.strides[_.strides.length-1],P=_.pads[_.pads.length/2-1],L=_.pads[_.pads.length-1],U=m[O-1];let G="",te="",Y="";if(G=P+L!==0?`
          for (int i = 0; i < ${A}; i++) {
            x[${O} - 1] = indices[${O} - 1] * ${I} - ${P} + i;
            if (x[${O} - 1] < 0 || x[${O} - 1] >= ${U}) {
              pad++;
              continue;
            }
            ${x}
          }`:`
          for (int i = 0; i < ${A}; i++) {
            x[${O} - 1] = indices[${O} - 1] * ${I} - ${P} + i;
            ${x}
          }`,_.kernelShape.length===2){const F=_.kernelShape[_.kernelShape.length-2],re=_.strides[_.strides.length-2],R=_.pads[_.pads.length/2-2],M=_.pads[_.pads.length-2],H=m[O-2];te=R+M!==0?`
            for (int j = 0; j < ${F}; j++) {
              x[${O} - 2] = indices[${O} - 2] * ${re} - ${R} + j;
              if (x[${O} - 2] < 0 || x[${O} - 2] >= ${H}) {
                pad+= ${A};
                continue;
              }
          `:`
            for (int j = 0; j < ${F}; j++) {
              x[${O} - 2] = indices[${O} - 2] * ${re} - ${R} + j;
            `,Y=`
          }
        `}return`
        float process(int indices[${O}]) {
          int x[${O}];
          copyVec(indices, x);

          float value = ${S};
          int pad = 0;
          ${te}
          ${G}
          ${Y}
          ${w}
          return value;
        }
      `}{const A=l.ShapeUtil.size(_.kernelShape),I=l.ShapeUtil.computeStrides(_.kernelShape),P=I.length,L=_.pads.length,U=o(P),G=n(m,"inputDims"),te=n(_.pads,"pads"),Y=n(I,"kernelStrides"),F=n(_.strides,"strides");let re="";return re=_.pads.reduce((R,M)=>R+M)?`
            if (x[j] >= inputDims[j] || x[j] < 0) {
              pad++;
              isPad = true;
              break;
            }
          }
          if (!isPad) {
            ${x}
          }`:`
          }
          ${x}
        `,`
        ${U}
        float process(int indices[${O}]) {
          int x[${O}];
          copyVec(indices, x);
          int offset[${P}];
          int pads[${L}];
          int inputDims[${O}];
          int kernelStrides[${P}];
          int strides[${P}];
          ${te}
          ${G}
          ${F}
          ${Y}

          float value = ${S};
          int pad = 0;
          bool isPad = false;
          for (int i = 0; i < ${A}; i++) {
            offsetToIndices(i, kernelStrides, offset);
            isPad = false;
            for (int j = ${O} - ${P}; j < ${O}; j++) {
              x[j] = indices[j] * strides[j - ${O} + ${P}]
                + offset[j - ${O} + ${P}] - pads[j - 2];
              ${re}
          }
          ${w}

          return value;
        }
      `}},n=(m,_)=>{let x="";for(let w=0;w<m.length;w++)x+=`
      ${_}[${w}] = ${m[w]};
    `;return x},o=m=>`
  void offsetToIndices(int offset, int[${m}] strides, out int[${m}] indices) {
    if (${m} == 0) {
      return;
    }
    for (int i = 0; i < ${m} - 1; ++i) {
      indices[i] = offset / strides[i];
      offset -= indices[i] * strides[i];
    }
    indices[${m} - 1] = offset;
  }`},1010:(i,t,s)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.reduceLogSumSquare=t.reduceLogSum=t.reduceProd=t.reduceMin=t.reduceMax=t.reduceMean=t.reduceSum=t.parseReduceAttributes=void 0;const u=s(4910),l=s(6145),d=s(7273),y=s(5639),g=(c,r,e,n,o)=>{f(r);const m={name:n,inputNames:["A"],inputTypes:[y.TextureType.unpacked]};return[c.run(Object.assign(Object.assign({},m),{cacheHint:e.cacheKey,get:()=>v(c,r,e,n,o,m)}),r)]};t.parseReduceAttributes=c=>{const r=c.attributes.getInts("axes",[]),e=c.attributes.getInt("keepdims",1)===1;return(0,u.createAttributeWithCacheKey)({axes:r,keepDims:e})};const v=(c,r,e,n,o,m)=>{const _=[],x=r[0].dims.length||1,w=[],S=d.ShapeUtil.normalizeAxes(e.axes,r[0].dims.length),O=o(r,S);let A=O[1];for(let P=0;P<r[0].dims.length;P++)S.indexOf(P)>=0||S.length===0?(e.keepDims&&_.push(1),A=`
          for(int j${P} = 0; j${P} < ${r[0].dims[P]}; j${P}++) {
            inputIdx[${P}] = j${P};
            ${A}
          }`):(w.push(`inputIdx[${P}] = outputIdx[${_.length}];`),_.push(r[0].dims[P]));const I=`
      float process(int outputIdx[${_.length||1}]) {
        float value;                 // final result
        int inputIdx[${x}];      // addressing input data
        ${w.join(`
`)}
        ${O[0]}       // init ops for reduce max/min
        ${A}
        ${O[2]}       // final computation for reduce mean
        return value;
      }`;return Object.assign(Object.assign({},m),{output:{dims:_,type:r[0].type,textureType:y.TextureType.unpacked},shaderSource:I})},f=c=>{if(!c||c.length!==1)throw new Error("Reduce op requires 1 input.");if(l.NUMBER_TYPES.indexOf(c[0].type)===-1)throw new Error("Invalid input type.")};t.reduceSum=(c,r,e)=>g(c,r,e,"ReduceSum",()=>["value = 0.0;","value += _A(inputIdx);",""]),t.reduceMean=(c,r,e)=>g(c,r,e,"ReduceMean",(n,o)=>{let m=1;for(let _=0;_<n[0].dims.length;_++)(o.indexOf(_)>=0||o.length===0)&&(m*=n[0].dims[_]);return["value = 0.0;","value += _A(inputIdx);",`value /= ${m}.;`]}),t.reduceMax=(c,r,e)=>g(c,r,e,"ReduceMax",(n,o)=>{const m=[];for(let _=0;_<n[0].dims.length;_++)(o.indexOf(_)>=0||o.length===0)&&m.push(`inputIdx[${_}] = 0;`);return[`${m.join(`
`)}
value = _A(inputIdx);`,"value = max(value, _A(inputIdx));",""]}),t.reduceMin=(c,r,e)=>g(c,r,e,"ReduceMin",(n,o)=>{const m=[];for(let _=0;_<n[0].dims.length;_++)(o.indexOf(_)>=0||o.length===0)&&m.push(`inputIdx[${_}] = 0;`);return[`${m.join(`
`)}
value = _A(inputIdx);`,"value = min(value, _A(inputIdx));",""]}),t.reduceProd=(c,r,e)=>g(c,r,e,"ReduceProd",()=>["value = 1.0;","value *= _A(inputIdx);",""]),t.reduceLogSum=(c,r,e)=>g(c,r,e,"ReduceLogSum",()=>["value = 0.0;","value += _A(inputIdx);","value = log(value);"]),t.reduceLogSumSquare=(c,r,e)=>g(c,r,e,"ReduceLogSumSquare",()=>["float t; value = 0.0;","t = _A(inputIdx); value += t * t;",""])},7379:(i,t,s)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.isReshapeCheap=t.processDims3D=t.createPackedReshape3DProgramInfoLoader=void 0;const u=s(7273),l=s(6757),d=s(5639),y=s(5614);t.createPackedReshape3DProgramInfoLoader=(g,v,f)=>{const c=(r=>({name:"Reshape (packed)",inputTypes:[d.TextureType.packed],inputNames:["A"],cacheHint:`${r}`}))(f);return Object.assign(Object.assign({},c),{get:()=>((r,e,n,o)=>{const m=e.dims,_=o;let x="";for(let O=0;O<4;O++){let A="";switch(O){case 0:A="outputCoords = rc;";break;case 1:A="outputCoords = ivec3(rc.x, rc.y+1, rc.z);";break;case 2:A="outputCoords = ivec3(rc.x, rc.y, rc.z+1);";break;case 3:A="outputCoords = ivec3(rc.x, rc.y+1, rc.z+1);";break;default:throw new Error}x+=`
        ${A}
        ${O>0?"if(outputCoords.y < rows && outputCoords.z < cols){":""}
          int flattenedIndex = getFlattenedIndex(outputCoords);

          ivec3 inputRC = inputCoordsFromReshapedOutCoords(flattenedIndex);
          vec2 innerDims = vec2(float(inputRC.y),float(inputRC.z));

          result[${O}] = getChannel(getA(inputRC.x, inputRC.y, inputRC.z), innerDims);

        ${O>0?"}":""}
      `}const w=(0,l.getGlsl)(r.session.backend.glContext.version),S=`
      ${function(O){const A=u.ShapeUtil.computeStrides(O),I=["b","r","c"],P="index";return`
    ivec3 inputCoordsFromReshapedOutCoords(int index) {
      ${A.map((L,U)=>`int ${I[U]} = ${P} / ${L}; ${U===A.length-1?`int ${I[U+1]} = ${P} - ${I[U]} * ${L}`:`index -= ${I[U]} * ${L}`};`).join("")}
      return ivec3(b, r, c);
    }
  `}(m)}
      ${function(O){const A=u.ShapeUtil.computeStrides(O);return`
  int getFlattenedIndex(ivec3 coords) {
    // reverse y, z order
    return coords.x * ${A[0]} + coords.z * ${A[1]} + coords.y;
  }
`}(_)}
      ${(0,y.unpackFromChannel)()}

      void main() {
        ivec3 rc = getOutputCoords();

        vec4 result = vec4(0.0);

        ivec3 outputCoords;
        int rows = ${_[2]};
        int cols = ${_[1]};

        ${x}
        ${w.output} = result;
      }
    `;return Object.assign(Object.assign({},n),{output:{dims:_,type:e.type,textureType:d.TextureType.packed},shaderSource:S,hasMain:!0})})(g,v,c,f)})},t.processDims3D=function(g){if(g.length===0)return[1,1,1];let v=1;for(let f=0;f<g.length-2;++f)v*=g[f];return[v,g.length>1?g[g.length-2]:1,g[g.length-1]]},t.isReshapeCheap=function(g,v){let f=!1;return f=g.length===0||v.length===0||(g.length<2||v.length<2?g[g.length-1]===v[v.length-1]:g[g.length-1]===v[v.length-1]&&g[g.length-2]===v[v.length-2]),f}},8126:(i,t,s)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.reshape=void 0;const u=s(7273);t.reshape=(l,d)=>{const y=u.ShapeUtil.calculateReshapedDims(d[0].dims,d[1].integerData);return l.session.pack?[l.reshapePacked(d[0],y)]:[l.reshapeUnpacked(d[0],y)]}},2801:(i,t,s)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.parseResizeAttributesV11=t.parseResizeAttributesV10=t.resize=void 0;const u=s(6757),l=s(5639),d=s(432),y=s(5614),g=s(3980),v={name:"Resize",inputNames:["A"],inputTypes:[l.TextureType.packed]};t.resize=(n,o,m)=>((0,g.validateInputs)(o,m),[n.run(Object.assign(Object.assign({},v),{cacheHint:m.cacheKey,get:()=>f(n,o,m)}),o)]),t.parseResizeAttributesV10=n=>(0,g.parseUpsampleAttributes)(n,10),t.parseResizeAttributesV11=n=>(0,g.parseUpsampleAttributes)(n,11);const f=(n,o,m)=>{const _=(0,u.getGlsl)(n.session.backend.glContext.version),[x,w]=c(o,m);if(x.every(re=>re===1)&&m.coordinateTransformMode!=="tf_crop_and_resize")return Object.assign(Object.assign({},v),{output:{dims:w,type:o[0].type,textureType:l.TextureType.packed},hasMain:!0,shaderSource:`void main() {
                    vec4 v = ${_.texture2D}(X, TexCoords);
                    ${_.output} = v;
                }`});const S=w.length;if(S<2)throw new Error(`output dimension should be at least 2, but got ${S}`);const O=w[S-2],A=w[S-1],I=o[0].dims;if(S!==I.length)throw new Error(`output dimension should match input ${I.length}, but got ${S}`);const P=I[S-2],L=I[S-1],U=x[S-2],G=x[S-1];let te="";if(m.mode!=="linear")throw new Error(`resize (packed) does not support mode: '${m.mode}'`);switch(m.coordinateTransformMode){case"asymmetric":te=`
                    vec4 getSourceFracIndex(ivec4 coords) {
                        return vec4(coords) / scaleWHWH;
                    }
                `;break;case"half_pixel":te=`
                    vec4 getSourceFracIndex(ivec4 coords) {
                        return (vec4(coords) + 0.5) / scaleWHWH - 0.5;
                    }
                `;break;case"pytorch_half_pixel":te=`
                    vec4 getSourceFracIndex(ivec4 coords) {
                        vec4 fcoords = vec4(coords);
                        return vec4(
                            ${A}.0 > 1.0 ? (fcoords.x + 0.5) / scaleWHWH.x - 0.5 : 0.0,
                            ${O}.0 > 1.0 ? (fcoords.y + 0.5) / scaleWHWH.y - 0.5 : 0.0,
                            ${A}.0 > 1.0 ? (fcoords.z + 0.5) / scaleWHWH.z - 0.5 : 0.0,
                            ${O}.0 > 1.0 ? (fcoords.w + 0.5) / scaleWHWH.w - 0.5 : 0.0
                          );
                    }
                `;break;case"align_corners":te=`
                    vec4 getSourceFracIndex(ivec4 coords) {
                        vec4 resized = vec4(${A}.0 - 1.0, ${O}.0 - 1.0, ${A}.0 - 1.0,
                            ${O}.0 - 1.0);
                        vec4 original = vec4(${L}.0 - 1.0, ${P}.0 - 1.0, ${L}.0 - 1.0,
                            ${P}.0 - 1.0);
                        vec4 new_scale = original / resized;
                        return vec4(coords) * new_scale;
                    }
                `;break;default:throw new Error(`resize (packed) does not support coordinateTransformMode:                                 '${m.coordinateTransformMode}'`)}const Y=(0,d.getCoordsDataType)(S),F=`
            const vec2 inputWH = vec2(${P}.0, ${L}.0);
            const vec4 scaleWHWH = vec4(float(${U}), float(${G}), float(${U}), float(${G}));
            ${(0,y.unpackFromChannel)()}
            ${te}
            float getAValue(int x10, int r, int c, int d) {
                return getChannel(getA(x10, r, c, d), vec2(c, d));
            }
            void main() {
                ${Y} rc = getOutputCoords();

                int batch = rc[0];
                int depth = rc[1];

                // retrieve the 4 coordinates that is used in the 4 packed output values.
                ivec4 coords = ivec4(rc.wz, rc.w + 1, rc.z + 1);

                // calculate the source index in fraction
                vec4 sourceFrac = getSourceFracIndex(coords);

                // get the lower and upper bound of the 4 values that will be packed into one texel.
                ivec4 x00 = ivec4(max(sourceFrac.xy, vec2(0.0)), min(inputWH - 1.0, ceil(sourceFrac.xy)));
                ivec4 x01 = ivec4(max(sourceFrac.xw, vec2(0.0)), min(inputWH - 1.0, ceil(sourceFrac.xw)));
                ivec4 x10 = ivec4(max(sourceFrac.zy, vec2(0.0)), min(inputWH - 1.0, ceil(sourceFrac.zy)));
                ivec4 x11 = ivec4(max(sourceFrac.zw, vec2(0.0)), min(inputWH - 1.0, ceil(sourceFrac.zw)));

                bool hasNextRow = rc.w < ${O-1};
                bool hasNextCol = rc.z < ${A-1};

                // pack x00, x01, x10, x11's top-left corner into one vec4 structure
                vec4 topLeft = vec4(
                    getAValue(batch, depth, x00.x, x00.y),
                    hasNextCol ? getAValue(batch, depth, x01.x, x01.y) : 0.0,
                    hasNextRow ? getAValue(batch, depth, x10.x, x10.y) : 0.0,
                    (hasNextRow && hasNextCol) ? getAValue(batch, depth, x11.x, x11.y) : 0.0);

                // pack x00, x01, x10, x11's top-right corner into one vec4 structure
                vec4 topRight = vec4(
                    getAValue(batch, depth, x00.x, x00.w),
                    hasNextCol ? getAValue(batch, depth, x01.x, x01.w) : 0.0,
                    hasNextRow ? getAValue(batch, depth, x10.x, x10.w) : 0.0,
                    (hasNextRow && hasNextCol) ? getAValue(batch, depth, x11.x, x11.w) : 0.0);

                // pack x00, x01, x10, x11's bottom-left corner into one vec4 structure
                vec4 bottomLeft = vec4(
                    getAValue(batch, depth, x00.z, x00.y),
                    hasNextCol ? getAValue(batch, depth, x01.z, x01.y) : 0.0,
                    hasNextRow ? getAValue(batch, depth, x10.z, x10.y) : 0.0,
                    (hasNextRow && hasNextCol) ? getAValue(batch, depth, x11.z, x11.y) : 0.0);

                // pack x00, x01, x10, x11's bottom-right corner into one vec4 structure
                vec4 bottomRight = vec4(
                    getAValue(batch, depth, x00.z, x00.w),
                    hasNextCol ? getAValue(batch, depth, x01.z, x01.w) : 0.0,
                    hasNextRow ? getAValue(batch, depth, x10.z, x10.w) : 0.0,
                    (hasNextRow && hasNextCol) ? getAValue(batch, depth, x11.z, x11.w) : 0.0);

                // calculate the interpolation fraction on u and v direction
                vec4 frac = vec4(sourceFrac) - floor(sourceFrac);
                vec4 clampFrac = clamp(frac, vec4(0.0), vec4(1.0));

                vec4 top = mix(topLeft, topRight, clampFrac.ywyw);
                vec4 bottom = mix(bottomLeft, bottomRight, clampFrac.ywyw);
                vec4 newValue = mix(top, bottom, clampFrac.xxzz);

                ${_.output} = vec4(newValue);
            }
        `;return Object.assign(Object.assign({},v),{output:{dims:w,type:o[0].type,textureType:l.TextureType.packed},hasMain:!0,shaderSource:F})},c=(n,o)=>{const m=n[0].dims;let _,x=o.scales;if(x.length===0){const S=n[o.scalesInputIdx];if(S&&S.size!==0){if(n[o.sizesInputIdx])throw new Error("Only one of scales or sizes must be provided as input.");x=r(S,o.mode,o.isResize)}else{const O=n[o.sizesInputIdx];if(!O||O.size===0)throw new Error("Either scales or sizes MUST be provided as input.");_=Array.from(O.integerData),x=e(_,m,o.mode,o.isResize)}}else if(n[o.sizesInputIdx])throw new Error("Only one of scales or sizes must be provided as input.");const w=_||m.map((S,O)=>Math.floor(S*x[O]));return[x,w]},r=(n,o,m)=>{const _=Array.from(n.floatData);return(0,g.scalesValidation)(_,o,m),_},e=(n,o,m,_)=>{const x=o.length,w=new Array(x);for(let S=0,O=x;S<O;S++)if(o[S]===0){if(n[S]!==0)throw new Error("Input dim is zero but required output dim is non-zero.");w[S]=1}else w[S]=n[S]/o[S];return(0,g.scalesValidation)(w,m,_),w}},565:(i,t,s)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.shape=void 0;const u=s(9240);t.shape=(d,y)=>(l(y),[new u.Tensor([y[0].dims.length],"int32",void 0,void 0,new Int32Array(y[0].dims))]);const l=d=>{if(!d||d.length!==1)throw new Error("Shape requires 1 input.")}},2444:(i,t,s)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.sliceV10=t.parseSliceAttributes=t.slice=void 0;const u=s(4910),l=s(6145),d=s(7273),y=s(5639),g={name:"Slice",inputNames:["A"],inputTypes:[y.TextureType.unpacked]};t.slice=(e,n,o)=>(f(n),[e.run(Object.assign(Object.assign({},g),{cacheHint:o.cacheKey,get:()=>v(e,n[0],o)}),n)]),t.parseSliceAttributes=e=>{const n=e.attributes.getInts("starts"),o=e.attributes.getInts("ends"),m=e.attributes.getInts("axes",[]);return(0,u.createAttributeWithCacheKey)({starts:n,ends:o,axes:m})};const v=(e,n,o)=>{const m=o.axes.length===0?n.dims.slice(0).map((I,P)=>P):o.axes,_=d.ShapeUtil.normalizeAxes(m,n.dims.length),x=o.starts.map((I,P)=>I>n.dims[_[P]]-1?n.dims[_[P]]:d.ShapeUtil.normalizeAxis(I,n.dims[_[P]])),w=o.ends.map((I,P)=>I>n.dims[_[P]]-1?n.dims[_[P]]:d.ShapeUtil.normalizeAxis(I,n.dims[_[P]])),S=n.dims.slice(),O=[];for(let I=0;I<_.length;I++)S[_[I]]=w[I]-x[I],x[I]>0&&O.push(`outputIdx[${_[I]}] += ${x[I]};`);const A=`
      float process(int outputIdx[${S.length}]) {
        ${O.join(`
      `)}
        return _A(outputIdx);
      }`;return Object.assign(Object.assign({},g),{output:{dims:S,type:n.type,textureType:y.TextureType.unpacked},shaderSource:A})},f=e=>{if(!e||e.length!==1)throw new Error("Slice requires 1 input.");if(l.NUMBER_TYPES.indexOf(e[0].type)===-1)throw new Error("Invalid input type.")};t.sliceV10=(e,n)=>{r(n);const o=c(e,n);return[e.run(Object.assign(Object.assign({},g),{cacheHint:o.cacheKey,get:()=>v(e,n[0],o)}),[n[0]])]};const c=(e,n)=>{if(!e.session.isInitializer(n[1].dataId)||!e.session.isInitializer(n[2].dataId)||n.length>=4&&!e.session.isInitializer(n[3].dataId)||n.length>=5&&!e.session.isInitializer(n[4].dataId))throw new Error("dynamic slice attributes are not allowed");if(n.length>=5&&n[4].integerData.some(x=>x!==1))throw new Error("currently non-1 steps is not supported for Slice");const o=Array.from(n[1].integerData),m=Array.from(n[2].integerData),_=n.length>=4?Array.from(n[3].integerData):[];return{starts:o,ends:m,axes:_,cacheKey:`${_};${o};${m}`}},r=e=>{if(!e||e.length<3||e.length>5)throw new Error("Invalid input number.");if(e[1].type!=="int32"||e[1].dims.length!==1)throw new Error("Invalid input type.");if(e[2].type!=="int32"||e[2].dims.length!==1)throw new Error("Invalid input type.");if(e.length>=4&&(e[3].type!=="int32"||e[3].dims.length!==1))throw new Error("Invalid input type.");if(e.length>=5&&(e[4].type!=="int32"||e[4].dims.length!==1))throw new Error("Invalid input type.")}},815:(i,t,s)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.softmaxV13=t.parseSoftmaxAttributesV13=t.parseSoftmaxAttributes=t.softmax=void 0;const u=s(4910),l=s(7273),d=s(6757),y=s(5639),g=s(5707),v={name:"SoftmaxComputeMax",inputNames:["A"],inputTypes:[y.TextureType.unpacked]},f={name:"SoftmaxComputeScale",inputNames:["A","Max"],inputTypes:[y.TextureType.unpacked,y.TextureType.unpacked]},c={name:"SoftMax",inputNames:["A","Max","Norm"],inputTypes:[y.TextureType.unpacked,y.TextureType.unpacked,y.TextureType.unpacked]};t.softmax=(_,x,w)=>{m(x);const S=x[0].dims.slice(),O=l.ShapeUtil.normalizeAxis(w.axis,S.length),A=l.ShapeUtil.sizeToDimension(S,O),I=l.ShapeUtil.sizeFromDimension(S,O);return r(_,x,w,A,I)},t.parseSoftmaxAttributes=_=>(0,u.createAttributeWithCacheKey)({axis:_.attributes.getInt("axis",1)}),t.parseSoftmaxAttributesV13=_=>(0,u.createAttributeWithCacheKey)({axis:_.attributes.getInt("axis",-1)}),t.softmaxV13=(_,x,w)=>{m(x);const S=x[0].dims.slice(),O=l.ShapeUtil.normalizeAxis(w.axis,S.length),A=S.length,I=O!==A-1,P=[];let L,U=[],G=[];I&&(U=Array.from({length:A}).map((re,R)=>R),U[O]=A-1,U[A-1]=O,U.map(re=>P.push(S[re])),L=(0,u.createAttributeWithCacheKey)({perm:U}),G=(0,g.transpose)(_,x,L));const te=I?l.ShapeUtil.sizeToDimension(P,A-1):l.ShapeUtil.sizeToDimension(S,A-1),Y=I?l.ShapeUtil.sizeFromDimension(P,A-1):l.ShapeUtil.sizeFromDimension(S,A-1),F=r(_,I?G:x,w,te,Y);return I?(0,g.transpose)(_,F,L):F};const r=(_,x,w,S,O)=>{const A=e(_,x[0],S,O,[S]),I=_.run(Object.assign(Object.assign({},v),{cacheHint:w.cacheKey,get:()=>A}),x),P=n(_,x[0],S,O,A.output.dims,[S]),L=_.run(Object.assign(Object.assign({},f),{cacheHint:w.cacheKey,get:()=>P}),[x[0],I]),U=o(_,x[0],S,O,A.output.dims,P.output.dims);return[_.run(Object.assign(Object.assign({},c),{cacheHint:w.cacheKey,get:()=>U}),[x[0],I,L])]},e=(_,x,w,S,O)=>{const[A,I]=_.calculateTextureWidthAndHeight(x.dims,y.TextureType.unpacked),P=O.length;if(w<1||S<1)throw new Error("Logical row count N and feature count D must be greater than or equal to 1");if(O.length!==1)throw new Error("Dimensionality of the output should be 1");if(O[0]!==w)throw new Error("Shape of the output should be equal to logical row count");const L=(0,d.getGlsl)(_.session.backend.glContext.version),U=`
      float process(int[${P}] indices) {
        int logical_row_start_offset = indices[0] * ${S};

        float max = getColorAsFloat(${L.texture2D}(A, offsetToCoords(logical_row_start_offset, ${A},
        ${I} )));
        for(int i=1; i<${S}; ++i)
        {
          float current = getColorAsFloat(${L.texture2D}(A, offsetToCoords(logical_row_start_offset + i,
            ${A}, ${I})));
          if(current > max)
          max = current;
        }

        return max;
      }`;return Object.assign(Object.assign({},v),{output:{dims:O,type:x.type,textureType:y.TextureType.unpacked},shaderSource:U})},n=(_,x,w,S,O,A)=>{const[I,P]=_.calculateTextureWidthAndHeight(x.dims,y.TextureType.unpacked),L=A.length;if(w<1||S<1)throw new Error("Logical row count N and feature count D must be greater than or equal to 1");if(A.length!==1)throw new Error("Dimensionality of the output should be 1");if(A[0]!==w)throw new Error("Shape of the output should be equal to logical row count");if(O.length!==1)throw new Error("Dimensionality of the intermediate results should be 1");if(O[0]!==w)throw new Error("Shape of the intermediate results should be equal to logical row count");const U=`
      float process(int[${L}] indices) {
        int logical_row_start_offset = indices[0] * ${S};

        float norm_factor = 0.0;
        float max = _Max(indices);
        for(int i=0; i<${S}; ++i)
        {
          norm_factor += exp(getColorAsFloat(${(0,d.getGlsl)(_.session.backend.glContext.version).texture2D}(A, offsetToCoords(logical_row_start_offset + i,
            ${I}, ${P}))) - max);
        }

        return norm_factor;
      }`;return Object.assign(Object.assign({},f),{output:{dims:A,type:x.type,textureType:y.TextureType.unpacked},shaderSource:U})},o=(_,x,w,S,O,A)=>{const[I,P]=_.calculateTextureWidthAndHeight(x.dims,y.TextureType.unpacked),L=x.dims.length;if(w<1||S<1)throw new Error("Logical row count N and feature count D must be greater than or equal to 1");if(O.length!==1||A.length!==1)throw new Error("Dimensionality of the intermediate results should be 1");if(O[0]!==w||A[0]!==w)throw new Error("Shape of the intermediate results should be equal to logical row count");const U=`
      float process(int[${L}] indices) {

      // get offset of current logical tensor index from the 2-D texture coordinates (TexCoords)
      int offset = coordsToOffset(TexCoords, ${I}, ${P});

      //determine the logical row for this index
      int logical_row_index[1];
      logical_row_index[0] = offset / ${S};

      float norm_factor = _Norm(logical_row_index);

      // avoid possible division by 0
      // if norm_facor is 0, all elements are zero
      // if so, return 0
      if(norm_factor == 0.0)
        return 0.0;

      return exp(_A(indices) - _Max(logical_row_index)) / norm_factor;
    }`;return Object.assign(Object.assign({},c),{output:{dims:x.dims,type:x.type,textureType:y.TextureType.unpacked},shaderSource:U})},m=_=>{if(!_||_.length!==1)throw new Error("Softmax requires 1 input.");if(_[0].type!=="float32"&&_[0].type!=="float64")throw new Error("Invalid input type")}},564:(i,t,s)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.parseSplitAttributes=t.split=void 0;const u=s(4910),l=s(7273),d=s(5639),y={name:"Split",inputNames:["A"],inputTypes:[d.TextureType.unpacked]};t.split=(c,r,e)=>{f(r);const n=l.ShapeUtil.normalizeAxis(e.axis,r[0].dims.length),o=g(c,r,n,e),m=[];for(let _=0;_<o;++_)m.push(c.run(Object.assign(Object.assign({},y),{cacheHint:`${e.cacheKey};${_}`,get:()=>v(c,r[0],e,n,_)}),r));return m},t.parseSplitAttributes=c=>{const r=c.attributes.getInt("axis",0),e=c.attributes.getInts("split",[]),n=c.outputs.length;return(0,u.createAttributeWithCacheKey)({axis:r,split:e,numOutputs:n})};const g=(c,r,e,n)=>{const[,o]=l.SplitUtil.splitShape(r[0].dims,e,n.split,n.numOutputs);return o.length},v=(c,r,e,n,o)=>{const[m,_]=l.SplitUtil.splitShape(r.dims,n,e.split,e.numOutputs),x=_[o],w=m[o],S=`
      float process(int indices[${w.length}]) {
        indices[${n}] += ${x};
        return _A(indices);
      }
    `;return Object.assign(Object.assign({},y),{cacheHint:`${e.cacheKey}:${o}`,output:{dims:w,type:r.type,textureType:d.TextureType.unpacked},shaderSource:S})},f=c=>{if(!c||c.length!==1)throw new Error("Split requires one input.");if(c[0].type!=="int8"&&c[0].type!=="uint8"&&c[0].type!=="int16"&&c[0].type!=="uint16"&&c[0].type!=="int32"&&c[0].type!=="uint32"&&c[0].type!=="float32"&&c[0].type!=="float64"&&c[0].type!=="bool")throw new Error("Invalid input type.")}},5416:(i,t,s)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.parseSqueezeAttributes=t.squeezeV13=t.squeeze=void 0;const u=s(7273);t.squeeze=(y,g,v)=>{l(g);const f=u.ShapeUtil.squeezeShape(g[0].dims,v);return[y.reshapeUnpacked(g[0],f)]},t.squeezeV13=(y,g)=>(d(g),(0,t.squeeze)(y,[g[0]],Array.from(g[1].integerData))),t.parseSqueezeAttributes=y=>y.attributes.getInts("axes");const l=y=>{if(!y||y.length!==1)throw new Error("Squeeze requires 1 input.");if(y[0].type==="string")throw new Error("invalid input tensor types.")},d=y=>{if(!y||y.length!==2)throw new Error("Squeeze requires 2 inputs.");if(y[1].type!=="int32")throw new Error("Invalid input type.")}},1240:(i,t,s)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.sum=void 0;const u=s(6757),l=s(5639);t.sum=(g,v)=>{y(v);const f={name:"Sum",inputNames:v.map((c,r)=>`X${r}`),inputTypes:new Array(v.length).fill(l.TextureType.unpacked)};return[g.run(Object.assign(Object.assign({},f),{get:()=>d(g,v,f)}),v)]};const d=(g,v,f)=>{const c=(0,u.getGlsl)(g.session.backend.glContext.version),r=v[0].dims.slice(),e=`
      void main() {
        vec4 result = ${v.map((n,o)=>`${c.texture2D}(X${o},TexCoords)`).join(" + ")};
        ${c.output} = result;
      }
    `;return Object.assign(Object.assign({},f),{output:{dims:r,type:v[0].type,textureType:l.TextureType.unpacked},hasMain:!0,shaderSource:e})},y=g=>{if(!g||g.length===0)throw new Error("Sum requires inputs.");const v=g[0].dims.length;for(let f=1;f<g.length;f++){if(v!==g[f].dims.length)throw new Error("Input shapes are mismatched.");for(let c=0;c<v;c++)if(g[0].dims[c]!==g[f].dims[c])throw new Error("Input shapes are not matched.")}if(g[0].type!=="float32"&&g[0].type!=="float64")throw new Error("Invalid input type.");for(let f=1;f<g.length;f++)if(g[0].type!==g[f].type)throw new Error("Input types are not matched.")}},5944:(i,t,s)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.tile=void 0;const u=s(6145),l=s(5639);t.tile=(g,v)=>{y(v);const f={name:"Tile",inputNames:["A"],inputTypes:[l.TextureType.unpacked]};return[g.run(Object.assign(Object.assign({},f),{get:()=>d(g,v,f)}),v)]};const d=(g,v,f)=>{const c=v[0].dims.slice(),r=new Array(c.length),e=[];for(let m=0;m<c.length;m++)r[m]=c[m]*v[1].numberData[m],e.push(`inputIdx[${m}] = int(mod(float(outputIdx[${m}]), ${c[m]}.));`);const n=r.length,o=`
      float process(int outputIdx[${n}]) {
        int inputIdx[${n}];
        ${e.join(`
`)}
        return _A(inputIdx);
      }
    `;return Object.assign(Object.assign({},f),{output:{dims:r,type:v[0].type,textureType:l.TextureType.unpacked},shaderSource:o})},y=g=>{if(!g||g.length!==2)throw new Error("Tile requires 2 input.");if(g[1].dims.length!==1)throw new Error("The second input shape must 1 dimension.");if(g[1].dims[0]!==g[0].dims.length)throw new Error("Invalid input shape.");if(u.NUMBER_TYPES.indexOf(g[0].type)===-1)throw new Error("Invalid input type.");if(g[1].type!=="int32"&&g[1].type!=="int16")throw new Error("Invalid repeat type.")}},5707:(i,t,s)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.parseTransposeAttributes=t.transpose=void 0;const u=s(4910),l=s(7273),d=s(5639),y={name:"Transpose",inputNames:["A"],inputTypes:[d.TextureType.unpacked]};t.transpose=(e,n,o)=>(r(n),[e.run(Object.assign(Object.assign({},y),{cacheHint:o.cacheKey,get:()=>g(e,n[0],o.perm)}),n)]),t.parseTransposeAttributes=e=>(0,u.createAttributeWithCacheKey)({perm:e.attributes.getInts("perm",[])});const g=(e,n,o)=>{const m=n.dims;o=v(m,o);const _=f(m,o),x=m.length,w=`
      ${c("perm",o,x)}
      float process(int indices[${x}]) {
        int a[${x}];
        perm(a, indices);
        return _A(a);
      }`;return Object.assign(Object.assign({},y),{output:{dims:_,type:n.type,textureType:d.TextureType.unpacked},shaderSource:w})},v=(e,n)=>(n&&n.length!==e.length&&(n=[...e.keys()].reverse()),n),f=(e,n)=>(n=v(e,n),l.ShapeUtil.sortBasedOnPerm(e,n)),c=(e,n,o)=>{const m=[];m.push(`void ${e}(out int a[${o}], int src[${o}]) {`);for(let _=0;_<o;++_)m.push(`	a[${n[_]}]=src[${_}];`);return m.push("	}"),m.join(`
`)},r=e=>{if(!e||e.length!==1)throw new Error("Transpose requires 1 input.");if(e[0].type!=="float32"&&e[0].type!=="float64")throw new Error("input should be float tensor")}},2488:(i,t,s)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.encodeAsUint8=void 0;const u=s(6757),l=s(5639);t.encodeAsUint8=(d,y)=>{const g=y.shape,v=(0,u.getGlsl)(d.session.backend.glContext.version),f=`
    const float FLOAT_MAX = 1.70141184e38;
    const float FLOAT_MIN = 1.17549435e-38;

    bool isNaN(float val) {
      return (val < 1.0 || 0.0 < val || val == 0.0) ? false : true;
    }

    highp vec4 encodeAsUint8(highp float v) {
      if (isNaN(v)) {
        return vec4(255, 255, 255, 255);
      }

      highp float av = abs(v);

      if(av < FLOAT_MIN) {
        return vec4(0.0, 0.0, 0.0, 0.0);
      } else if(v > FLOAT_MAX) {
        return vec4(0.0, 0.0, 128.0, 127.0) / 255.0;
      } else if(v < -FLOAT_MAX) {
        return vec4(0.0, 0.0,  128.0, 255.0) / 255.0;
      }

      highp vec4 c = vec4(0,0,0,0);

      highp float e = floor(log2(av));
      highp float m = exp2(fract(log2(av))) - 1.0;

      c[2] = floor(128.0 * m);
      m -= c[2] / 128.0;
      c[1] = floor(32768.0 * m);
      m -= c[1] / 32768.0;
      c[0] = floor(8388608.0 * m);

      highp float ebias = e + 127.0;
      c[3] = floor(ebias / 2.0);
      ebias -= c[3] * 2.0;
      c[2] += floor(ebias) * 128.0;

      c[3] += 128.0 * step(0.0, -v);

      return c / 255.0;
    }

    void main() {
      float value = ${v.texture2D}(X,TexCoords).r;
      ${v.output} = encodeAsUint8(value);
    }`,c={name:"Uint8Encode",inputTypes:[l.TextureType.unpacked],inputNames:["X"],output:{dims:g,type:y.tensor.type,textureType:l.TextureType.downloadUint8AsFloat},shaderSource:f,hasMain:!0};return d.executeProgram(c,[y.tensor])}},9087:(i,t,s)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.tanh=t.tan=t.sqrt=t.sin=t.sigmoid=t.relu=t.not=t.neg=t.log=t.parseLeakyReluAttributes=t.leakyRelu=t.identity=t.floor=t.exp=t.parseEluAttributes=t.elu=t.cos=t.ceil=t.clipV11=t.parseClipAttributes=t.clip=t.atan=t.asin=t.acos=t.abs=t.glslTanh=t.glslTan=t.glslSqrt=t.glslSigmoid=t.glslRelu=t.glslSin=t.glslNot=t.glslNeg=t.glslLog=t.glslLeakyRelu=t.glslIdentity=t.glslClip=t.glslFloor=t.glslExp=t.glslElu=t.glslCos=t.glslCeil=t.glslAtan=t.glslAsin=t.glslAcos=t.glslAbs=void 0;const u=s(4910),l=s(7273),d=s(1997),y=s(6757),g=s(5639);function v(){return F("abs")}function f(){return F("acos")}function c(){return F("asin")}function r(){return F("atan")}function e(){return F("ceil")}function n(){return F("cos")}function o(M){const H="elu";return{body:`
  const float alpha = float(${M});

  float ${H}_(float a) {
    return a >= 0.0 ? a: (exp(a) - 1.0) * alpha;
  }
  vec4 ${H}_(vec4 v) {
    return vec4(${H}_(v.x), ${H}_(v.y), ${H}_(v.z), ${H}_(v.w));
  }
  `,name:H,type:d.FunctionType.ValueBased}}function m(){return F("exp")}function _(){return F("floor")}function x(M,H){const le="clip";return{body:`
  const float min = float(${M});
  const float max = float(${H});

  float ${le}_(float a) {
    return clamp(a, min, max);
  }
  vec4 ${le}_(vec4 v) {
    return clamp(v, min, max);
  }
  `,name:le,type:d.FunctionType.ValueBased}}function w(){const M="indentity";return{body:`
  float ${M}_(float a) {
    return a;
  }
  vec4 ${M}_(vec4 v) {
    return v;
  }
  `,name:M,type:d.FunctionType.ValueBased}}function S(M){const H="leakyRelu";return{body:`
  const float alpha = float(${M});

  float ${H}_(float a) {
    return a < 0.0 ? a * alpha : a;
  }
  vec4 ${H}_(vec4 v) {
    return vec4(${H}_(v.x), ${H}_(v.y), ${H}_(v.z), ${H}_(v.w));
  }
  `,name:H,type:d.FunctionType.ValueBased}}function O(){return F("log")}function A(){const M="neg";return{body:`
  float ${M}_(float a) {
    return -a;
  }
  vec4 ${M}_(vec4 v) {
    return -v;
  }
  `,name:M,type:d.FunctionType.ValueBased}}function I(){const M="not";return{body:`
  float ${M}_(float a) {
    return float( ! bool(a) );
  }
  bool ${M}_(bool a) {
    return !a;
  }
  vec4 ${M}_(vec4 v) {
    return vec4(!bool(v.x), !bool(v.y), !bool(v.z), !bool(v.w));
  }
  bvec4 ${M}_(bvec4 v) {
    return bvec4(!v.x, !v.y, !v.z, !v.w);
  }
  `,name:M,type:d.FunctionType.ValueBased}}function P(){return F("sin")}function L(){const M="relu";return{body:`
  float ${M}_(float a) {
    return max( a, 0.0 );
  }
  vec4 ${M}_(vec4 v) {
    return max( v, 0.0 );
  }
  `,name:M,type:d.FunctionType.ValueBased}}function U(){const M="sigmoid";return{body:`
  float ${M}_(float a) {
    return 1.0 / (1.0 + exp(-a));
  }
  vec4 ${M}_(vec4 v) {
    return 1.0 / (1.0 + exp(-v));
  }
  `,name:M,type:d.FunctionType.ValueBased}}function G(){return F("sqrt")}function te(){return F("tan")}function Y(){const M="tanh";return{body:`
  float ${M}_(float a) {
    a = clamp(a, -10., 10.);
    a = exp(2.*a);
    return (a - 1.) / (a + 1.);
  }
  vec4 ${M}_(vec4 v) {
    v = clamp(v, -10., 10.);
    v = exp(2.*v);
    return (v - 1.) / (v + 1.);
  }
  `,name:M,type:d.FunctionType.ValueBased}}function F(M){return{body:`
  float ${M}_(float a) {
    return ${M}(a);
  }
  vec4 ${M}_(vec4 v) {
    return ${M}(v);
  }
  `,name:M,type:d.FunctionType.ValueBased}}t.glslAbs=v,t.glslAcos=f,t.glslAsin=c,t.glslAtan=r,t.glslCeil=e,t.glslCos=n,t.glslElu=o,t.glslExp=m,t.glslFloor=_,t.glslClip=x,t.glslIdentity=w,t.glslLeakyRelu=S,t.glslLog=O,t.glslNeg=A,t.glslNot=I,t.glslSin=P,t.glslRelu=L,t.glslSigmoid=U,t.glslSqrt=G,t.glslTan=te,t.glslTanh=Y;const re=(M,H,le,he)=>{const Ce=M.session.pack?g.TextureType.packed:g.TextureType.unpacked,we={name:le.name,inputTypes:[Ce],inputNames:["A"],cacheHint:he};return Object.assign(Object.assign({},we),{get:()=>((Pe,Le,Be,Me)=>{const je=Pe.session.pack?g.TextureType.packed:g.TextureType.unpacked,Je=(0,y.getGlsl)(Pe.session.backend.glContext.version);return Object.assign(Object.assign({},Le),{output:{dims:Be.dims,type:Be.type,textureType:je},shaderSource:`
     ${Me.body}
     void main() {
       vec4 v = ${Je.texture2D}(A, TexCoords);
       v = ${Me.name}_(v);
       ${Je.output} = v;
     }
     `,hasMain:!0})})(M,we,H,le)})};t.abs=(M,H)=>[M.run(re(M,H[0],v()),H)],t.acos=(M,H)=>[M.run(re(M,H[0],f()),H)],t.asin=(M,H)=>[M.run(re(M,H[0],c()),H)],t.atan=(M,H)=>[M.run(re(M,H[0],r()),H)],t.clip=(M,H,le)=>[M.run(re(M,H[0],x(le.min,le.max),le.cacheKey),H)],t.parseClipAttributes=M=>(0,u.createAttributeWithCacheKey)({min:M.attributes.getFloat("min",l.MIN_CLIP),max:M.attributes.getFloat("max",l.MAX_CLIP)}),t.clipV11=(M,H)=>{const le=R(M,H);return(0,t.clip)(M,[H[0]],le)};const R=(M,H)=>{if(H.length>=3&&(!M.session.isInitializer(H[1].dataId)||!M.session.isInitializer(H[2].dataId)))throw new Error("dynamic clip attributes are not allowed");const le=H.length>=3?H[1].numberData[0]:l.MIN_CLIP,he=H.length>=3?H[2].numberData[0]:l.MAX_CLIP;return(0,u.createAttributeWithCacheKey)({min:le,max:he})};t.ceil=(M,H)=>[M.run(re(M,H[0],e()),H)],t.cos=(M,H)=>[M.run(re(M,H[0],n()),H)],t.elu=(M,H,le)=>[M.run(re(M,H[0],o(le.alpha),le.cacheKey),H)],t.parseEluAttributes=M=>(0,u.createAttributeWithCacheKey)({alpha:M.attributes.getFloat("alpha",1)}),t.exp=(M,H)=>[M.run(re(M,H[0],m()),H)],t.floor=(M,H)=>[M.run(re(M,H[0],_()),H)],t.identity=(M,H)=>[M.run(re(M,H[0],w()),H)],t.leakyRelu=(M,H,le)=>[M.run(re(M,H[0],S(le.alpha),le.cacheKey),H)],t.parseLeakyReluAttributes=M=>(0,u.createAttributeWithCacheKey)({alpha:M.attributes.getFloat("alpha",.01)}),t.log=(M,H)=>[M.run(re(M,H[0],O()),H)],t.neg=(M,H)=>[M.run(re(M,H[0],A()),H)],t.not=(M,H)=>[M.run(re(M,H[0],I()),H)],t.relu=(M,H)=>[M.run(re(M,H[0],L()),H)],t.sigmoid=(M,H)=>[M.run(re(M,H[0],U()),H)],t.sin=(M,H)=>[M.run(re(M,H[0],P()),H)],t.sqrt=(M,H)=>[M.run(re(M,H[0],G()),H)],t.tan=(M,H)=>[M.run(re(M,H[0],te()),H)],t.tanh=(M,H)=>[M.run(re(M,H[0],Y()),H)]},540:(i,t,s)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.createUnpackProgramInfoLoader=t.createUnpackProgramInfo=void 0;const u=s(6757),l=s(5639),d=s(432),y=s(5614),g={name:"unpack",inputNames:["A"],inputTypes:[l.TextureType.packed]};t.createUnpackProgramInfo=(v,f)=>{const c=f.dims.length,r=(0,y.getChannels)("rc",c),e=r.slice(-2),n=(0,d.getCoordsDataType)(c),o=(0,y.unpackFromChannel)(),m=f.dims.length===0?"":function(w,S){if(w===1)return"rc";let O="";for(let A=0;A<w;A++)O+=S[A],A<w-1&&(O+=",");return O}(c,r),_=c<=1?"rc":`vec2(${e.join(",")})`,x=`
    ${o}
    void main() {
      ${n} rc = getOutputCoords();

       // Sample the texture with the coords to get the rgba channel value.
       vec4 packedInput = getA(${m});

       ${(0,u.getGlsl)(v.session.backend.glContext.version).output} = vec4(getChannel(packedInput, ${_}), 0, 0, 0);
     }
   `;return Object.assign(Object.assign({},g),{hasMain:!0,output:{dims:f.dims,type:f.type,textureType:l.TextureType.unpacked},shaderSource:x})},t.createUnpackProgramInfoLoader=(v,f)=>Object.assign(Object.assign({},g),{get:()=>(0,t.createUnpackProgramInfo)(v,f)})},7862:(i,t,s)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.parseUnsqueezeAttributes=t.unsqueezeV13=t.unsqueeze=void 0;const u=s(7273);t.unsqueeze=(y,g,v)=>{l(g);const f=u.ShapeUtil.unsqueezeShape(g[0].dims,v);return[y.reshapeUnpacked(g[0],f)]},t.unsqueezeV13=(y,g)=>(d(g),(0,t.unsqueeze)(y,[g[0]],Array.from(g[1].integerData))),t.parseUnsqueezeAttributes=y=>y.attributes.getInts("axes");const l=y=>{if(!y||y.length!==1)throw new Error("Unsqueeze requires 1 input.");if(y[0].type==="string")throw new Error("invalid input tensor types.")},d=y=>{if(!y||y.length!==2)throw new Error("Unsqueeze requires 2 inputs.");if(y[1].type!=="int32")throw new Error("Invalid input type.")}},3980:(i,t,s)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.scalesValidation=t.validateInputs=t.parseUpsampleAttributes=t.parseUpsampleAttributesV9=t.parseUpsampleAttributesV7=t.upsample=void 0;const u=s(4910),l=s(6757),d=s(5639),y={name:"Upsample",inputNames:["X"],inputTypes:[d.TextureType.unpacked]};t.upsample=(v,f,c)=>((0,t.validateInputs)(f,c),[v.run(Object.assign(Object.assign({},y),{cacheHint:c.cacheKey,get:()=>g(v,f,c)}),f)]),t.parseUpsampleAttributesV7=v=>(0,t.parseUpsampleAttributes)(v,7),t.parseUpsampleAttributesV9=v=>(0,t.parseUpsampleAttributes)(v,9),t.parseUpsampleAttributes=(v,f)=>{const c=f>=10,r=v.attributes.getString("mode","nearest");if(r!=="nearest"&&r!=="linear"&&(f<11||r!=="cubic"))throw new Error(`unrecognized mode: ${r}`);let e=[];f<9&&(e=v.attributes.getFloats("scales"),(0,t.scalesValidation)(e,r,c));const n=v.attributes.getFloat("extrapolation_value",0),o=f>10?v.attributes.getString("coordinate_transformation_mode","half_pixel"):"asymmetric";if(["asymmetric","pytorch_half_pixel","tf_half_pixel_for_nn","align_corners","tf_crop_and_resize","half_pixel"].indexOf(o)===-1)throw new Error(`coordinate_transform_mode '${o}' is not supported`);const m=o==="tf_crop_and_resize",_=m,x=r==="nearest"&&f>=11?v.attributes.getString("nearest_mode","round_prefer_floor"):"";if(["round_prefer_floor","round_prefer_ceil","floor","ceil",""].indexOf(x)===-1)throw new Error(`nearest_mode '${x}' is not supported`);const w=v.attributes.getFloat("cubic_coeff_a",-.75),S=v.attributes.getInt("exclude_outside",0)!==0;if(S&&r!=="cubic")throw new Error("exclude_outside can be set to 1 only when mode is CUBIC.");const O=f<11||r==="nearest"&&o==="asymmetric"&&x==="floor";let A=0,I=0,P=0;return f>10?v.inputs.length>2?(A=1,I=2,P=3):(I=1,P=2):f===9&&(I=1),(0,u.createAttributeWithCacheKey)({opset:f,isResize:c,mode:r,scales:e,extrapolationValue:n,coordinateTransformMode:o,useExtrapolation:_,needRoiInput:m,nearestMode:x,cubicCoefficientA:w,excludeOutside:S,useNearest2xOptimization:O,roiInputIdx:A,scalesInputIdx:I,sizesInputIdx:P})};const g=(v,f,c)=>{const r=(0,l.getGlsl)(v.session.backend.glContext.version),[e,n]=v.calculateTextureWidthAndHeight(f[0].dims,d.TextureType.unpacked),o=f[0].dims.map((P,L)=>Math.floor(P*c.scales[L])),[m,_]=v.calculateTextureWidthAndHeight(o,d.TextureType.unpacked),x=o.length,w=new Array(x),S=new Array(x);let O=`
      int output_pitches[${x}];
      int input_pitches[${x}];
      `;for(let P=x-1;P>=0;P--)w[P]=P===x-1?1:w[P+1]*o[P+1],S[P]=P===x-1?1:S[P+1]*f[0].dims[P+1],O+=`
        output_pitches[${P}] = ${w[P]};
        input_pitches[${P}] = ${S[P]};
        `;const A=`
      float getInputFloat(int index) {
        vec2 coords = offsetToCoords(index, ${e}, ${n});
        float value = getColorAsFloat(${r.texture2D}(X, coords));
        return value;
      }
      `,I=c.mode==="nearest"?`
    ${A}
    float process(int indices[${x}]) {
      int input_index = 0;
      int output_index = coordsToOffset(TexCoords, ${m}, ${_});

      ${O}

      int d, m;
      for (int dim = 0; dim < ${x}; ++dim) {
        d = output_index / output_pitches[dim];
        m = output_index - d * output_pitches[dim];
        output_index = m;

        if (scales[dim] != 1 && d > 0) {
          int d2 = d / scales[dim];
          m = d - d2 * scales[dim];
          d = d2;
        }
        input_index += input_pitches[dim] * d;
      }

      return getInputFloat(input_index);
    }`:x===4?`
    ${A}
    float process(int indices[4]) {
      int input_index = 0;
      int output_index = coordsToOffset(TexCoords, ${m}, ${_});

      ${O}

      int m;
      int index_of_dim0, index_of_dim1, index_of_dim2, index_of_dim3;
      index_of_dim0 = output_index / output_pitches[0];
      m = output_index - index_of_dim0 * output_pitches[0];
      index_of_dim1 = m / output_pitches[1];
      m = m - index_of_dim1 * output_pitches[1];
      index_of_dim2 = m / output_pitches[2];
      m = m - index_of_dim2 * output_pitches[2];
      index_of_dim3 = m;

      int index_of_input_dim2, index_of_input_dim3, x_offset, y_offset;
      index_of_input_dim2 = index_of_dim2 / scales[2];
      y_offset = index_of_dim2 - index_of_input_dim2 * scales[2];
      index_of_input_dim3 = index_of_dim3 / scales[3];
      x_offset = index_of_dim3 - index_of_input_dim3 * scales[3];

      input_index = index_of_dim0 * input_pitches[0] +
            index_of_dim1 * input_pitches[1] +
            index_of_input_dim2 * input_pitches[2] +
            index_of_input_dim3;

      float x00 = getInputFloat(input_index);
      float x10, x01, x11;

      bool end_of_dim2 = false;
      if (index_of_input_dim2 == (${f[0].dims[2]} - 1)) {
        // It's the end in dimension 2
        x01 = x00;
        end_of_dim2 = true;
      } else {
        x01 = getInputFloat(input_index + input_pitches[2]);
      }

      if (index_of_input_dim3 == (input_pitches[2] - 1)) {
        // It's the end in dimension 3
        x10 = x00;
        x11 = x01;
      }
      else {
        x10 = getInputFloat(input_index + 1);
        x11 = end_of_dim2 ? x10 : getInputFloat(input_index + input_pitches[2] + 1);
      }

      float y0 = x00 + float(y_offset) * (x01 - x00) / float(scales[2]);
      float y1 = x10 + float(y_offset) * (x11 - x10) / float(scales[2]);
      return y0 + float(x_offset) * (y1 - y0) / float(scales[3]);
    }`:`
    ${A}
    float process(int indices[2]) {
      int input_index = 0;
      int output_index = coordsToOffset(TexCoords, ${m}, ${_});

      ${O}

      int m;
      int index_of_dim0, index_of_dim1;
      index_of_dim0 = output_index / output_pitches[0];
      m = output_index - index_of_dim0 * output_pitches[0];
      index_of_dim1 = m;

      int index_of_input_dim0, index_of_input_dim1, x_offset, y_offset;
      index_of_input_dim0 = index_of_dim0 / scales[0];
      y_offset = index_of_dim0 - index_of_input_dim0 * scales[0];
      index_of_input_dim1 = index_of_dim1 / scales[1];
      x_offset = index_of_dim1 - index_of_input_dim1 * scales[1];

      input_index = index_of_input_dim0 * input_pitches[0] + index_of_input_dim1;

      float x00 = getInputFloat(input_index);
      float x10, x01, x11;

      bool end_of_dim0 = false;
      if (index_of_input_dim0 == (${f[0].dims[0]} - 1)) {
        // It's the end in dimension 0
        x01 = x00;
        end_of_dim0 = true;
      } else {
        x01 = getInputFloat(input_index + input_pitches[0]);
      }

      if (index_of_input_dim1 == (input_pitches[0] - 1)) {
        // It's the end in dimension 1
        x10 = x00;
        x11 = x01;
      }
      else {
        x10 = getInputFloat(input_index + 1);
        x11 = end_of_dim0 ? x10 : getInputFloat(input_index + input_pitches[0] + 1);
      }

      float y0 = x00 + float(y_offset) * (x01 - x00) / float(scales[0]);
      float y1 = x10 + float(y_offset) * (x11 - x10) / float(scales[0]);
      return y0 + float(x_offset) * (y1 - y0) / float(scales[1]);
    }`;return Object.assign(Object.assign({},y),{output:{dims:o,type:f[0].type,textureType:d.TextureType.unpacked},shaderSource:I,variables:[{name:"scales",type:"int",arrayLength:c.scales.length,data:c.scales.map(P=>Math.ceil(P))}]})};t.validateInputs=(v,f)=>{if(!v||f.opset<9&&v.length!==1||f.opset>=9&&f.opset<11&&v.length!==2||f.opset>=11&&v.length<2)throw new Error("invalid inputs.");if(f.scales.length>0&&v[0].dims.length!==f.scales.length)throw new Error("Invalid input shape.");if(v[0].type==="string")throw new Error("Invalid input tensor types.")},t.scalesValidation=(v,f,c)=>{if(c){for(const r of v)if(r<=0)throw new Error("Scale value should be greater than 0.")}else for(const r of v)if(r<1)throw new Error("Scale value should be greater than or equal to 1.");if(!(f!=="linear"&&f!=="cubic"||v.length===2||v.length===4&&v[0]===1&&v[1]===1))throw new Error(`'Linear' mode and 'Cubic' mode only support 2-D inputs ('Bilinear', 'Bicubic')         or 4-D inputs with the corresponding outermost 2 scale values being 1         in the ${c?"Resize":"Upsample"} opeartor.`)}},2757:(i,t,s)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.ProgramManager=void 0;const u=s(2235),l=s(1315),d=s(8897),y=s(6757);t.ProgramManager=class{constructor(g,v,f){this.profiler=g,this.glContext=v,this.textureLayoutStrategy=f,this.repo=new Map,this.attributesBound=!1}getArtifact(g){return this.repo.get(g)}setArtifact(g,v){this.repo.set(g,v)}run(g,v,f){var c;this.profiler.event("op",`ProgramManager.run ${(c=g.programInfo.name)!==null&&c!==void 0?c:"unknown kernel"}`,()=>{var r;const e=this.glContext.gl,n=g.program;e.useProgram(n);try{this.bindOutput(f),this.attributesBound||this.bindAttributes(g.attribLocations),this.bindUniforms(g.uniformLocations,(r=g.programInfo.variables)!==null&&r!==void 0?r:[],v)}catch(o){throw l.Logger.error("ProgramManager",g.programInfo.shaderSource),o}this.profiler.event("backend","GlContext.draw()",()=>{this.glContext.draw()})},this.glContext)}dispose(){this.vertexShader&&this.glContext.deleteShader(this.vertexShader),this.repo.forEach(g=>this.glContext.deleteProgram(g.program))}build(g,v,f){return this.profiler.event("backend","ProgramManager.build",()=>{const c=new d.GlslPreprocessor(this.glContext,g,v,f),r=c.preprocess(),e=this.compile(r);return{programInfo:g,program:e,uniformLocations:this.getUniformLocations(e,c.context.programInfo.inputNames,c.context.programInfo.variables),attribLocations:this.getAttribLocations(e)}})}compile(g){if(!this.vertexShader){l.Logger.verbose("ProrgramManager","Compiling and caching Vertex shader for the first time");const c=(0,y.getVertexShaderSource)(this.glContext.version);this.vertexShader=this.glContext.compileShader(c,this.glContext.gl.VERTEX_SHADER)}u.env.debug&&l.Logger.verbose("ProrgramManager",`FragShader:
${g}
`);const v=this.glContext.compileShader(g,this.glContext.gl.FRAGMENT_SHADER),f=this.glContext.createProgram(this.vertexShader,v);return this.glContext.deleteShader(v),f}bindOutput(g){const v=g.width,f=g.height;l.Logger.verbose("ProrgramManager",`Binding output texture to Framebuffer: w/h=${v}/${f}, shape=${g.shape}, type=${g.tensor.type}`),this.glContext.attachFramebuffer(g.texture,v,f)}bindAttributes(g){const v=g.position,f=g.textureCoord;this.glContext.setVertexAttributes(v,f),this.attributesBound=!0}bindUniforms(g,v,f){var c;const r=this.glContext.gl;let e=0;for(const{name:n,type:o,location:m,arrayLength:_}of g){const x=(c=v.find(w=>w.name===n))===null||c===void 0?void 0:c.data;if(o!=="sampler2D"&&!x)throw new Error(`variable '${n}' does not have data defined in program info`);switch(o){case"sampler2D":this.bindTexture(f[e],m,e),e++;break;case"float":_?r.uniform1fv(m,x):r.uniform1f(m,x);break;case"int":_?r.uniform1iv(m,x):r.uniform1i(m,x);break;default:throw new Error(`Uniform not implemented: ${o}`)}}}bindTexture(g,v,f){this.glContext.bindTextureToUniform(g.texture,f,v)}getAttribLocations(g){return{position:this.getAttribLocation(g,"position"),textureCoord:this.getAttribLocation(g,"textureCoord")}}getUniformLocations(g,v,f){const c=[];if(v)for(const r of v)c.push({name:r,type:"sampler2D",location:this.getUniformLocation(g,r)});if(f)for(const r of f)c.push(Object.assign(Object.assign({},r),{location:this.getUniformLocation(g,r.name)}));return c}getUniformLocation(g,v){const f=this.glContext.gl.getUniformLocation(g,v);if(f===null)throw new Error(`Uniform ${v} not found.`);return f}getAttribLocation(g,v){return this.glContext.gl.getAttribLocation(g,v)}}},2171:(i,t,s)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.WebGLSessionHandler=void 0;const u=s(1315),l=s(5881),d=s(7860),y=s(4110),g=s(2757),v=s(7618),f=s(5243);t.WebGLSessionHandler=class{constructor(c,r){this.backend=c,this.context=r,this.layoutStrategy=new v.PreferLogicalStrategy(c.glContext.maxTextureSize),this.programManager=new g.ProgramManager(this.context.profiler,c.glContext,this.layoutStrategy),this.textureManager=new f.TextureManager(c.glContext,this.layoutStrategy,this.context.profiler,{reuseTextures:c.textureCacheMode==="full"}),this.packedTextureDataCache=new Map,this.unpackedTextureDataCache=new Map,this.pack=c.pack,this.pack2unpackMap=new Map,this.unpack2packMap=new Map}createInferenceHandler(){return new d.WebGLInferenceHandler(this)}onGraphInitialized(c){const r=c.getValues().filter(e=>e.from===-1&&e.tensor).map(e=>e.tensor.dataId);this.initializers=new Set(r)}isInitializer(c){return!!this.initializers&&this.initializers.has(c)}addInitializer(c){this.initializers.add(c)}getTextureData(c,r){return r?this.packedTextureDataCache.get(c):this.unpackedTextureDataCache.get(c)}setTextureData(c,r,e=!1){u.Logger.verbose("WebGLSessionHandler","Storing Texture data in cache"),e?this.packedTextureDataCache.set(c,r):this.unpackedTextureDataCache.set(c,r)}dispose(){this.programManager.dispose(),this.textureManager.clearActiveTextures(),this.packedTextureDataCache.forEach(c=>this.textureManager.releaseTexture(c,!0)),this.packedTextureDataCache=new Map,this.unpackedTextureDataCache.forEach(c=>this.textureManager.releaseTexture(c,!0)),this.unpackedTextureDataCache=new Map}resolve(c,r,e){const n=(0,l.resolveOperator)(c,r,y.WEBGL_OP_RESOLVE_RULES);return{impl:n.opImpl,context:n.opInit?n.opInit(c,e):c}}}},9622:(i,t,s)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.Uint8DataEncoder=t.RGBAFloatDataEncoder=t.RedFloat32DataEncoder=void 0;const u=s(1315);t.RedFloat32DataEncoder=class{constructor(l,d=1){if(d===1)this.internalFormat=l.R32F,this.format=l.RED,this.textureType=l.FLOAT,this.channelSize=d;else{if(d!==4)throw new Error(`Invalid number of channels: ${d}`);this.internalFormat=l.RGBA32F,this.format=l.RGBA,this.textureType=l.FLOAT,this.channelSize=d}}encode(l,d){let y,g;return l.constructor!==Float32Array&&(u.Logger.warning("Encoder","data was not of type Float32; creating new Float32Array"),g=new Float32Array(l)),d*this.channelSize>l.length?(u.Logger.warning("Encoder","Source data too small. Allocating larger array"),g=l,y=this.allocate(d*this.channelSize),g.forEach((v,f)=>y[f]=v)):(g=l,y=g),y}allocate(l){return new Float32Array(4*l)}decode(l,d){return this.channelSize===1?l.filter((y,g)=>g%4==0).subarray(0,d):l.subarray(0,d)}},t.RGBAFloatDataEncoder=class{constructor(l,d=1,y){if(d!==1&&d!==4)throw new Error(`Invalid number of channels: ${d}`);this.internalFormat=l.RGBA,this.format=l.RGBA,this.channelSize=d,this.textureType=y||l.FLOAT}encode(l,d){let y=l;return this.channelSize===1&&(u.Logger.verbose("Encoder","Exploding into a larger array"),y=this.allocate(d),l.forEach((g,v)=>y[4*v]=g)),y}allocate(l){return new Float32Array(4*l)}decode(l,d){return this.channelSize===1?l.filter((y,g)=>g%4==0).subarray(0,d):l.subarray(0,d)}},t.Uint8DataEncoder=class{constructor(l,d=1){if(this.channelSize=4,d===1)this.internalFormat=l.ALPHA,this.format=l.ALPHA,this.textureType=l.UNSIGNED_BYTE,this.channelSize=d;else{if(d!==4)throw new Error(`Invalid number of channels: ${d}`);this.internalFormat=l.RGBA,this.format=l.RGBA,this.textureType=l.UNSIGNED_BYTE,this.channelSize=d}}encode(l,d){return new Uint8Array(l.buffer,l.byteOffset,l.byteLength)}allocate(l){return new Uint8Array(l*this.channelSize)}decode(l,d){if(l instanceof Uint8Array)return l.subarray(0,d);throw new Error(`Invalid array type: ${l.constructor}`)}}},7618:(i,t,s)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.getBatchDim=t.sizeToSquarishShape=t.getRowsCols=t.sizeFromShape=t.isInt=t.parseAxisParam=t.squeezeShape=t.PreferLogicalStrategy=t.AlwaysKeepOriginalSizeStrategy=void 0;const u=s(1315),l=s(7273);function d(c,r){const e=[],n=[],o=r!=null&&Array.isArray(r)&&r.length===0,m=r==null||o?null:y(r,c).sort();let _=0;for(let x=0;x<c.length;++x){if(m!=null){if(m[_]===x&&c[x]!==1)throw new Error(`Can't squeeze axis ${x} since its dim '${c[x]}' is not 1`);(m[_]==null||m[_]>x)&&c[x]===1&&(e.push(c[x]),n.push(x)),m[_]<=x&&_++}c[x]!==1&&(e.push(c[x]),n.push(x))}return{newShape:e,keptDims:n}}function y(c,r){const e=r.length;return c=c==null?r.map((n,o)=>o):[].concat(c),(0,l.assert)(c.every(n=>n>=-e&&n<e),()=>`All values in axis param must be in range [-${e}, ${e}) but got axis ${c}`),(0,l.assert)(c.every(g),()=>`All values in axis param must be integers but got axis ${c}`),c.map(n=>n<0?e+n:n)}function g(c){return c%1==0}function v(c){if(c.length===0)return 1;let r=c[0];for(let e=1;e<c.length;e++)r*=c[e];return r}function f(c){const r=Math.ceil(Math.sqrt(c));return[r,Math.ceil(c/r)]}t.AlwaysKeepOriginalSizeStrategy=class{constructor(c){this.maxTextureSize=c}computeTextureWH(c,r){if(c.length===0)return[1,1];const e=this.maxTextureSize;if(r&&r.breakAxis!==void 0){const m=r.breakAxis>=c.length?1:c.slice(r.breakAxis).reduce((x,w)=>x*w),_=r.breakAxis<=0?1:c.slice(0,r.breakAxis).reduce((x,w)=>x*w);if(!(m>e||_>e))return[m,_];u.Logger.verbose("TextureLayout",`Given width/height preferences were unattainable: shape:${c}, breakAxis:${r.breakAxis}`)}const n=c.reduce((m,_)=>m*_);let o=Math.floor(Math.sqrt(n));for(;o<e&&o<n&&n%o!=0;o++);if(o>=e||n%o!=0)throw new Error(`The given dimensions are outside this GPU's boundaries: ${c}`);return[o,n/o]}},t.PreferLogicalStrategy=class{constructor(c){this.maxTextureSize=c}computeTextureWH(c,r){const e=this.computeTexture(c,r);return r&&r.isPacked&&(e[0]/=2,e[1]/=2),r&&r.reverseWH?[e[1],e[0]]:e}computeTexture(c,r){const e=r&&r.isPacked;if(c.length===0)return e?[2,2]:[1,1];let n=this.maxTextureSize;if(r&&r.breakAxis!==void 0){const _=r.breakAxis>=c.length?1:c.slice(r.breakAxis).reduce((w,S)=>w*S),x=r.breakAxis<=0?1:c.slice(0,r.breakAxis).reduce((w,S)=>w*S);if(!(_>n||x>n))return[_,x];u.Logger.verbose("TextureLayout",`Given width/height preferences were unattainable: shape:${c}, breakAxis:${r.breakAxis}`)}let o=c.slice(0);e&&(n*=2,o=o.map((_,x)=>x>=o.length-2?o[x]%2==0?o[x]:o[x]+1:o[x]),o.length===1&&(o=[2,o[0]])),o.length!==2&&(o=d(o).newShape);const m=v(o);return o.length<=1&&m<=n?[1,m]:o.length===2&&o[0]<=n&&o[1]<=n?o:o.length===3&&o[0]*o[1]<=n&&o[2]<=n?[o[0]*o[1],o[2]]:o.length===3&&o[0]<=n&&o[1]*o[2]<=n?[o[0],o[1]*o[2]]:o.length===4&&o[0]*o[1]*o[2]<=n&&o[3]<=n?[o[0]*o[1]*o[2],o[3]]:o.length===4&&o[0]<=n&&o[1]*o[2]*o[3]<=n?[o[0],o[1]*o[2]*o[3]]:e?f(m/4).map(_=>2*_):f(m)}},t.squeezeShape=d,t.parseAxisParam=y,t.isInt=g,t.sizeFromShape=v,t.getRowsCols=function(c){if(c.length===0)throw Error("Cannot get rows and columns of an empty shape array.");return[c.length>1?c[c.length-2]:1,c[c.length-1]]},t.sizeToSquarishShape=f,t.getBatchDim=function(c,r=2){return v(c.slice(0,c.length-r))}},3314:(i,t,s)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.createTextureLayoutFromShape=t.calculateTextureWidthAndHeight=t.createTextureLayoutFromTextureType=void 0;const u=s(7273),l=s(5639);t.createTextureLayoutFromTextureType=(d,y,g)=>{const v=g===l.TextureType.unpacked||g===l.TextureType.unpackedReversed?1:4,f=g===l.TextureType.packed,c=g===l.TextureType.unpackedReversed||g===l.TextureType.packed,r=g===l.TextureType.packedLastDimension?y.length-1:void 0,e=g===l.TextureType.packedLastDimension?y.map((n,o)=>o===y.length-1?4*n:n):void 0;return(0,t.createTextureLayoutFromShape)(d,y,v,e,{isPacked:f,reverseWH:c,breakAxis:r})},t.calculateTextureWidthAndHeight=(d,y,g)=>{const v=(0,t.createTextureLayoutFromTextureType)(d,y,g);return[v.width,v.height]},t.createTextureLayoutFromShape=(d,y,g=1,v,f)=>{const c=!(!f||!f.isPacked),[r,e]=d.computeTextureWH(c&&v||y,f),n=y.length;let o=y.slice(0);if(n===0&&(o=[1]),g===1)v=y;else if(c){if(g!==4)throw new Error("a packed texture must be 4-channel");v=y,n>0&&(o[n-1]=Math.ceil(o[n-1]/2)),n>1&&(o[n-2]=Math.ceil(o[n-2]/2))}else if(!v)throw new Error("Unpacked shape is needed when using channels > 1");return{width:r,height:e,channels:g,isPacked:c,shape:o,strides:u.ShapeUtil.computeStrides(o),unpackedShape:v,reversedWH:f&&f.reverseWH}}},5243:(i,t,s)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.TextureManager=void 0;const u=s(1315);t.TextureManager=class{constructor(l,d,y,g){this.glContext=l,this.layoutStrategy=d,this.profiler=y,this.config=g,this.pendingRead=new Map,g.reuseTextures&&(this.inUseTextures=new Map,this.idleTextures=new Map,this.textureLookup=new Map)}createTextureFromLayout(l,d,y,g){const v=this.toEncoderType(l),f=this.glContext.getEncoder(v,d.channels||1,g);if(d.isPacked&&g===1)throw new Error("not implemented");const c=d.width,r=d.height;let e,n;if(this.config.reuseTextures){e=`${c}x${r}_${f.format}_${f.internalFormat}_${f.textureType}`,n=this.inUseTextures.get(e),n||(n=[],this.inUseTextures.set(e,n));const m=this.idleTextures.get(e);if(m&&m.length>0){const _=m.pop();return n.push(_),g===1&&this.glContext.updateTexture(_,c,r,f,this.toTextureData(l,y)),_}}u.Logger.verbose("TextureManager",`Creating new texture of size ${d.width}x${d.height}`);const o=this.glContext.allocateTexture(c,r,f,this.toTextureData(l,y));return this.config.reuseTextures&&(n.push(o),this.textureLookup.set(o,e)),o}readTexture(l,d,y){return y||(y=1),this.profiler.event("backend","TextureManager.readTexture",()=>{const g=l.shape.reduce((f,c)=>f*c)*y,v=this.glContext.readTexture(l.texture,l.width,l.height,g,this.toEncoderType(d),y);return this.toTensorData(d,v)})}async readTextureAsync(l,d,y){const g=l.tensor.dataId;if(y||(y=1),this.pendingRead.has(g)){const v=this.pendingRead.get(g);return new Promise(f=>v==null?void 0:v.push(f))}return this.profiler.event("backend","TextureManager.readTextureAsync",async()=>{this.pendingRead.set(g,[]);const v=l.shape.reduce((e,n)=>e*n)*y;await this.glContext.createAndWaitForFence();const f=this.glContext.readTexture(l.texture,l.width,l.height,v,this.toEncoderType(d),y),c=this.toTensorData(d,f),r=this.pendingRead.get(g);return this.pendingRead.delete(g),r==null||r.forEach(e=>e(c)),c})}readUint8TextureAsFloat(l){return this.profiler.event("backend","TextureManager.readUint8TextureAsFloat",()=>{const d=l.shape.reduce((g,v)=>g*v),y=this.glContext.readTexture(l.texture,l.width,l.height,4*d,"byte",4);return new Float32Array(y.buffer,y.byteOffset,d)})}releaseTexture(l,d){let y;if(this.config.reuseTextures&&(y=this.textureLookup.get(l.texture),y)){d&&this.textureLookup.delete(y);const g=this.inUseTextures.get(y);if(g){const v=g.indexOf(l.texture);if(v!==-1){g.splice(v,1);let f=this.idleTextures.get(y);f||(f=[],this.idleTextures.set(y,f)),f.push(l.texture)}}}y&&!d||(u.Logger.verbose("TextureManager",`Deleting texture of size ${l.width}x${l.height}`),this.glContext.deleteTexture(l.texture))}toTensorData(l,d){switch(l){case"int16":return d instanceof Int16Array?d:Int16Array.from(d);case"int32":return d instanceof Int32Array?d:Int32Array.from(d);case"int8":return d instanceof Int8Array?d:Int8Array.from(d);case"uint16":return d instanceof Uint16Array?d:Uint16Array.from(d);case"uint32":return d instanceof Uint32Array?d:Uint32Array.from(d);case"uint8":case"bool":return d instanceof Uint8Array?d:Uint8Array.from(d);case"float32":return d instanceof Float32Array?d:Float32Array.from(d);case"float64":return d instanceof Float64Array?d:Float64Array.from(d);default:throw new Error(`TensorData type ${l} is not supported`)}}toTextureData(l,d){if(d)return d instanceof Float32Array?d:new Float32Array(d)}toEncoderType(l){return"float"}clearActiveTextures(){this.glContext.clearActiveTextures()}}},5639:(i,t)=>{var s;Object.defineProperty(t,"__esModule",{value:!0}),t.TextureType=void 0,(s=t.TextureType||(t.TextureType={}))[s.unpacked=0]="unpacked",s[s.unpackedReversed=1]="unpackedReversed",s[s.packed=2]="packed",s[s.downloadUint8AsFloat=3]="downloadUint8AsFloat",s[s.packedLastDimension=4]="packedLastDimension"},432:(i,t,s)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.getGlChannels=t.getCoordsDataType=t.getSqueezedParams=t.squeezeInputShape=t.generateShaderFuncNameFromInputSamplerNameAtOutCoords=t.generateShaderFuncNameFromInputSamplerName=t.repeatedTry=t.getPackedShape=void 0;const u=s(7273);t.getPackedShape=function(l){const d=l.length;return l.slice(0,d-1).concat(l[d-1]/4)},t.repeatedTry=async function(l,d=g=>0,y){return new Promise((g,v)=>{let f=0;const c=()=>{if(l())return void g();f++;const r=d(f);y!=null&&f>=y?v():setTimeout(c,r)};c()})},t.generateShaderFuncNameFromInputSamplerName=function(l){return(0,u.assert)(l!==void 0&&l.length!==0,()=>"empty string found for sampler name"),"get"+l.charAt(0).toUpperCase()+l.slice(1)},t.generateShaderFuncNameFromInputSamplerNameAtOutCoords=function(l){return(0,u.assert)(l!==void 0&&l.length!==0,()=>"empty string found for sampler name"),"get"+l.charAt(0).toUpperCase()+l.slice(1)+"AtOutCoords"},t.squeezeInputShape=function(l,d){let y=JSON.parse(JSON.stringify(l));return y=d,y},t.getSqueezedParams=function(l,d){return d.map(y=>l[y]).join(", ")},t.getCoordsDataType=function(l){if(l<=1)return"int";if(l===2)return"ivec2";if(l===3)return"ivec3";if(l===4)return"ivec4";if(l===5)return"ivec5";if(l===6)return"ivec6";throw Error(`GPU for rank ${l} is not yet supported`)},t.getGlChannels=function(l=6){return["x","y","z","w","u","v"].slice(0,l)}},3389:(i,t,s)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.createNewWebGLContext=t.createWebGLContext=void 0;const u=s(1315),l=s(3524),d={};function y(g,v){let f;const c={alpha:!1,depth:!1,antialias:!1,stencil:!1,preserveDrawingBuffer:!1,premultipliedAlpha:!1,failIfMajorPerformanceCaveat:!1};if((!v||v==="webgl2")&&(f=g.getContext("webgl2",c),f))try{return new l.WebGLContext(f,2)}catch(r){u.Logger.warning("GlContextFactory",`failed to create WebGLContext using contextId 'webgl2'. Error: ${r}`)}if((!v||v==="webgl")&&(f=g.getContext("webgl",c)||g.getContext("experimental-webgl",c),f))try{return new l.WebGLContext(f,1)}catch(r){u.Logger.warning("GlContextFactory",`failed to create WebGLContext using contextId 'webgl' or 'experimental-webgl'. Error: ${r}`)}throw new Error("WebGL is not supported")}t.createWebGLContext=function g(v){let f;if(v&&v!=="webgl2"||!("webgl2"in d)?v&&v!=="webgl"||!("webgl"in d)||(f=d.webgl):f=d.webgl2,!f)try{f=y(function(){if(typeof OffscreenCanvas>"u")throw new TypeError("failed to create offscreen canvas: OffscreenCanvas is not supported");return new OffscreenCanvas(1,1)}(),v)}catch{f=y(function(){if(typeof document>"u")throw new TypeError("failed to create canvas: document is not supported");const e=document.createElement("canvas");return e.width=1,e.height=1,e}(),v)}v=v||f.version===1?"webgl":"webgl2";const c=f.gl;return d[v]=f,c.isContextLost()?(delete d[v],g(v)):(c.disable(c.DEPTH_TEST),c.disable(c.STENCIL_TEST),c.disable(c.BLEND),c.disable(c.DITHER),c.disable(c.POLYGON_OFFSET_FILL),c.disable(c.SAMPLE_COVERAGE),c.enable(c.SCISSOR_TEST),c.enable(c.CULL_FACE),c.cullFace(c.BACK),f)},t.createNewWebGLContext=y},3524:function(i,t,s){var u=this&&this.__createBinding||(Object.create?function(c,r,e,n){n===void 0&&(n=e);var o=Object.getOwnPropertyDescriptor(r,e);o&&!("get"in o?!r.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return r[e]}}),Object.defineProperty(c,n,o)}:function(c,r,e,n){n===void 0&&(n=e),c[n]=r[e]}),l=this&&this.__setModuleDefault||(Object.create?function(c,r){Object.defineProperty(c,"default",{enumerable:!0,value:r})}:function(c,r){c.default=r}),d=this&&this.__importStar||function(c){if(c&&c.__esModule)return c;var r={};if(c!=null)for(var e in c)e!=="default"&&Object.prototype.hasOwnProperty.call(c,e)&&u(r,c,e);return l(r,c),r};Object.defineProperty(t,"__esModule",{value:!0}),t.WebGLContext=t.linearSearchLastTrue=void 0;const y=s(2235),g=d(s(9622)),v=s(432);function f(c){let r=0;for(;r<c.length&&c[r]();++r);return r-1}t.linearSearchLastTrue=f,t.WebGLContext=class{constructor(c,r){this.frameBufferBound=!1,this.itemsToPoll=[],this.gl=c,this.version=r,this.getExtensions(),this.vertexbuffer=this.createVertexbuffer(),this.framebuffer=this.createFramebuffer(),this.queryVitalParameters()}allocateTexture(c,r,e,n){const o=this.gl,m=o.createTexture();o.bindTexture(o.TEXTURE_2D,m),o.texParameteri(o.TEXTURE_2D,o.TEXTURE_MIN_FILTER,o.NEAREST),o.texParameteri(o.TEXTURE_2D,o.TEXTURE_MAG_FILTER,o.NEAREST),o.texParameteri(o.TEXTURE_2D,o.TEXTURE_WRAP_S,o.CLAMP_TO_EDGE),o.texParameteri(o.TEXTURE_2D,o.TEXTURE_WRAP_T,o.CLAMP_TO_EDGE);const _=n?e.encode(n,c*r):null;return o.texImage2D(o.TEXTURE_2D,0,e.internalFormat,c,r,0,e.format,e.textureType,_),this.checkError(),m}updateTexture(c,r,e,n,o){const m=this.gl;m.bindTexture(m.TEXTURE_2D,c);const _=n.encode(o,r*e);m.texSubImage2D(m.TEXTURE_2D,0,0,0,r,e,n.format,n.textureType,_),this.checkError()}attachFramebuffer(c,r,e){const n=this.gl;n.bindTexture(n.TEXTURE_2D,c),n.bindFramebuffer(n.FRAMEBUFFER,this.framebuffer),n.framebufferTexture2D(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0,n.TEXTURE_2D,c,0),this.checkError(),n.viewport(0,0,r,e),n.scissor(0,0,r,e)}readTexture(c,r,e,n,o,m){const _=this.gl;m||(m=1),this.frameBufferBound||this.attachFramebuffer(c,r,e);const x=this.getEncoder(o,m),w=x.allocate(r*e);return _.bindTexture(_.TEXTURE_2D,c),_.framebufferTexture2D(_.FRAMEBUFFER,_.COLOR_ATTACHMENT0,_.TEXTURE_2D,c,0),_.readPixels(0,0,r,e,_.RGBA,x.textureType,w),this.checkError(),x.decode(w,n)}isFramebufferReady(){return!0}getActiveTexture(){const c=this.gl;return"TEXTURE"+(c.getParameter(this.gl.ACTIVE_TEXTURE)-c.TEXTURE0)}getTextureBinding(){return this.gl.getParameter(this.gl.TEXTURE_BINDING_2D)}getFramebufferBinding(){return this.gl.getParameter(this.gl.FRAMEBUFFER_BINDING)}setVertexAttributes(c,r){const e=this.gl;e.vertexAttribPointer(c,3,e.FLOAT,!1,20,0),e.enableVertexAttribArray(c),r!==-1&&(e.vertexAttribPointer(r,2,e.FLOAT,!1,20,12),e.enableVertexAttribArray(r)),this.checkError()}createProgram(c,r){const e=this.gl,n=e.createProgram();return e.attachShader(n,c),e.attachShader(n,r),e.linkProgram(n),n}compileShader(c,r){const e=this.gl,n=e.createShader(r);if(!n)throw new Error(`createShader() returned null with type ${r}`);if(e.shaderSource(n,c),e.compileShader(n),e.getShaderParameter(n,e.COMPILE_STATUS)===!1)throw new Error(`Failed to compile shader: ${e.getShaderInfoLog(n)}
Shader source:
${c}`);return n}deleteShader(c){this.gl.deleteShader(c)}bindTextureToUniform(c,r,e){const n=this.gl;n.activeTexture(n.TEXTURE0+r),this.checkError(),n.bindTexture(n.TEXTURE_2D,c),this.checkError(),n.uniform1i(e,r),this.checkError()}draw(){this.gl.drawArrays(this.gl.TRIANGLE_STRIP,0,4),this.checkError()}checkError(){if(y.env.debug){const c=this.gl,r=c.getError();let e="";switch(r){case c.NO_ERROR:return;case c.INVALID_ENUM:e="INVALID_ENUM";break;case c.INVALID_VALUE:e="INVALID_VALUE";break;case c.INVALID_OPERATION:e="INVALID_OPERATION";break;case c.INVALID_FRAMEBUFFER_OPERATION:e="INVALID_FRAMEBUFFER_OPERATION";break;case c.OUT_OF_MEMORY:e="OUT_OF_MEMORY";break;case c.CONTEXT_LOST_WEBGL:e="CONTEXT_LOST_WEBGL";break;default:e=`Unknown WebGL Error: ${r.toString(16)}`}throw new Error(e)}}deleteTexture(c){this.gl.deleteTexture(c)}deleteProgram(c){this.gl.deleteProgram(c)}getEncoder(c,r,e=0){if(this.version===2)return new g.RedFloat32DataEncoder(this.gl,r);switch(c){case"float":return e===1||this.isRenderFloat32Supported?new g.RGBAFloatDataEncoder(this.gl,r):new g.RGBAFloatDataEncoder(this.gl,r,this.textureHalfFloatExtension.HALF_FLOAT_OES);case"int":throw new Error("not implemented");case"byte":return new g.Uint8DataEncoder(this.gl,r);default:throw new Error(`Invalid dataType: ${c}`)}}clearActiveTextures(){const c=this.gl;for(let r=0;r<this.maxTextureImageUnits;++r)c.activeTexture(c.TEXTURE0+r),c.bindTexture(c.TEXTURE_2D,null)}dispose(){if(this.disposed)return;const c=this.gl;c.bindFramebuffer(c.FRAMEBUFFER,null),c.deleteFramebuffer(this.framebuffer),c.bindBuffer(c.ARRAY_BUFFER,null),c.deleteBuffer(this.vertexbuffer),c.bindBuffer(c.ELEMENT_ARRAY_BUFFER,null),c.finish(),this.disposed=!0}createDefaultGeometry(){return new Float32Array([-1,1,0,0,1,-1,-1,0,0,0,1,1,0,1,1,1,-1,0,1,0])}createVertexbuffer(){const c=this.gl,r=c.createBuffer();if(!r)throw new Error("createBuffer() returned null");const e=this.createDefaultGeometry();return c.bindBuffer(c.ARRAY_BUFFER,r),c.bufferData(c.ARRAY_BUFFER,e,c.STATIC_DRAW),this.checkError(),r}createFramebuffer(){const c=this.gl.createFramebuffer();if(!c)throw new Error("createFramebuffer returned null");return c}queryVitalParameters(){const c=this.gl;if(this.isFloatTextureAttachableToFrameBuffer=this.checkFloatTextureAttachableToFrameBuffer(),this.isRenderFloat32Supported=this.checkRenderFloat32(),this.isFloat32DownloadSupported=this.checkFloat32Download(),this.version===1&&!this.textureHalfFloatExtension&&!this.isRenderFloat32Supported)throw new Error("both float32 and float16 TextureType are not supported");this.isBlendSupported=!this.isRenderFloat32Supported||this.checkFloat32Blend(),this.maxTextureSize=c.getParameter(c.MAX_TEXTURE_SIZE),this.maxTextureImageUnits=c.getParameter(c.MAX_TEXTURE_IMAGE_UNITS),this.version}getExtensions(){this.version===2?(this.colorBufferFloatExtension=this.gl.getExtension("EXT_color_buffer_float"),this.disjointTimerQueryWebgl2Extension=this.gl.getExtension("EXT_disjoint_timer_query_webgl2")):(this.textureFloatExtension=this.gl.getExtension("OES_texture_float"),this.textureHalfFloatExtension=this.gl.getExtension("OES_texture_half_float"))}checkFloatTextureAttachableToFrameBuffer(){const c=this.gl,r=c.createTexture();c.bindTexture(c.TEXTURE_2D,r);const e=this.version===2?c.RGBA32F:c.RGBA;c.texImage2D(c.TEXTURE_2D,0,e,1,1,0,c.RGBA,c.FLOAT,null);const n=c.createFramebuffer();c.bindFramebuffer(c.FRAMEBUFFER,n),c.framebufferTexture2D(c.FRAMEBUFFER,c.COLOR_ATTACHMENT0,c.TEXTURE_2D,r,0);const o=c.checkFramebufferStatus(c.FRAMEBUFFER)===c.FRAMEBUFFER_COMPLETE;return c.bindTexture(c.TEXTURE_2D,null),c.bindFramebuffer(c.FRAMEBUFFER,null),c.deleteTexture(r),c.deleteFramebuffer(n),o}checkRenderFloat32(){if(this.version===2){if(!this.colorBufferFloatExtension)return!1}else if(!this.textureFloatExtension)return!1;return this.isFloatTextureAttachableToFrameBuffer}checkFloat32Download(){if(this.version===2){if(!this.colorBufferFloatExtension)return!1}else if(!this.textureFloatExtension||!this.gl.getExtension("WEBGL_color_buffer_float"))return!1;return this.isFloatTextureAttachableToFrameBuffer}checkFloat32Blend(){const c=this.gl;let r,e,n,o,m;try{r=c.createTexture(),e=c.createFramebuffer(),c.bindTexture(c.TEXTURE_2D,r);const _=this.version===2?c.RGBA32F:c.RGBA;return c.texImage2D(c.TEXTURE_2D,0,_,1,1,0,c.RGBA,c.FLOAT,null),c.bindFramebuffer(c.FRAMEBUFFER,e),c.framebufferTexture2D(c.FRAMEBUFFER,c.COLOR_ATTACHMENT0,c.TEXTURE_2D,r,0),c.enable(c.BLEND),n=c.createShader(c.VERTEX_SHADER),!!n&&(c.shaderSource(n,"void main(){}"),c.compileShader(n),o=c.createShader(c.FRAGMENT_SHADER),!!o&&(c.shaderSource(o,"precision highp float;void main(){gl_FragColor=vec4(0.5);}"),c.compileShader(o),m=c.createProgram(),!!m&&(c.attachShader(m,n),c.attachShader(m,o),c.linkProgram(m),c.useProgram(m),c.drawArrays(c.POINTS,0,1),c.getError()===c.NO_ERROR)))}finally{c.disable(c.BLEND),m&&c.deleteProgram(m),n&&c.deleteShader(n),o&&c.deleteShader(o),e&&(c.bindFramebuffer(c.FRAMEBUFFER,null),c.deleteFramebuffer(e)),r&&(c.bindTexture(c.TEXTURE_2D,null),c.deleteTexture(r))}}beginTimer(){if(this.version===2&&this.disjointTimerQueryWebgl2Extension){const c=this.gl,r=this.disjointTimerQueryWebgl2Extension,e=c.createQuery();return c.beginQuery(r.TIME_ELAPSED_EXT,e),e}throw new Error("WebGL1 profiling currently not supported.")}endTimer(){if(this.version!==2||!this.disjointTimerQueryWebgl2Extension)throw new Error("WebGL1 profiling currently not supported");{const c=this.gl,r=this.disjointTimerQueryWebgl2Extension;c.endQuery(r.TIME_ELAPSED_EXT)}}isTimerResultAvailable(c){let r=!1,e=!1;if(this.version!==2||!this.disjointTimerQueryWebgl2Extension)throw new Error("WebGL1 profiling currently not supported");{const n=this.gl,o=this.disjointTimerQueryWebgl2Extension;r=n.getQueryParameter(c,n.QUERY_RESULT_AVAILABLE),e=n.getParameter(o.GPU_DISJOINT_EXT)}return r&&!e}getTimerResult(c){let r=0;if(this.version!==2)throw new Error("WebGL1 profiling currently not supported");{const e=this.gl;r=e.getQueryParameter(c,e.QUERY_RESULT),e.deleteQuery(c)}return r/1e6}async waitForQueryAndGetTime(c){return await(0,v.repeatedTry)(()=>this.isTimerResultAvailable(c)),this.getTimerResult(c)}async createAndWaitForFence(){const c=this.createFence(this.gl);return this.pollFence(c)}createFence(c){let r;const e=c,n=e.fenceSync(e.SYNC_GPU_COMMANDS_COMPLETE,0);return c.flush(),r=n===null?()=>!0:()=>{const o=e.clientWaitSync(n,0,0);return o===e.ALREADY_SIGNALED||o===e.CONDITION_SATISFIED},{query:n,isFencePassed:r}}async pollFence(c){return new Promise(r=>{this.addItemToPoll(()=>c.isFencePassed(),()=>r())})}pollItems(){const c=f(this.itemsToPoll.map(r=>r.isDoneFn));for(let r=0;r<=c;++r){const{resolveFn:e}=this.itemsToPoll[r];e()}this.itemsToPoll=this.itemsToPoll.slice(c+1)}async addItemToPoll(c,r){this.itemsToPoll.push({isDoneFn:c,resolveFn:r}),this.itemsToPoll.length>1||await(0,v.repeatedTry)(()=>(this.pollItems(),this.itemsToPoll.length===0))}}},6496:(i,t,s)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.ExecutionPlan=void 0;const u=s(1315);class l{constructor(y,g){this.op=y,this.node=g}}t.ExecutionPlan=class{constructor(d,y,g){this.graph=d,this.profiler=g,this.initialize(y)}initialize(d){this.profiler.event("session","ExecutionPlan.initialize",()=>{const y=this.graph.getNodes();if(y.length!==d.length)throw new Error("The size of nodes and OPs do not match.");this._ops=d.map((g,v)=>new l(g,y[v])),this.reset(),this._starter=[],this._ops.forEach((g,v)=>{let f=!0;for(const c of g.node.inputs)if(!this._values[c]&&this.graph.getInputIndices().indexOf(c)===-1){f=!1;break}f&&this._starter.push(v)})})}reset(){this._values=this.graph.getValues().map(d=>d.tensor)}async execute(d,y){return this.profiler.event("session","ExecutionPlan.execute",async()=>{this.reset();const g=d.createInferenceHandler(),v=this.graph.getInputIndices();if(y.length!==v.length)throw new Error(`number of input tensors don't match the number of inputs to the model: actual: ${y.length} expected: ${v.length}`);y.forEach((o,m)=>{const _=v[m];this._values[_]=o});const f=this._starter.slice(0),c=this.graph.getValues(),r=this.graph.getNodes();let e=0;for(;e<f.length;){const o=f[e++],m=this._ops[o],_=m.node.inputs.map(O=>this._values[O]);if(_.indexOf(void 0)!==-1)throw new Error(`unresolved input detected: op: ${m.node}`);const x=_;u.Logger.verbose("ExecPlan",`Runing op:${m.node.name} (${x.map((O,A)=>`'${m.node.inputs[A]}': ${O.type}[${O.dims.join(",")}]`).join(", ")})`);const w=await this.profiler.event("node",m.node.name,async()=>m.op.impl(g,x,m.op.context));if(w.length!==m.node.outputs.length)throw new Error("the size of output does not match model definition.");w.forEach((O,A)=>{const I=m.node.outputs[A];if(this._values[I])throw new Error(`output [${I}] already has value: op:${m.node.name}`);this._values[I]=O});const S=new Set;w.forEach((O,A)=>{const I=m.node.outputs[A];for(const P of c[I].to){const L=r[P];let U=!0;for(const G of L.inputs)if(!this._values[G]){U=!1;break}U&&S.add(P)}}),f.push(...S)}const n=[];for(let o=0;o<this.graph.getOutputIndices().length;o++){const m=this.graph.getOutputIndices()[o],_=this._values[m];if(_===void 0)throw new Error(`required output [${m}] does not have value`);m===0?await _.getData():_.data,n.push(_)}return u.Logger.verbose("ExecPlan","disposing of inferenceHandler"),g.dispose(),n})}}},4662:(i,t,s)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.Graph=void 0;const u=s(6874),l=s(5127),d=s(2446),y=s(9240),g=s(7273);var v=l.onnxruntime.experimental.fbs;t.Graph={from:(e,n)=>new r(e,n)};class f{constructor(n){this._from=void 0,this._to=[],this.tensor=void 0,this.type=void 0,n&&(this.type=g.ProtoUtil.tensorValueTypeFromProto(n.type.tensorType))}get from(){return this._from}get to(){return this._to}}class c{constructor(n,o){n instanceof d.onnx.NodeProto?(this.name=n.name,this.opType=n.opType,this.attributes=new u.Attribute(n.attribute)):n instanceof v.Node&&(this.name=o??n.name(),this.opType=n.opType(),this.attributes=new u.Attribute(g.ProtoUtil.tensorAttributesFromORTFormat(n))),this.inputs=[],this.outputs=[],this.executeNode=!0}}class r{constructor(n,o){if(!n)throw new TypeError("graph is empty");this.buildGraph(n),this.transformGraph(o),this.checkIsAcyclic()}getInputIndices(){return this._allInputIndices}getInputNames(){return this._allInputNames}getOutputIndices(){return this._allOutputIndices}getOutputNames(){return this._allOutputNames}getValues(){return this._allData}getNodes(){return this._nodes}buildGraph(n){if(n instanceof d.onnx.GraphProto)this.buildGraphFromOnnxFormat(n);else{if(!(n instanceof v.Graph))throw new TypeError("Graph type is not supported.");this.buildGraphFromOrtFormat(n)}}buildGraphFromOnnxFormat(n){const o=new Map;this._allData=[],this._allInputIndices=[],this._allInputNames=[],this._allOutputIndices=[],this._allOutputNames=[],this._nodes=[];const m=new Map;if(!n.input)throw new Error("missing information in graph: input");const _=[];for(const x of n.input){if(o.has(x.name))throw new Error(`duplicated input name: ${x.name}`);const w=this._allData.push(new f(x))-1;o.set(x.name,w),_.push(x.name)}if(!n.initializer)throw new Error("missing information in graph: initializer");for(const x of n.initializer){let w=o.get(x.name);if(w===void 0){const S=new f;S.type={shape:{dims:g.ProtoUtil.tensorDimsFromProto(x.dims)},tensorType:g.ProtoUtil.tensorDataTypeFromProto(x.dataType)},w=this._allData.push(S)-1,o.set(x.name,w)}this._allData[w]._from=-1,this._allData[w].tensor=y.Tensor.fromProto(x)}for(let x=0;x<this._allData.length;x++)this._allData[x].tensor||(this._allInputIndices.push(x),this._allInputNames.push(_[x]));if(!n.output)throw new Error("missing information in graph: output");for(const x of n.output){if(o.has(x.name))throw new Error(`duplicated output name: ${x.name}`);const w=this._allData.push(new f(x))-1;o.set(x.name,w),this._allOutputIndices.push(w),this._allOutputNames.push(x.name)}if(!n.node)throw new Error("missing information in graph: node");for(const x of n.node){if(!x.name)for(let S=0;;S++){const O=`unnamed_${x.opType}_${S}`;if(!m.has(O)){x.name=O;break}}if(m.has(x.name))throw new Error(`duplicated node name: ${x.name}`);const w=this._nodes.push(new c(x))-1;m.set(x.name,w)}for(let x=0;x<this._nodes.length;x++){const w=this._nodes[x],S=n.node[x];if(!S.output)throw new Error(`missing output for node: ${S.name}`);for(const O of S.output){let A=o.get(O);if(A===void 0&&(A=this._allData.push(new f)-1,o.set(O,A)),w.outputs.push(A),this._allData[A]._from!==void 0)throw new Error(`multiple nodes output to one data value: ${A}`);if(this._allData[A]._from=x,S.opType==="Constant"){if(!S.attribute||S.attribute.length!==1||!S.attribute[0].t)throw new Error("missing attributes or missing tensor value in attributes for this Constant operator");if(!S.output||S.output.length!==1)throw new Error("missing output or incorrect number of outputs for this Constant operator");w.outputs.pop(),w.executeNode=!1,this._allData[A]._from=-1,this._allData[A].tensor=y.Tensor.fromProto(S.attribute[0].t)}}}for(let x=0;x<this._nodes.length;x++){const w=this._nodes[x],S=n.node[x];if(!S.input)throw new Error(`missing input for node: ${S.name}`);for(const O of S.input){const A=o.get(O);if(A===void 0){if(O===""&&(S.input.length===3||S.input.length===4)&&S.opType==="Resize")continue;throw new Error(`unrecognized input '${O}' for node: ${S.name}`)}w.inputs.push(A),this._allData[A]._to.push(x)}}return!0}buildGraphFromOrtFormat(n){var o,m,_;const x=new Map;this._allData=[],this._allInputIndices=[],this._allInputNames=[],this._allOutputIndices=[],this._allOutputNames=[],this._nodes=[];const w=new Map,S=[];for(let O=0;O<n.inputsLength();O++){const A=n.inputs(O);if(x.has(A))throw new Error(`duplicated input name: ${A}`);for(let I=0;I<n.nodeArgsLength();I++)if(((o=n.nodeArgs(I))===null||o===void 0?void 0:o.name())===A){const P=new f;if(((_=(m=n.nodeArgs(I))===null||m===void 0?void 0:m.type())===null||_===void 0?void 0:_.valueType())!==v.TypeInfoValue.tensor_type)throw new Error("Unexpected value type for the nodeArg.");const L=n.nodeArgs(I).type().value(new v.TensorTypeAndShape),U=g.ProtoUtil.tensorDataTypeFromProto(L.elemType()),G=L.shape(),te=[];for(let F=0;F<G.dimLength();F++)te.push(g.LongUtil.longToNumber(G.dim(F).value().dimValue()));P.type={shape:{dims:te},tensorType:U};const Y=this._allData.push(P)-1;x.set(A,Y),S.push(A)}}for(let O=0;O<n.initializersLength();O++){const A=n.initializers(O);let I=x.get(A.name());if(I===void 0){const P=new f,L=g.ProtoUtil.tensorDimsFromORTFormat(A),U=g.ProtoUtil.tensorDataTypeFromProto(A.dataType());P.type={shape:{dims:L},tensorType:U},I=this._allData.push(P)-1,x.set(A.name(),I)}this._allData[I]._from=-1,this._allData[I].tensor=y.Tensor.fromOrtTensor(A)}for(let O=0;O<this._allData.length;O++)this._allData[O].tensor||(this._allInputIndices.push(O),this._allInputNames.push(S[O]));for(let O=0;O<n.outputsLength();O++){const A=n.outputs(O);if(x.has(A))throw new Error(`duplicated output name: ${A}`);const I=this._allData.push(new f)-1;x.set(A,I),this._allOutputIndices.push(I),this._allOutputNames.push(A)}if(!n.nodes)throw new Error("missing information in graph: node");for(let O=0;O<n.nodesLength();O++){const A=n.nodes(O);let I=A.name();if(!I)for(let L=0;I=`unnamed_${A.opType()}_${L}`,w.has(I);L++);if(w.has(I))throw new Error(`duplicated node name: ${I}`);const P=this._nodes.push(new c(A,I))-1;w.set(I,P)}for(let O=0;O<this._nodes.length;O++){const A=this._nodes[O],I=n.nodes(O);if(I==null)throw new Error(`No node exists at index ${O}`);if((I==null?void 0:I.outputsLength())===0)throw new Error(`missing output for node: ${I.name}`);for(let P=0;P<(I==null?void 0:I.outputsLength());P++){const L=I==null?void 0:I.outputs(P);let U=x.get(L);if(U===void 0&&(U=this._allData.push(new f)-1,x.set(L,U)),A.outputs.push(U),this._allData[U]._from!==void 0)throw new Error(`multiple nodes output to one data value: ${U}`);if(this._allData[U]._from=O,I.opType()==="Constant"){if(I.attributesLength()!==1||!I.attributes(0).t())throw new Error("missing attributes or missing tensor value in attributes for this Constant operator");if(I.outputsLength()!==1)throw new Error("missing output or incorrect number of outputs for this Constant operator");A.outputs.pop(),A.executeNode=!1,this._allData[U]._from=-1,this._allData[U].tensor=y.Tensor.fromOrtTensor(I.attributes(0).t())}}}for(let O=0;O<this._nodes.length;O++){const A=this._nodes[O],I=n.nodes(O);if(I.inputsLength()===0)throw new Error(`missing input for node: ${I.name}`);for(let P=0;P<I.inputsLength();P++){const L=I.inputs(P),U=x.get(L);if(U===void 0)throw new Error(`unrecognized input '${L}' for node: ${I.name()}`);A.inputs.push(U),this._allData[U]._to.push(O)}}}checkIsAcyclic(){const n=new Set;this._allInputIndices.forEach(_=>{this._allData[_]._to.forEach(x=>{n.add(x)})});const o=Array.from(n),m=new Array(this._nodes.length).fill("white");for(;o.length>0;){const _=o.pop();m[_]==="gray"?m[_]="black":(o.push(_),m[_]="gray",this._nodes[_].outputs.forEach(x=>{const w=this._allData[x];if(w.tensor!==void 0)throw new Error("node outputs should not be initialized");if(w._from!==_)throw new Error("from property of the Value object doesn't match index of Node being processed");w._to.forEach(S=>{if(m[S]==="gray")throw new Error("model graph is cyclic");m[S]==="white"&&o.push(S)})}))}}transformGraph(n){this.removeAllIdentityNodes(),this.removeAllDropoutNodes(),this.fuseConvActivationNodes(),n&&n.transformGraph(this),this.finalizeGraph()}finalizeGraph(){let n=0;const o=new Array(this._nodes.length,0);let m=0;for(let _=0;_<this._nodes.length;_++)o[_]=m,this._nodes[_].executeNode?(m!==_&&(this._nodes[m]=this._nodes[_]),m++):this._nodes[_].outputs.forEach(x=>{this._allData[x]._from=-2});this._nodes.splice(m,this._nodes.length-m);for(let _=0;_<this._allData.length;_++){const x=this._allData[_];x._from!==void 0&&x._from!==-1&&x._from!==-2&&(x._from=o[x._from]);for(let w=0;w<x._to.length;w++){if(!(x._to[w]>=0))throw new Error("Trying to update a removed node");x._to[w]=o[x._to[w]]}}n=0;for(let _=0;_<this._allData.length;_++)if(this._allData[_].from!==-2||this._allOutputIndices.indexOf(_+n)!==-1){if(n>0){let x=-1;this._allData[_].from!==void 0&&this._allData[_].from!==-1?(x=this._nodes[this._allData[_].from].outputs.indexOf(_+n),x!==-1&&(this._nodes[this._allData[_].from].outputs[x]=_)):(x=this._allInputIndices.indexOf(_+n),x!==-1&&(this._allInputIndices[x]=_)),this._allData[_].to.forEach(w=>{x=this._nodes[w].inputs.indexOf(_+n),x!==-1&&(this._nodes[w].inputs[x]=_)}),this._allData[_].to.length===0&&(x=this._allOutputIndices.indexOf(_+n),x!==-1&&(this._allOutputIndices[x]=_))}}else n++,this._allData.splice(_,1),_--}deleteNode(n){const o=this._nodes[n];if(o.outputs.length>1){for(let S=1;S<o.outputs.length;S++)if(this._allData[o.outputs[S]].to.length>0)throw new Error("Node deletion with more than one output connected to other nodes is not supported. ")}o.executeNode=!1;const m=o.inputs[0],_=o.outputs[0],x=this._allData[_].to;for(let S=0;S<o.inputs.length;S++){const O=this._allData[o.inputs[S]].to.indexOf(n);if(O===-1)throw new Error("The Value object doesn't have the current Node in it's 'to' property ");this._allData[o.inputs[S]].to.splice(O,1)}this._allData[_]._to=[];const w=this._allOutputIndices.indexOf(_);if(w!==-1&&(this._allOutputIndices[w]=m),x&&x.length>0)for(const S of x){const O=this._nodes[S].inputs.indexOf(_);if(O===-1)throw new Error("The Node object doesn't have the output Value in it's 'inputs' property ");this._nodes[S].inputs[O]=m,this._allData[m].to.push(S)}}removeAllDropoutNodes(){let n=0;for(const o of this._nodes){if(o.opType==="Dropout"){if(o.inputs.length!==1)throw new Error("Dropout nodes should only contain one input. ");if(o.outputs.length!==1&&o.outputs.length!==2)throw new Error("Dropout nodes should contain either 1 or 2 output(s)");if(o.outputs.length===2&&this._allData[o.outputs[1]]._to.length!==0)throw new Error("Dropout nodes's second output should not be referenced by other nodes");this.deleteNode(n)}n++}}removeAllIdentityNodes(){let n=0;for(const o of this._nodes)o.opType==="Identity"&&this.deleteNode(n),n++}isActivation(n){switch(n.opType){case"Relu":case"Sigmoid":case"Clip":return!0;default:return!1}}fuseConvActivationNodes(){for(const n of this._nodes)if(n.opType==="Conv"){const o=this._allData[n.outputs[0]]._to;if(o.length===1&&this.isActivation(this._nodes[o[0]])){const m=this._nodes[o[0]];if(m.opType==="Clip")if(m.inputs.length===1)try{n.attributes.set("activation_params","floats",[m.attributes.getFloat("min"),m.attributes.getFloat("max")])}catch{n.attributes.set("activation_params","floats",[g.MIN_CLIP,g.MAX_CLIP])}else{if(!(m.inputs.length>=3&&this._allData[m.inputs[1]].tensor!==void 0&&this._allData[m.inputs[2]].tensor!==void 0))continue;n.attributes.set("activation_params","floats",[this._allData[m.inputs[1]].tensor.floatData[0],this._allData[m.inputs[2]].tensor.floatData[0]])}n.attributes.set("activation","string",m.opType),this.deleteNode(o[0])}}}}},1315:(i,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.now=t.Profiler=t.Logger=void 0;const s={verbose:1e3,info:2e3,warning:4e3,error:5e3,fatal:6e3},u={none:new class{log(c,r,e){}},console:new class{log(c,r,e){console.log(`${this.color(c)} ${e?"\x1B[35m"+e+"\x1B[0m ":""}${r}`)}color(c){switch(c){case"verbose":return"\x1B[34;40mv\x1B[0m";case"info":return"\x1B[32mi\x1B[0m";case"warning":return"\x1B[30;43mw\x1B[0m";case"error":return"\x1B[31;40me\x1B[0m";case"fatal":return"\x1B[101mf\x1B[0m";default:throw new Error(`unsupported severity: ${c}`)}}}},l={provider:"console",minimalSeverity:"warning",logDateTime:!0,logSourceLocation:!1};let d={"":l};function y(c,r,e,n){if(r===void 0)return o=c,{verbose:y.verbose.bind(null,o),info:y.info.bind(null,o),warning:y.warning.bind(null,o),error:y.error.bind(null,o),fatal:y.fatal.bind(null,o)};if(e===void 0)g(c,r);else if(typeof e=="number"&&n===void 0)g(c,r);else if(typeof e=="string"&&n===void 0)g(c,e,0,r);else{if(typeof e!="string"||typeof n!="number")throw new TypeError("input is valid");g(c,e,0,r)}var o}function g(c,r,e,n){const o=d[n||""]||d[""];s[c]<s[o.minimalSeverity]||(o.logDateTime&&(r=`${new Date().toISOString()}|${r}`),o.logSourceLocation,u[o.provider].log(c,r,n))}(function(c){function r(n){d={},e("",n||{})}function e(n,o){if(n==="*")r(o);else{const m=d[n]||l;d[n]={provider:o.provider||m.provider,minimalSeverity:o.minimalSeverity||m.minimalSeverity,logDateTime:o.logDateTime===void 0?m.logDateTime:o.logDateTime,logSourceLocation:o.logSourceLocation===void 0?m.logSourceLocation:o.logSourceLocation}}}c.verbose=function(n,o){c("verbose",n,o)},c.info=function(n,o){c("info",n,o)},c.warning=function(n,o){c("warning",n,o)},c.error=function(n,o){c("error",n,o)},c.fatal=function(n,o){c("fatal",n,o)},c.reset=r,c.set=e,c.setWithEnv=function(n){const o={};n.logLevel&&(o.minimalSeverity=n.logLevel),e("",o)}})(y||(y={})),t.Logger=y;class v{constructor(r,e,n,o,m,_){this.category=r,this.name=e,this.startTime=n,this.endCallback=o,this.timer=m,this.ctx=_}async end(){return this.endCallback(this)}async checkTimer(){if(this.ctx===void 0||this.timer===void 0)throw new Error("No webgl timer found");return this.ctx.endTimer(),this.ctx.waitForQueryAndGetTime(this.timer)}}class f{constructor(r,e,n,o){this.category=r,this.name=e,this.startTime=n,this.endTime=o}}t.Profiler=class{static create(c){return c===void 0?new this:new this(c.maxNumberEvents,c.flushBatchSize,c.flushIntervalInMilliseconds)}constructor(c,r,e){this._started=!1,this._flushPointer=0,this._started=!1,this._maxNumberEvents=c===void 0?1e4:c,this._flushBatchSize=r===void 0?10:r,this._flushIntervalInMilliseconds=e===void 0?5e3:e}start(){this._started=!0,this._timingEvents=[],this._flushTime=(0,t.now)(),this._flushPointer=0}stop(){for(this._started=!1;this._flushPointer<this._timingEvents.length;this._flushPointer++)this.logOneEvent(this._timingEvents[this._flushPointer])}event(c,r,e,n){const o=this._started?this.begin(c,r,n):void 0;let m=!1;const _=e();if(_&&typeof _.then=="function")return m=!0,new Promise((x,w)=>{_.then(async S=>{o&&await o.end(),x(S)},async S=>{o&&await o.end(),w(S)})});if(!m&&o){const x=o.end();if(x&&typeof x.then=="function")return new Promise((w,S)=>{x.then(()=>{w(_)},O=>{S(O)})})}return _}begin(c,r,e){if(!this._started)throw new Error("profiler is not started yet");if(e===void 0){const n=(0,t.now)();return this.flush(n),new v(c,r,n,o=>this.endSync(o))}{const n=e.beginTimer();return new v(c,r,0,async o=>this.end(o),n,e)}}async end(c){const r=await c.checkTimer();this._timingEvents.length<this._maxNumberEvents&&(this._timingEvents.push(new f(c.category,c.name,c.startTime,r)),this.flush(r))}endSync(c){const r=(0,t.now)();this._timingEvents.length<this._maxNumberEvents&&(this._timingEvents.push(new f(c.category,c.name,c.startTime,r)),this.flush(r))}logOneEvent(c){t.Logger.verbose(`Profiler.${c.category}`,`${(c.endTime-c.startTime).toFixed(2)}ms on event '${c.name}' at ${c.endTime.toFixed(2)}`)}flush(c){if(this._timingEvents.length-this._flushPointer>=this._flushBatchSize||c-this._flushTime>=this._flushIntervalInMilliseconds){for(const r=this._flushPointer;this._flushPointer<r+this._flushBatchSize&&this._flushPointer<this._timingEvents.length;this._flushPointer++)this.logOneEvent(this._timingEvents[this._flushPointer]);this._flushTime=(0,t.now)()}}get started(){return this._started}},t.now=typeof performance<"u"&&performance.now?()=>performance.now():Date.now},1745:(i,t,s)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.Model=void 0;const u=s(5686),l=s(4662),d=s(5127),y=s(2446),g=s(7273);var v=d.onnxruntime.experimental.fbs;t.Model=class{constructor(){}load(f,c,r){if(!r)try{return void this.loadFromOnnxFormat(f,c)}catch(e){if(r!==void 0)throw e}this.loadFromOrtFormat(f,c)}loadFromOnnxFormat(f,c){const r=y.onnx.ModelProto.decode(f);if(g.LongUtil.longToNumber(r.irVersion)<3)throw new Error("only support ONNX model with IR_VERSION>=3");this._opsets=r.opsetImport.map(e=>({domain:e.domain,version:g.LongUtil.longToNumber(e.version)})),this._graph=l.Graph.from(r.graph,c)}loadFromOrtFormat(f,c){const r=new u.flatbuffers.ByteBuffer(f),e=v.InferenceSession.getRootAsInferenceSession(r).model();if(g.LongUtil.longToNumber(e.irVersion())<3)throw new Error("only support ONNX model with IR_VERSION>=3");this._opsets=[];for(let n=0;n<e.opsetImportLength();n++){const o=e.opsetImport(n);this._opsets.push({domain:o==null?void 0:o.domain(),version:g.LongUtil.longToNumber(o.version())})}this._graph=l.Graph.from(e.graph(),c)}get graph(){return this._graph}get opsets(){return this._opsets}}},6145:(i,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.FLOAT_TYPES=t.INT_TYPES=t.NUMBER_TYPES=void 0,t.NUMBER_TYPES=["float32","float64","int32","int16","int8","uint16","uint32","uint8"],t.INT_TYPES=["int32","int16","int8","uint16","uint32","uint8"],t.FLOAT_TYPES=["float32","float64"]},5881:(i,t)=>{function s(u,l){if(l.endsWith("+")){const d=Number.parseInt(l.substring(0,l.length-1),10);return!isNaN(d)&&d<=u}if(l.split("-").length===2){const d=l.split("-"),y=Number.parseInt(d[0],10),g=Number.parseInt(d[1],10);return!isNaN(y)&&!isNaN(g)&&y<=u&&u<=g}return Number.parseInt(l,10)===u}Object.defineProperty(t,"__esModule",{value:!0}),t.resolveOperator=void 0,t.resolveOperator=function(u,l,d){for(const y of d){const g=y[0],v=y[1],f=y[2],c=y[3],r=y[4];if(u.opType===g){for(const e of l)if((e.domain===v||e.domain==="ai.onnx"&&v==="")&&s(e.version,f))return{opImpl:c,opInit:r}}}throw new TypeError(`cannot resolve operator '${u.opType}' with opsets: ${l.map(y=>`${y.domain||"ai.onnx"} v${y.version}`).join(", ")}`)}},5127:(i,t,s)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.onnxruntime=void 0;const u=s(5686);var l,d;l=t.onnxruntime||(t.onnxruntime={}),function(y){(function(g){g[g.UNDEFINED=0]="UNDEFINED",g[g.FLOAT=1]="FLOAT",g[g.INT=2]="INT",g[g.STRING=3]="STRING",g[g.TENSOR=4]="TENSOR",g[g.GRAPH=5]="GRAPH",g[g.FLOATS=6]="FLOATS",g[g.INTS=7]="INTS",g[g.STRINGS=8]="STRINGS",g[g.TENSORS=9]="TENSORS",g[g.GRAPHS=10]="GRAPHS",g[g.SPARSE_TENSOR=11]="SPARSE_TENSOR",g[g.SPARSE_TENSORS=12]="SPARSE_TENSORS"})(y.AttributeType||(y.AttributeType={}))}((d=l.experimental||(l.experimental={})).fbs||(d.fbs={})),function(y){(function(g){(function(v){(function(f){f[f.UNKNOWN=0]="UNKNOWN",f[f.VALUE=1]="VALUE",f[f.PARAM=2]="PARAM"})(v.DimensionValueType||(v.DimensionValueType={}))})(g.fbs||(g.fbs={}))})(y.experimental||(y.experimental={}))}(t.onnxruntime||(t.onnxruntime={})),function(y){(function(g){(function(v){(function(f){f[f.UNDEFINED=0]="UNDEFINED",f[f.FLOAT=1]="FLOAT",f[f.UINT8=2]="UINT8",f[f.INT8=3]="INT8",f[f.UINT16=4]="UINT16",f[f.INT16=5]="INT16",f[f.INT32=6]="INT32",f[f.INT64=7]="INT64",f[f.STRING=8]="STRING",f[f.BOOL=9]="BOOL",f[f.FLOAT16=10]="FLOAT16",f[f.DOUBLE=11]="DOUBLE",f[f.UINT32=12]="UINT32",f[f.UINT64=13]="UINT64",f[f.COMPLEX64=14]="COMPLEX64",f[f.COMPLEX128=15]="COMPLEX128",f[f.BFLOAT16=16]="BFLOAT16",f[f.FLOAT8E4M3FN=17]="FLOAT8E4M3FN",f[f.FLOAT8E4M3FNUZ=18]="FLOAT8E4M3FNUZ",f[f.FLOAT8E5M2=19]="FLOAT8E5M2",f[f.FLOAT8E5M2FNUZ=20]="FLOAT8E5M2FNUZ"})(v.TensorDataType||(v.TensorDataType={}))})(g.fbs||(g.fbs={}))})(y.experimental||(y.experimental={}))}(t.onnxruntime||(t.onnxruntime={})),function(y){(function(g){(function(v){(function(f){f[f.Primitive=0]="Primitive",f[f.Fused=1]="Fused"})(v.NodeType||(v.NodeType={}))})(g.fbs||(g.fbs={}))})(y.experimental||(y.experimental={}))}(t.onnxruntime||(t.onnxruntime={})),function(y){(function(g){(function(v){(function(f){f[f.NONE=0]="NONE",f[f.tensor_type=1]="tensor_type",f[f.sequence_type=2]="sequence_type",f[f.map_type=3]="map_type"})(v.TypeInfoValue||(v.TypeInfoValue={}))})(g.fbs||(g.fbs={}))})(y.experimental||(y.experimental={}))}(t.onnxruntime||(t.onnxruntime={})),function(y){(function(g){(function(v){class f{constructor(){this.bb=null,this.bb_pos=0}__init(r,e){return this.bb_pos=r,this.bb=e,this}static getRootAsShape(r,e){return(e||new f).__init(r.readInt32(r.position())+r.position(),r)}static getSizePrefixedRootAsShape(r,e){return r.setPosition(r.position()+u.flatbuffers.SIZE_PREFIX_LENGTH),(e||new f).__init(r.readInt32(r.position())+r.position(),r)}dim(r,e){let n=this.bb.__offset(this.bb_pos,4);return n?(e||new y.experimental.fbs.Dimension).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+n)+4*r),this.bb):null}dimLength(){let r=this.bb.__offset(this.bb_pos,4);return r?this.bb.__vector_len(this.bb_pos+r):0}static startShape(r){r.startObject(1)}static addDim(r,e){r.addFieldOffset(0,e,0)}static createDimVector(r,e){r.startVector(4,e.length,4);for(let n=e.length-1;n>=0;n--)r.addOffset(e[n]);return r.endVector()}static startDimVector(r,e){r.startVector(4,e,4)}static endShape(r){return r.endObject()}static createShape(r,e){return f.startShape(r),f.addDim(r,e),f.endShape(r)}}v.Shape=f})(g.fbs||(g.fbs={}))})(y.experimental||(y.experimental={}))}(t.onnxruntime||(t.onnxruntime={})),function(y){(function(g){(function(v){class f{constructor(){this.bb=null,this.bb_pos=0}__init(r,e){return this.bb_pos=r,this.bb=e,this}static getRootAsDimension(r,e){return(e||new f).__init(r.readInt32(r.position())+r.position(),r)}static getSizePrefixedRootAsDimension(r,e){return r.setPosition(r.position()+u.flatbuffers.SIZE_PREFIX_LENGTH),(e||new f).__init(r.readInt32(r.position())+r.position(),r)}value(r){let e=this.bb.__offset(this.bb_pos,4);return e?(r||new y.experimental.fbs.DimensionValue).__init(this.bb.__indirect(this.bb_pos+e),this.bb):null}denotation(r){let e=this.bb.__offset(this.bb_pos,6);return e?this.bb.__string(this.bb_pos+e,r):null}static startDimension(r){r.startObject(2)}static addValue(r,e){r.addFieldOffset(0,e,0)}static addDenotation(r,e){r.addFieldOffset(1,e,0)}static endDimension(r){return r.endObject()}static createDimension(r,e,n){return f.startDimension(r),f.addValue(r,e),f.addDenotation(r,n),f.endDimension(r)}}v.Dimension=f})(g.fbs||(g.fbs={}))})(y.experimental||(y.experimental={}))}(t.onnxruntime||(t.onnxruntime={})),function(y){(function(g){(function(v){class f{constructor(){this.bb=null,this.bb_pos=0}__init(r,e){return this.bb_pos=r,this.bb=e,this}static getRootAsDimensionValue(r,e){return(e||new f).__init(r.readInt32(r.position())+r.position(),r)}static getSizePrefixedRootAsDimensionValue(r,e){return r.setPosition(r.position()+u.flatbuffers.SIZE_PREFIX_LENGTH),(e||new f).__init(r.readInt32(r.position())+r.position(),r)}dimType(){let r=this.bb.__offset(this.bb_pos,4);return r?this.bb.readInt8(this.bb_pos+r):y.experimental.fbs.DimensionValueType.UNKNOWN}dimValue(){let r=this.bb.__offset(this.bb_pos,6);return r?this.bb.readInt64(this.bb_pos+r):this.bb.createLong(0,0)}dimParam(r){let e=this.bb.__offset(this.bb_pos,8);return e?this.bb.__string(this.bb_pos+e,r):null}static startDimensionValue(r){r.startObject(3)}static addDimType(r,e){r.addFieldInt8(0,e,y.experimental.fbs.DimensionValueType.UNKNOWN)}static addDimValue(r,e){r.addFieldInt64(1,e,r.createLong(0,0))}static addDimParam(r,e){r.addFieldOffset(2,e,0)}static endDimensionValue(r){return r.endObject()}static createDimensionValue(r,e,n,o){return f.startDimensionValue(r),f.addDimType(r,e),f.addDimValue(r,n),f.addDimParam(r,o),f.endDimensionValue(r)}}v.DimensionValue=f})(g.fbs||(g.fbs={}))})(y.experimental||(y.experimental={}))}(t.onnxruntime||(t.onnxruntime={})),function(y){(function(g){(function(v){class f{constructor(){this.bb=null,this.bb_pos=0}__init(r,e){return this.bb_pos=r,this.bb=e,this}static getRootAsTensorTypeAndShape(r,e){return(e||new f).__init(r.readInt32(r.position())+r.position(),r)}static getSizePrefixedRootAsTensorTypeAndShape(r,e){return r.setPosition(r.position()+u.flatbuffers.SIZE_PREFIX_LENGTH),(e||new f).__init(r.readInt32(r.position())+r.position(),r)}elemType(){let r=this.bb.__offset(this.bb_pos,4);return r?this.bb.readInt32(this.bb_pos+r):y.experimental.fbs.TensorDataType.UNDEFINED}shape(r){let e=this.bb.__offset(this.bb_pos,6);return e?(r||new y.experimental.fbs.Shape).__init(this.bb.__indirect(this.bb_pos+e),this.bb):null}static startTensorTypeAndShape(r){r.startObject(2)}static addElemType(r,e){r.addFieldInt32(0,e,y.experimental.fbs.TensorDataType.UNDEFINED)}static addShape(r,e){r.addFieldOffset(1,e,0)}static endTensorTypeAndShape(r){return r.endObject()}static createTensorTypeAndShape(r,e,n){return f.startTensorTypeAndShape(r),f.addElemType(r,e),f.addShape(r,n),f.endTensorTypeAndShape(r)}}v.TensorTypeAndShape=f})(g.fbs||(g.fbs={}))})(y.experimental||(y.experimental={}))}(t.onnxruntime||(t.onnxruntime={})),function(y){(function(g){(function(v){class f{constructor(){this.bb=null,this.bb_pos=0}__init(r,e){return this.bb_pos=r,this.bb=e,this}static getRootAsMapType(r,e){return(e||new f).__init(r.readInt32(r.position())+r.position(),r)}static getSizePrefixedRootAsMapType(r,e){return r.setPosition(r.position()+u.flatbuffers.SIZE_PREFIX_LENGTH),(e||new f).__init(r.readInt32(r.position())+r.position(),r)}keyType(){let r=this.bb.__offset(this.bb_pos,4);return r?this.bb.readInt32(this.bb_pos+r):y.experimental.fbs.TensorDataType.UNDEFINED}valueType(r){let e=this.bb.__offset(this.bb_pos,6);return e?(r||new y.experimental.fbs.TypeInfo).__init(this.bb.__indirect(this.bb_pos+e),this.bb):null}static startMapType(r){r.startObject(2)}static addKeyType(r,e){r.addFieldInt32(0,e,y.experimental.fbs.TensorDataType.UNDEFINED)}static addValueType(r,e){r.addFieldOffset(1,e,0)}static endMapType(r){return r.endObject()}static createMapType(r,e,n){return f.startMapType(r),f.addKeyType(r,e),f.addValueType(r,n),f.endMapType(r)}}v.MapType=f})(g.fbs||(g.fbs={}))})(y.experimental||(y.experimental={}))}(t.onnxruntime||(t.onnxruntime={})),function(y){(function(g){(function(v){class f{constructor(){this.bb=null,this.bb_pos=0}__init(r,e){return this.bb_pos=r,this.bb=e,this}static getRootAsSequenceType(r,e){return(e||new f).__init(r.readInt32(r.position())+r.position(),r)}static getSizePrefixedRootAsSequenceType(r,e){return r.setPosition(r.position()+u.flatbuffers.SIZE_PREFIX_LENGTH),(e||new f).__init(r.readInt32(r.position())+r.position(),r)}elemType(r){let e=this.bb.__offset(this.bb_pos,4);return e?(r||new y.experimental.fbs.TypeInfo).__init(this.bb.__indirect(this.bb_pos+e),this.bb):null}static startSequenceType(r){r.startObject(1)}static addElemType(r,e){r.addFieldOffset(0,e,0)}static endSequenceType(r){return r.endObject()}static createSequenceType(r,e){return f.startSequenceType(r),f.addElemType(r,e),f.endSequenceType(r)}}v.SequenceType=f})(g.fbs||(g.fbs={}))})(y.experimental||(y.experimental={}))}(t.onnxruntime||(t.onnxruntime={})),function(y){(function(g){(g.fbs||(g.fbs={})).EdgeEnd=class{constructor(){this.bb=null,this.bb_pos=0}__init(v,f){return this.bb_pos=v,this.bb=f,this}nodeIndex(){return this.bb.readUint32(this.bb_pos)}srcArgIndex(){return this.bb.readInt32(this.bb_pos+4)}dstArgIndex(){return this.bb.readInt32(this.bb_pos+8)}static createEdgeEnd(v,f,c,r){return v.prep(4,12),v.writeInt32(r),v.writeInt32(c),v.writeInt32(f),v.offset()}}})(y.experimental||(y.experimental={}))}(t.onnxruntime||(t.onnxruntime={})),function(y){(function(g){(function(v){class f{constructor(){this.bb=null,this.bb_pos=0}__init(r,e){return this.bb_pos=r,this.bb=e,this}static getRootAsNodeEdge(r,e){return(e||new f).__init(r.readInt32(r.position())+r.position(),r)}static getSizePrefixedRootAsNodeEdge(r,e){return r.setPosition(r.position()+u.flatbuffers.SIZE_PREFIX_LENGTH),(e||new f).__init(r.readInt32(r.position())+r.position(),r)}nodeIndex(){let r=this.bb.__offset(this.bb_pos,4);return r?this.bb.readUint32(this.bb_pos+r):0}inputEdges(r,e){let n=this.bb.__offset(this.bb_pos,6);return n?(e||new y.experimental.fbs.EdgeEnd).__init(this.bb.__vector(this.bb_pos+n)+12*r,this.bb):null}inputEdgesLength(){let r=this.bb.__offset(this.bb_pos,6);return r?this.bb.__vector_len(this.bb_pos+r):0}outputEdges(r,e){let n=this.bb.__offset(this.bb_pos,8);return n?(e||new y.experimental.fbs.EdgeEnd).__init(this.bb.__vector(this.bb_pos+n)+12*r,this.bb):null}outputEdgesLength(){let r=this.bb.__offset(this.bb_pos,8);return r?this.bb.__vector_len(this.bb_pos+r):0}static startNodeEdge(r){r.startObject(3)}static addNodeIndex(r,e){r.addFieldInt32(0,e,0)}static addInputEdges(r,e){r.addFieldOffset(1,e,0)}static startInputEdgesVector(r,e){r.startVector(12,e,4)}static addOutputEdges(r,e){r.addFieldOffset(2,e,0)}static startOutputEdgesVector(r,e){r.startVector(12,e,4)}static endNodeEdge(r){return r.endObject()}static createNodeEdge(r,e,n,o){return f.startNodeEdge(r),f.addNodeIndex(r,e),f.addInputEdges(r,n),f.addOutputEdges(r,o),f.endNodeEdge(r)}}v.NodeEdge=f})(g.fbs||(g.fbs={}))})(y.experimental||(y.experimental={}))}(t.onnxruntime||(t.onnxruntime={})),function(y){(function(g){(function(v){class f{constructor(){this.bb=null,this.bb_pos=0}__init(r,e){return this.bb_pos=r,this.bb=e,this}static getRootAsNode(r,e){return(e||new f).__init(r.readInt32(r.position())+r.position(),r)}static getSizePrefixedRootAsNode(r,e){return r.setPosition(r.position()+u.flatbuffers.SIZE_PREFIX_LENGTH),(e||new f).__init(r.readInt32(r.position())+r.position(),r)}name(r){let e=this.bb.__offset(this.bb_pos,4);return e?this.bb.__string(this.bb_pos+e,r):null}docString(r){let e=this.bb.__offset(this.bb_pos,6);return e?this.bb.__string(this.bb_pos+e,r):null}domain(r){let e=this.bb.__offset(this.bb_pos,8);return e?this.bb.__string(this.bb_pos+e,r):null}sinceVersion(){let r=this.bb.__offset(this.bb_pos,10);return r?this.bb.readInt32(this.bb_pos+r):0}index(){let r=this.bb.__offset(this.bb_pos,12);return r?this.bb.readUint32(this.bb_pos+r):0}opType(r){let e=this.bb.__offset(this.bb_pos,14);return e?this.bb.__string(this.bb_pos+e,r):null}type(){let r=this.bb.__offset(this.bb_pos,16);return r?this.bb.readInt32(this.bb_pos+r):y.experimental.fbs.NodeType.Primitive}executionProviderType(r){let e=this.bb.__offset(this.bb_pos,18);return e?this.bb.__string(this.bb_pos+e,r):null}inputs(r,e){let n=this.bb.__offset(this.bb_pos,20);return n?this.bb.__string(this.bb.__vector(this.bb_pos+n)+4*r,e):null}inputsLength(){let r=this.bb.__offset(this.bb_pos,20);return r?this.bb.__vector_len(this.bb_pos+r):0}outputs(r,e){let n=this.bb.__offset(this.bb_pos,22);return n?this.bb.__string(this.bb.__vector(this.bb_pos+n)+4*r,e):null}outputsLength(){let r=this.bb.__offset(this.bb_pos,22);return r?this.bb.__vector_len(this.bb_pos+r):0}attributes(r,e){let n=this.bb.__offset(this.bb_pos,24);return n?(e||new y.experimental.fbs.Attribute).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+n)+4*r),this.bb):null}attributesLength(){let r=this.bb.__offset(this.bb_pos,24);return r?this.bb.__vector_len(this.bb_pos+r):0}inputArgCounts(r){let e=this.bb.__offset(this.bb_pos,26);return e?this.bb.readInt32(this.bb.__vector(this.bb_pos+e)+4*r):0}inputArgCountsLength(){let r=this.bb.__offset(this.bb_pos,26);return r?this.bb.__vector_len(this.bb_pos+r):0}inputArgCountsArray(){let r=this.bb.__offset(this.bb_pos,26);return r?new Int32Array(this.bb.bytes().buffer,this.bb.bytes().byteOffset+this.bb.__vector(this.bb_pos+r),this.bb.__vector_len(this.bb_pos+r)):null}implicitInputs(r,e){let n=this.bb.__offset(this.bb_pos,28);return n?this.bb.__string(this.bb.__vector(this.bb_pos+n)+4*r,e):null}implicitInputsLength(){let r=this.bb.__offset(this.bb_pos,28);return r?this.bb.__vector_len(this.bb_pos+r):0}static startNode(r){r.startObject(13)}static addName(r,e){r.addFieldOffset(0,e,0)}static addDocString(r,e){r.addFieldOffset(1,e,0)}static addDomain(r,e){r.addFieldOffset(2,e,0)}static addSinceVersion(r,e){r.addFieldInt32(3,e,0)}static addIndex(r,e){r.addFieldInt32(4,e,0)}static addOpType(r,e){r.addFieldOffset(5,e,0)}static addType(r,e){r.addFieldInt32(6,e,y.experimental.fbs.NodeType.Primitive)}static addExecutionProviderType(r,e){r.addFieldOffset(7,e,0)}static addInputs(r,e){r.addFieldOffset(8,e,0)}static createInputsVector(r,e){r.startVector(4,e.length,4);for(let n=e.length-1;n>=0;n--)r.addOffset(e[n]);return r.endVector()}static startInputsVector(r,e){r.startVector(4,e,4)}static addOutputs(r,e){r.addFieldOffset(9,e,0)}static createOutputsVector(r,e){r.startVector(4,e.length,4);for(let n=e.length-1;n>=0;n--)r.addOffset(e[n]);return r.endVector()}static startOutputsVector(r,e){r.startVector(4,e,4)}static addAttributes(r,e){r.addFieldOffset(10,e,0)}static createAttributesVector(r,e){r.startVector(4,e.length,4);for(let n=e.length-1;n>=0;n--)r.addOffset(e[n]);return r.endVector()}static startAttributesVector(r,e){r.startVector(4,e,4)}static addInputArgCounts(r,e){r.addFieldOffset(11,e,0)}static createInputArgCountsVector(r,e){r.startVector(4,e.length,4);for(let n=e.length-1;n>=0;n--)r.addInt32(e[n]);return r.endVector()}static startInputArgCountsVector(r,e){r.startVector(4,e,4)}static addImplicitInputs(r,e){r.addFieldOffset(12,e,0)}static createImplicitInputsVector(r,e){r.startVector(4,e.length,4);for(let n=e.length-1;n>=0;n--)r.addOffset(e[n]);return r.endVector()}static startImplicitInputsVector(r,e){r.startVector(4,e,4)}static endNode(r){return r.endObject()}static createNode(r,e,n,o,m,_,x,w,S,O,A,I,P,L){return f.startNode(r),f.addName(r,e),f.addDocString(r,n),f.addDomain(r,o),f.addSinceVersion(r,m),f.addIndex(r,_),f.addOpType(r,x),f.addType(r,w),f.addExecutionProviderType(r,S),f.addInputs(r,O),f.addOutputs(r,A),f.addAttributes(r,I),f.addInputArgCounts(r,P),f.addImplicitInputs(r,L),f.endNode(r)}}v.Node=f})(g.fbs||(g.fbs={}))})(y.experimental||(y.experimental={}))}(t.onnxruntime||(t.onnxruntime={})),function(y){(function(g){(function(v){class f{constructor(){this.bb=null,this.bb_pos=0}__init(r,e){return this.bb_pos=r,this.bb=e,this}static getRootAsValueInfo(r,e){return(e||new f).__init(r.readInt32(r.position())+r.position(),r)}static getSizePrefixedRootAsValueInfo(r,e){return r.setPosition(r.position()+u.flatbuffers.SIZE_PREFIX_LENGTH),(e||new f).__init(r.readInt32(r.position())+r.position(),r)}name(r){let e=this.bb.__offset(this.bb_pos,4);return e?this.bb.__string(this.bb_pos+e,r):null}docString(r){let e=this.bb.__offset(this.bb_pos,6);return e?this.bb.__string(this.bb_pos+e,r):null}type(r){let e=this.bb.__offset(this.bb_pos,8);return e?(r||new y.experimental.fbs.TypeInfo).__init(this.bb.__indirect(this.bb_pos+e),this.bb):null}static startValueInfo(r){r.startObject(3)}static addName(r,e){r.addFieldOffset(0,e,0)}static addDocString(r,e){r.addFieldOffset(1,e,0)}static addType(r,e){r.addFieldOffset(2,e,0)}static endValueInfo(r){return r.endObject()}static createValueInfo(r,e,n,o){return f.startValueInfo(r),f.addName(r,e),f.addDocString(r,n),f.addType(r,o),f.endValueInfo(r)}}v.ValueInfo=f})(g.fbs||(g.fbs={}))})(y.experimental||(y.experimental={}))}(t.onnxruntime||(t.onnxruntime={})),function(y){(function(g){(function(v){class f{constructor(){this.bb=null,this.bb_pos=0}__init(r,e){return this.bb_pos=r,this.bb=e,this}static getRootAsTypeInfo(r,e){return(e||new f).__init(r.readInt32(r.position())+r.position(),r)}static getSizePrefixedRootAsTypeInfo(r,e){return r.setPosition(r.position()+u.flatbuffers.SIZE_PREFIX_LENGTH),(e||new f).__init(r.readInt32(r.position())+r.position(),r)}denotation(r){let e=this.bb.__offset(this.bb_pos,4);return e?this.bb.__string(this.bb_pos+e,r):null}valueType(){let r=this.bb.__offset(this.bb_pos,6);return r?this.bb.readUint8(this.bb_pos+r):y.experimental.fbs.TypeInfoValue.NONE}value(r){let e=this.bb.__offset(this.bb_pos,8);return e?this.bb.__union(r,this.bb_pos+e):null}static startTypeInfo(r){r.startObject(3)}static addDenotation(r,e){r.addFieldOffset(0,e,0)}static addValueType(r,e){r.addFieldInt8(1,e,y.experimental.fbs.TypeInfoValue.NONE)}static addValue(r,e){r.addFieldOffset(2,e,0)}static endTypeInfo(r){return r.endObject()}static createTypeInfo(r,e,n,o){return f.startTypeInfo(r),f.addDenotation(r,e),f.addValueType(r,n),f.addValue(r,o),f.endTypeInfo(r)}}v.TypeInfo=f})(g.fbs||(g.fbs={}))})(y.experimental||(y.experimental={}))}(t.onnxruntime||(t.onnxruntime={})),function(y){(function(g){(function(v){class f{constructor(){this.bb=null,this.bb_pos=0}__init(r,e){return this.bb_pos=r,this.bb=e,this}static getRootAsOperatorSetId(r,e){return(e||new f).__init(r.readInt32(r.position())+r.position(),r)}static getSizePrefixedRootAsOperatorSetId(r,e){return r.setPosition(r.position()+u.flatbuffers.SIZE_PREFIX_LENGTH),(e||new f).__init(r.readInt32(r.position())+r.position(),r)}domain(r){let e=this.bb.__offset(this.bb_pos,4);return e?this.bb.__string(this.bb_pos+e,r):null}version(){let r=this.bb.__offset(this.bb_pos,6);return r?this.bb.readInt64(this.bb_pos+r):this.bb.createLong(0,0)}static startOperatorSetId(r){r.startObject(2)}static addDomain(r,e){r.addFieldOffset(0,e,0)}static addVersion(r,e){r.addFieldInt64(1,e,r.createLong(0,0))}static endOperatorSetId(r){return r.endObject()}static createOperatorSetId(r,e,n){return f.startOperatorSetId(r),f.addDomain(r,e),f.addVersion(r,n),f.endOperatorSetId(r)}}v.OperatorSetId=f})(g.fbs||(g.fbs={}))})(y.experimental||(y.experimental={}))}(t.onnxruntime||(t.onnxruntime={})),function(y){(function(g){(function(v){class f{constructor(){this.bb=null,this.bb_pos=0}__init(r,e){return this.bb_pos=r,this.bb=e,this}static getRootAsTensor(r,e){return(e||new f).__init(r.readInt32(r.position())+r.position(),r)}static getSizePrefixedRootAsTensor(r,e){return r.setPosition(r.position()+u.flatbuffers.SIZE_PREFIX_LENGTH),(e||new f).__init(r.readInt32(r.position())+r.position(),r)}name(r){let e=this.bb.__offset(this.bb_pos,4);return e?this.bb.__string(this.bb_pos+e,r):null}docString(r){let e=this.bb.__offset(this.bb_pos,6);return e?this.bb.__string(this.bb_pos+e,r):null}dims(r){let e=this.bb.__offset(this.bb_pos,8);return e?this.bb.readInt64(this.bb.__vector(this.bb_pos+e)+8*r):this.bb.createLong(0,0)}dimsLength(){let r=this.bb.__offset(this.bb_pos,8);return r?this.bb.__vector_len(this.bb_pos+r):0}dataType(){let r=this.bb.__offset(this.bb_pos,10);return r?this.bb.readInt32(this.bb_pos+r):y.experimental.fbs.TensorDataType.UNDEFINED}rawData(r){let e=this.bb.__offset(this.bb_pos,12);return e?this.bb.readUint8(this.bb.__vector(this.bb_pos+e)+r):0}rawDataLength(){let r=this.bb.__offset(this.bb_pos,12);return r?this.bb.__vector_len(this.bb_pos+r):0}rawDataArray(){let r=this.bb.__offset(this.bb_pos,12);return r?new Uint8Array(this.bb.bytes().buffer,this.bb.bytes().byteOffset+this.bb.__vector(this.bb_pos+r),this.bb.__vector_len(this.bb_pos+r)):null}stringData(r,e){let n=this.bb.__offset(this.bb_pos,14);return n?this.bb.__string(this.bb.__vector(this.bb_pos+n)+4*r,e):null}stringDataLength(){let r=this.bb.__offset(this.bb_pos,14);return r?this.bb.__vector_len(this.bb_pos+r):0}static startTensor(r){r.startObject(6)}static addName(r,e){r.addFieldOffset(0,e,0)}static addDocString(r,e){r.addFieldOffset(1,e,0)}static addDims(r,e){r.addFieldOffset(2,e,0)}static createDimsVector(r,e){r.startVector(8,e.length,8);for(let n=e.length-1;n>=0;n--)r.addInt64(e[n]);return r.endVector()}static startDimsVector(r,e){r.startVector(8,e,8)}static addDataType(r,e){r.addFieldInt32(3,e,y.experimental.fbs.TensorDataType.UNDEFINED)}static addRawData(r,e){r.addFieldOffset(4,e,0)}static createRawDataVector(r,e){r.startVector(1,e.length,1);for(let n=e.length-1;n>=0;n--)r.addInt8(e[n]);return r.endVector()}static startRawDataVector(r,e){r.startVector(1,e,1)}static addStringData(r,e){r.addFieldOffset(5,e,0)}static createStringDataVector(r,e){r.startVector(4,e.length,4);for(let n=e.length-1;n>=0;n--)r.addOffset(e[n]);return r.endVector()}static startStringDataVector(r,e){r.startVector(4,e,4)}static endTensor(r){return r.endObject()}static createTensor(r,e,n,o,m,_,x){return f.startTensor(r),f.addName(r,e),f.addDocString(r,n),f.addDims(r,o),f.addDataType(r,m),f.addRawData(r,_),f.addStringData(r,x),f.endTensor(r)}}v.Tensor=f})(g.fbs||(g.fbs={}))})(y.experimental||(y.experimental={}))}(t.onnxruntime||(t.onnxruntime={})),function(y){(function(g){(function(v){class f{constructor(){this.bb=null,this.bb_pos=0}__init(r,e){return this.bb_pos=r,this.bb=e,this}static getRootAsSparseTensor(r,e){return(e||new f).__init(r.readInt32(r.position())+r.position(),r)}static getSizePrefixedRootAsSparseTensor(r,e){return r.setPosition(r.position()+u.flatbuffers.SIZE_PREFIX_LENGTH),(e||new f).__init(r.readInt32(r.position())+r.position(),r)}values(r){let e=this.bb.__offset(this.bb_pos,4);return e?(r||new y.experimental.fbs.Tensor).__init(this.bb.__indirect(this.bb_pos+e),this.bb):null}indices(r){let e=this.bb.__offset(this.bb_pos,6);return e?(r||new y.experimental.fbs.Tensor).__init(this.bb.__indirect(this.bb_pos+e),this.bb):null}dims(r){let e=this.bb.__offset(this.bb_pos,8);return e?this.bb.readInt64(this.bb.__vector(this.bb_pos+e)+8*r):this.bb.createLong(0,0)}dimsLength(){let r=this.bb.__offset(this.bb_pos,8);return r?this.bb.__vector_len(this.bb_pos+r):0}static startSparseTensor(r){r.startObject(3)}static addValues(r,e){r.addFieldOffset(0,e,0)}static addIndices(r,e){r.addFieldOffset(1,e,0)}static addDims(r,e){r.addFieldOffset(2,e,0)}static createDimsVector(r,e){r.startVector(8,e.length,8);for(let n=e.length-1;n>=0;n--)r.addInt64(e[n]);return r.endVector()}static startDimsVector(r,e){r.startVector(8,e,8)}static endSparseTensor(r){return r.endObject()}static createSparseTensor(r,e,n,o){return f.startSparseTensor(r),f.addValues(r,e),f.addIndices(r,n),f.addDims(r,o),f.endSparseTensor(r)}}v.SparseTensor=f})(g.fbs||(g.fbs={}))})(y.experimental||(y.experimental={}))}(t.onnxruntime||(t.onnxruntime={})),function(y){(function(g){(function(v){class f{constructor(){this.bb=null,this.bb_pos=0}__init(r,e){return this.bb_pos=r,this.bb=e,this}static getRootAsAttribute(r,e){return(e||new f).__init(r.readInt32(r.position())+r.position(),r)}static getSizePrefixedRootAsAttribute(r,e){return r.setPosition(r.position()+u.flatbuffers.SIZE_PREFIX_LENGTH),(e||new f).__init(r.readInt32(r.position())+r.position(),r)}name(r){let e=this.bb.__offset(this.bb_pos,4);return e?this.bb.__string(this.bb_pos+e,r):null}docString(r){let e=this.bb.__offset(this.bb_pos,6);return e?this.bb.__string(this.bb_pos+e,r):null}type(){let r=this.bb.__offset(this.bb_pos,8);return r?this.bb.readInt32(this.bb_pos+r):y.experimental.fbs.AttributeType.UNDEFINED}f(){let r=this.bb.__offset(this.bb_pos,10);return r?this.bb.readFloat32(this.bb_pos+r):0}i(){let r=this.bb.__offset(this.bb_pos,12);return r?this.bb.readInt64(this.bb_pos+r):this.bb.createLong(0,0)}s(r){let e=this.bb.__offset(this.bb_pos,14);return e?this.bb.__string(this.bb_pos+e,r):null}t(r){let e=this.bb.__offset(this.bb_pos,16);return e?(r||new y.experimental.fbs.Tensor).__init(this.bb.__indirect(this.bb_pos+e),this.bb):null}g(r){let e=this.bb.__offset(this.bb_pos,18);return e?(r||new y.experimental.fbs.Graph).__init(this.bb.__indirect(this.bb_pos+e),this.bb):null}floats(r){let e=this.bb.__offset(this.bb_pos,20);return e?this.bb.readFloat32(this.bb.__vector(this.bb_pos+e)+4*r):0}floatsLength(){let r=this.bb.__offset(this.bb_pos,20);return r?this.bb.__vector_len(this.bb_pos+r):0}floatsArray(){let r=this.bb.__offset(this.bb_pos,20);return r?new Float32Array(this.bb.bytes().buffer,this.bb.bytes().byteOffset+this.bb.__vector(this.bb_pos+r),this.bb.__vector_len(this.bb_pos+r)):null}ints(r){let e=this.bb.__offset(this.bb_pos,22);return e?this.bb.readInt64(this.bb.__vector(this.bb_pos+e)+8*r):this.bb.createLong(0,0)}intsLength(){let r=this.bb.__offset(this.bb_pos,22);return r?this.bb.__vector_len(this.bb_pos+r):0}strings(r,e){let n=this.bb.__offset(this.bb_pos,24);return n?this.bb.__string(this.bb.__vector(this.bb_pos+n)+4*r,e):null}stringsLength(){let r=this.bb.__offset(this.bb_pos,24);return r?this.bb.__vector_len(this.bb_pos+r):0}tensors(r,e){let n=this.bb.__offset(this.bb_pos,26);return n?(e||new y.experimental.fbs.Tensor).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+n)+4*r),this.bb):null}tensorsLength(){let r=this.bb.__offset(this.bb_pos,26);return r?this.bb.__vector_len(this.bb_pos+r):0}graphs(r,e){let n=this.bb.__offset(this.bb_pos,28);return n?(e||new y.experimental.fbs.Graph).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+n)+4*r),this.bb):null}graphsLength(){let r=this.bb.__offset(this.bb_pos,28);return r?this.bb.__vector_len(this.bb_pos+r):0}static startAttribute(r){r.startObject(13)}static addName(r,e){r.addFieldOffset(0,e,0)}static addDocString(r,e){r.addFieldOffset(1,e,0)}static addType(r,e){r.addFieldInt32(2,e,y.experimental.fbs.AttributeType.UNDEFINED)}static addF(r,e){r.addFieldFloat32(3,e,0)}static addI(r,e){r.addFieldInt64(4,e,r.createLong(0,0))}static addS(r,e){r.addFieldOffset(5,e,0)}static addT(r,e){r.addFieldOffset(6,e,0)}static addG(r,e){r.addFieldOffset(7,e,0)}static addFloats(r,e){r.addFieldOffset(8,e,0)}static createFloatsVector(r,e){r.startVector(4,e.length,4);for(let n=e.length-1;n>=0;n--)r.addFloat32(e[n]);return r.endVector()}static startFloatsVector(r,e){r.startVector(4,e,4)}static addInts(r,e){r.addFieldOffset(9,e,0)}static createIntsVector(r,e){r.startVector(8,e.length,8);for(let n=e.length-1;n>=0;n--)r.addInt64(e[n]);return r.endVector()}static startIntsVector(r,e){r.startVector(8,e,8)}static addStrings(r,e){r.addFieldOffset(10,e,0)}static createStringsVector(r,e){r.startVector(4,e.length,4);for(let n=e.length-1;n>=0;n--)r.addOffset(e[n]);return r.endVector()}static startStringsVector(r,e){r.startVector(4,e,4)}static addTensors(r,e){r.addFieldOffset(11,e,0)}static createTensorsVector(r,e){r.startVector(4,e.length,4);for(let n=e.length-1;n>=0;n--)r.addOffset(e[n]);return r.endVector()}static startTensorsVector(r,e){r.startVector(4,e,4)}static addGraphs(r,e){r.addFieldOffset(12,e,0)}static createGraphsVector(r,e){r.startVector(4,e.length,4);for(let n=e.length-1;n>=0;n--)r.addOffset(e[n]);return r.endVector()}static startGraphsVector(r,e){r.startVector(4,e,4)}static endAttribute(r){return r.endObject()}static createAttribute(r,e,n,o,m,_,x,w,S,O,A,I,P,L){return f.startAttribute(r),f.addName(r,e),f.addDocString(r,n),f.addType(r,o),f.addF(r,m),f.addI(r,_),f.addS(r,x),f.addT(r,w),f.addG(r,S),f.addFloats(r,O),f.addInts(r,A),f.addStrings(r,I),f.addTensors(r,P),f.addGraphs(r,L),f.endAttribute(r)}}v.Attribute=f})(g.fbs||(g.fbs={}))})(y.experimental||(y.experimental={}))}(t.onnxruntime||(t.onnxruntime={})),function(y){(function(g){(function(v){class f{constructor(){this.bb=null,this.bb_pos=0}__init(r,e){return this.bb_pos=r,this.bb=e,this}static getRootAsGraph(r,e){return(e||new f).__init(r.readInt32(r.position())+r.position(),r)}static getSizePrefixedRootAsGraph(r,e){return r.setPosition(r.position()+u.flatbuffers.SIZE_PREFIX_LENGTH),(e||new f).__init(r.readInt32(r.position())+r.position(),r)}initializers(r,e){let n=this.bb.__offset(this.bb_pos,4);return n?(e||new y.experimental.fbs.Tensor).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+n)+4*r),this.bb):null}initializersLength(){let r=this.bb.__offset(this.bb_pos,4);return r?this.bb.__vector_len(this.bb_pos+r):0}nodeArgs(r,e){let n=this.bb.__offset(this.bb_pos,6);return n?(e||new y.experimental.fbs.ValueInfo).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+n)+4*r),this.bb):null}nodeArgsLength(){let r=this.bb.__offset(this.bb_pos,6);return r?this.bb.__vector_len(this.bb_pos+r):0}nodes(r,e){let n=this.bb.__offset(this.bb_pos,8);return n?(e||new y.experimental.fbs.Node).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+n)+4*r),this.bb):null}nodesLength(){let r=this.bb.__offset(this.bb_pos,8);return r?this.bb.__vector_len(this.bb_pos+r):0}maxNodeIndex(){let r=this.bb.__offset(this.bb_pos,10);return r?this.bb.readUint32(this.bb_pos+r):0}nodeEdges(r,e){let n=this.bb.__offset(this.bb_pos,12);return n?(e||new y.experimental.fbs.NodeEdge).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+n)+4*r),this.bb):null}nodeEdgesLength(){let r=this.bb.__offset(this.bb_pos,12);return r?this.bb.__vector_len(this.bb_pos+r):0}inputs(r,e){let n=this.bb.__offset(this.bb_pos,14);return n?this.bb.__string(this.bb.__vector(this.bb_pos+n)+4*r,e):null}inputsLength(){let r=this.bb.__offset(this.bb_pos,14);return r?this.bb.__vector_len(this.bb_pos+r):0}outputs(r,e){let n=this.bb.__offset(this.bb_pos,16);return n?this.bb.__string(this.bb.__vector(this.bb_pos+n)+4*r,e):null}outputsLength(){let r=this.bb.__offset(this.bb_pos,16);return r?this.bb.__vector_len(this.bb_pos+r):0}sparseInitializers(r,e){let n=this.bb.__offset(this.bb_pos,18);return n?(e||new y.experimental.fbs.SparseTensor).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+n)+4*r),this.bb):null}sparseInitializersLength(){let r=this.bb.__offset(this.bb_pos,18);return r?this.bb.__vector_len(this.bb_pos+r):0}static startGraph(r){r.startObject(8)}static addInitializers(r,e){r.addFieldOffset(0,e,0)}static createInitializersVector(r,e){r.startVector(4,e.length,4);for(let n=e.length-1;n>=0;n--)r.addOffset(e[n]);return r.endVector()}static startInitializersVector(r,e){r.startVector(4,e,4)}static addNodeArgs(r,e){r.addFieldOffset(1,e,0)}static createNodeArgsVector(r,e){r.startVector(4,e.length,4);for(let n=e.length-1;n>=0;n--)r.addOffset(e[n]);return r.endVector()}static startNodeArgsVector(r,e){r.startVector(4,e,4)}static addNodes(r,e){r.addFieldOffset(2,e,0)}static createNodesVector(r,e){r.startVector(4,e.length,4);for(let n=e.length-1;n>=0;n--)r.addOffset(e[n]);return r.endVector()}static startNodesVector(r,e){r.startVector(4,e,4)}static addMaxNodeIndex(r,e){r.addFieldInt32(3,e,0)}static addNodeEdges(r,e){r.addFieldOffset(4,e,0)}static createNodeEdgesVector(r,e){r.startVector(4,e.length,4);for(let n=e.length-1;n>=0;n--)r.addOffset(e[n]);return r.endVector()}static startNodeEdgesVector(r,e){r.startVector(4,e,4)}static addInputs(r,e){r.addFieldOffset(5,e,0)}static createInputsVector(r,e){r.startVector(4,e.length,4);for(let n=e.length-1;n>=0;n--)r.addOffset(e[n]);return r.endVector()}static startInputsVector(r,e){r.startVector(4,e,4)}static addOutputs(r,e){r.addFieldOffset(6,e,0)}static createOutputsVector(r,e){r.startVector(4,e.length,4);for(let n=e.length-1;n>=0;n--)r.addOffset(e[n]);return r.endVector()}static startOutputsVector(r,e){r.startVector(4,e,4)}static addSparseInitializers(r,e){r.addFieldOffset(7,e,0)}static createSparseInitializersVector(r,e){r.startVector(4,e.length,4);for(let n=e.length-1;n>=0;n--)r.addOffset(e[n]);return r.endVector()}static startSparseInitializersVector(r,e){r.startVector(4,e,4)}static endGraph(r){return r.endObject()}static createGraph(r,e,n,o,m,_,x,w,S){return f.startGraph(r),f.addInitializers(r,e),f.addNodeArgs(r,n),f.addNodes(r,o),f.addMaxNodeIndex(r,m),f.addNodeEdges(r,_),f.addInputs(r,x),f.addOutputs(r,w),f.addSparseInitializers(r,S),f.endGraph(r)}}v.Graph=f})(g.fbs||(g.fbs={}))})(y.experimental||(y.experimental={}))}(t.onnxruntime||(t.onnxruntime={})),function(y){(function(g){(function(v){class f{constructor(){this.bb=null,this.bb_pos=0}__init(r,e){return this.bb_pos=r,this.bb=e,this}static getRootAsModel(r,e){return(e||new f).__init(r.readInt32(r.position())+r.position(),r)}static getSizePrefixedRootAsModel(r,e){return r.setPosition(r.position()+u.flatbuffers.SIZE_PREFIX_LENGTH),(e||new f).__init(r.readInt32(r.position())+r.position(),r)}irVersion(){let r=this.bb.__offset(this.bb_pos,4);return r?this.bb.readInt64(this.bb_pos+r):this.bb.createLong(0,0)}opsetImport(r,e){let n=this.bb.__offset(this.bb_pos,6);return n?(e||new y.experimental.fbs.OperatorSetId).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+n)+4*r),this.bb):null}opsetImportLength(){let r=this.bb.__offset(this.bb_pos,6);return r?this.bb.__vector_len(this.bb_pos+r):0}producerName(r){let e=this.bb.__offset(this.bb_pos,8);return e?this.bb.__string(this.bb_pos+e,r):null}producerVersion(r){let e=this.bb.__offset(this.bb_pos,10);return e?this.bb.__string(this.bb_pos+e,r):null}domain(r){let e=this.bb.__offset(this.bb_pos,12);return e?this.bb.__string(this.bb_pos+e,r):null}modelVersion(){let r=this.bb.__offset(this.bb_pos,14);return r?this.bb.readInt64(this.bb_pos+r):this.bb.createLong(0,0)}docString(r){let e=this.bb.__offset(this.bb_pos,16);return e?this.bb.__string(this.bb_pos+e,r):null}graph(r){let e=this.bb.__offset(this.bb_pos,18);return e?(r||new y.experimental.fbs.Graph).__init(this.bb.__indirect(this.bb_pos+e),this.bb):null}graphDocString(r){let e=this.bb.__offset(this.bb_pos,20);return e?this.bb.__string(this.bb_pos+e,r):null}static startModel(r){r.startObject(9)}static addIrVersion(r,e){r.addFieldInt64(0,e,r.createLong(0,0))}static addOpsetImport(r,e){r.addFieldOffset(1,e,0)}static createOpsetImportVector(r,e){r.startVector(4,e.length,4);for(let n=e.length-1;n>=0;n--)r.addOffset(e[n]);return r.endVector()}static startOpsetImportVector(r,e){r.startVector(4,e,4)}static addProducerName(r,e){r.addFieldOffset(2,e,0)}static addProducerVersion(r,e){r.addFieldOffset(3,e,0)}static addDomain(r,e){r.addFieldOffset(4,e,0)}static addModelVersion(r,e){r.addFieldInt64(5,e,r.createLong(0,0))}static addDocString(r,e){r.addFieldOffset(6,e,0)}static addGraph(r,e){r.addFieldOffset(7,e,0)}static addGraphDocString(r,e){r.addFieldOffset(8,e,0)}static endModel(r){return r.endObject()}static createModel(r,e,n,o,m,_,x,w,S,O){return f.startModel(r),f.addIrVersion(r,e),f.addOpsetImport(r,n),f.addProducerName(r,o),f.addProducerVersion(r,m),f.addDomain(r,_),f.addModelVersion(r,x),f.addDocString(r,w),f.addGraph(r,S),f.addGraphDocString(r,O),f.endModel(r)}}v.Model=f})(g.fbs||(g.fbs={}))})(y.experimental||(y.experimental={}))}(t.onnxruntime||(t.onnxruntime={})),function(y){(function(g){(function(v){class f{constructor(){this.bb=null,this.bb_pos=0}__init(r,e){return this.bb_pos=r,this.bb=e,this}static getRootAsKernelCreateInfos(r,e){return(e||new f).__init(r.readInt32(r.position())+r.position(),r)}static getSizePrefixedRootAsKernelCreateInfos(r,e){return r.setPosition(r.position()+u.flatbuffers.SIZE_PREFIX_LENGTH),(e||new f).__init(r.readInt32(r.position())+r.position(),r)}nodeIndices(r){let e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readUint32(this.bb.__vector(this.bb_pos+e)+4*r):0}nodeIndicesLength(){let r=this.bb.__offset(this.bb_pos,4);return r?this.bb.__vector_len(this.bb_pos+r):0}nodeIndicesArray(){let r=this.bb.__offset(this.bb_pos,4);return r?new Uint32Array(this.bb.bytes().buffer,this.bb.bytes().byteOffset+this.bb.__vector(this.bb_pos+r),this.bb.__vector_len(this.bb_pos+r)):null}kernelDefHashes(r){let e=this.bb.__offset(this.bb_pos,6);return e?this.bb.readUint64(this.bb.__vector(this.bb_pos+e)+8*r):this.bb.createLong(0,0)}kernelDefHashesLength(){let r=this.bb.__offset(this.bb_pos,6);return r?this.bb.__vector_len(this.bb_pos+r):0}static startKernelCreateInfos(r){r.startObject(2)}static addNodeIndices(r,e){r.addFieldOffset(0,e,0)}static createNodeIndicesVector(r,e){r.startVector(4,e.length,4);for(let n=e.length-1;n>=0;n--)r.addInt32(e[n]);return r.endVector()}static startNodeIndicesVector(r,e){r.startVector(4,e,4)}static addKernelDefHashes(r,e){r.addFieldOffset(1,e,0)}static createKernelDefHashesVector(r,e){r.startVector(8,e.length,8);for(let n=e.length-1;n>=0;n--)r.addInt64(e[n]);return r.endVector()}static startKernelDefHashesVector(r,e){r.startVector(8,e,8)}static endKernelCreateInfos(r){return r.endObject()}static createKernelCreateInfos(r,e,n){return f.startKernelCreateInfos(r),f.addNodeIndices(r,e),f.addKernelDefHashes(r,n),f.endKernelCreateInfos(r)}}v.KernelCreateInfos=f})(g.fbs||(g.fbs={}))})(y.experimental||(y.experimental={}))}(t.onnxruntime||(t.onnxruntime={})),function(y){(function(g){(function(v){class f{constructor(){this.bb=null,this.bb_pos=0}__init(r,e){return this.bb_pos=r,this.bb=e,this}static getRootAsSubGraphSessionState(r,e){return(e||new f).__init(r.readInt32(r.position())+r.position(),r)}static getSizePrefixedRootAsSubGraphSessionState(r,e){return r.setPosition(r.position()+u.flatbuffers.SIZE_PREFIX_LENGTH),(e||new f).__init(r.readInt32(r.position())+r.position(),r)}graphId(r){let e=this.bb.__offset(this.bb_pos,4);return e?this.bb.__string(this.bb_pos+e,r):null}sessionState(r){let e=this.bb.__offset(this.bb_pos,6);return e?(r||new y.experimental.fbs.SessionState).__init(this.bb.__indirect(this.bb_pos+e),this.bb):null}static startSubGraphSessionState(r){r.startObject(2)}static addGraphId(r,e){r.addFieldOffset(0,e,0)}static addSessionState(r,e){r.addFieldOffset(1,e,0)}static endSubGraphSessionState(r){let e=r.endObject();return r.requiredField(e,4),e}static createSubGraphSessionState(r,e,n){return f.startSubGraphSessionState(r),f.addGraphId(r,e),f.addSessionState(r,n),f.endSubGraphSessionState(r)}}v.SubGraphSessionState=f})(g.fbs||(g.fbs={}))})(y.experimental||(y.experimental={}))}(t.onnxruntime||(t.onnxruntime={})),function(y){(function(g){(function(v){class f{constructor(){this.bb=null,this.bb_pos=0}__init(r,e){return this.bb_pos=r,this.bb=e,this}static getRootAsSessionState(r,e){return(e||new f).__init(r.readInt32(r.position())+r.position(),r)}static getSizePrefixedRootAsSessionState(r,e){return r.setPosition(r.position()+u.flatbuffers.SIZE_PREFIX_LENGTH),(e||new f).__init(r.readInt32(r.position())+r.position(),r)}kernels(r){let e=this.bb.__offset(this.bb_pos,4);return e?(r||new y.experimental.fbs.KernelCreateInfos).__init(this.bb.__indirect(this.bb_pos+e),this.bb):null}subGraphSessionStates(r,e){let n=this.bb.__offset(this.bb_pos,6);return n?(e||new y.experimental.fbs.SubGraphSessionState).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+n)+4*r),this.bb):null}subGraphSessionStatesLength(){let r=this.bb.__offset(this.bb_pos,6);return r?this.bb.__vector_len(this.bb_pos+r):0}static startSessionState(r){r.startObject(2)}static addKernels(r,e){r.addFieldOffset(0,e,0)}static addSubGraphSessionStates(r,e){r.addFieldOffset(1,e,0)}static createSubGraphSessionStatesVector(r,e){r.startVector(4,e.length,4);for(let n=e.length-1;n>=0;n--)r.addOffset(e[n]);return r.endVector()}static startSubGraphSessionStatesVector(r,e){r.startVector(4,e,4)}static endSessionState(r){return r.endObject()}static createSessionState(r,e,n){return f.startSessionState(r),f.addKernels(r,e),f.addSubGraphSessionStates(r,n),f.endSessionState(r)}}v.SessionState=f})(g.fbs||(g.fbs={}))})(y.experimental||(y.experimental={}))}(t.onnxruntime||(t.onnxruntime={})),function(y){(function(g){(function(v){class f{constructor(){this.bb=null,this.bb_pos=0}__init(r,e){return this.bb_pos=r,this.bb=e,this}static getRootAsInferenceSession(r,e){return(e||new f).__init(r.readInt32(r.position())+r.position(),r)}static getSizePrefixedRootAsInferenceSession(r,e){return r.setPosition(r.position()+u.flatbuffers.SIZE_PREFIX_LENGTH),(e||new f).__init(r.readInt32(r.position())+r.position(),r)}static bufferHasIdentifier(r){return r.__has_identifier("ORTM")}ortVersion(r){let e=this.bb.__offset(this.bb_pos,4);return e?this.bb.__string(this.bb_pos+e,r):null}model(r){let e=this.bb.__offset(this.bb_pos,6);return e?(r||new y.experimental.fbs.Model).__init(this.bb.__indirect(this.bb_pos+e),this.bb):null}sessionState(r){let e=this.bb.__offset(this.bb_pos,8);return e?(r||new y.experimental.fbs.SessionState).__init(this.bb.__indirect(this.bb_pos+e),this.bb):null}static startInferenceSession(r){r.startObject(3)}static addOrtVersion(r,e){r.addFieldOffset(0,e,0)}static addModel(r,e){r.addFieldOffset(1,e,0)}static addSessionState(r,e){r.addFieldOffset(2,e,0)}static endInferenceSession(r){return r.endObject()}static finishInferenceSessionBuffer(r,e){r.finish(e,"ORTM")}static finishSizePrefixedInferenceSessionBuffer(r,e){r.finish(e,"ORTM",!0)}static createInferenceSession(r,e,n,o){return f.startInferenceSession(r),f.addOrtVersion(r,e),f.addModel(r,n),f.addSessionState(r,o),f.endInferenceSession(r)}}v.InferenceSession=f})(g.fbs||(g.fbs={}))})(y.experimental||(y.experimental={}))}(t.onnxruntime||(t.onnxruntime={}))},1723:(i,t,s)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.OnnxjsSessionHandler=void 0;const u=s(2235),l=s(9240);t.OnnxjsSessionHandler=class{constructor(d){this.session=d,this.inputNames=this.session.inputNames,this.outputNames=this.session.outputNames}async dispose(){}async run(d,y,g){const v=new Map;for(const r in d)if(Object.hasOwnProperty.call(d,r)){const e=d[r];v.set(r,new l.Tensor(e.dims,e.type,void 0,void 0,e.data))}const f=await this.session.run(v),c={};return f.forEach((r,e)=>{c[e]=new u.Tensor(r.type,r.data,r.dims)}),c}startProfiling(){this.session.startProfiling()}endProfiling(){this.session.endProfiling()}}},6027:(i,t,s)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.Session=void 0;const u=s(7067),l=s(1296),d=s(1975),y=s(6496),g=s(1315),v=s(1745);t.Session=class{constructor(f={}){this._initialized=!1,this.backendHint=f.backendHint,this.profiler=g.Profiler.create(f.profiler),this.context={profiler:this.profiler,graphInputTypes:[],graphInputDims:[]}}get inputNames(){return this._model.graph.getInputNames()}get outputNames(){return this._model.graph.getOutputNames()}startProfiling(){this.profiler.start()}endProfiling(){this.profiler.stop()}async loadModel(f,c,r){await this.profiler.event("session","Session.loadModel",async()=>{const e=await(0,d.resolveBackend)(this.backendHint);if(this.sessionHandler=e.createSessionHandler(this.context),this._model=new v.Model,typeof f=="string"){const n=f.endsWith(".ort");if(typeof process<"u"&&process.versions&&process.versions.node){const o=await(0,l.promisify)(u.readFile)(f);this.initialize(o,n)}else{const o=await fetch(f),m=await o.arrayBuffer();this.initialize(new Uint8Array(m),n)}}else if(ArrayBuffer.isView(f))this.initialize(f);else{const n=new Uint8Array(f,c||0,r||f.byteLength);this.initialize(n)}})}initialize(f,c){if(this._initialized)throw new Error("already initialized");this.profiler.event("session","Session.initialize",()=>{const r=this.sessionHandler.transformGraph?this.sessionHandler:void 0;this._model.load(f,r,c),this.sessionHandler.onGraphInitialized&&this.sessionHandler.onGraphInitialized(this._model.graph),this.initializeOps(this._model.graph),this._executionPlan=new y.ExecutionPlan(this._model.graph,this._ops,this.profiler)}),this._initialized=!0}async run(f){if(!this._initialized)throw new Error("session not initialized yet");return this.profiler.event("session","Session.run",async()=>{const c=this.normalizeAndValidateInputs(f),r=await this._executionPlan.execute(this.sessionHandler,c);return this.createOutput(r)})}normalizeAndValidateInputs(f){const c=this._model.graph.getInputNames();if(Array.isArray(f)){if(f.length!==c.length)throw new Error(`incorrect input array length: expected ${c.length} but got ${f.length}`)}else{if(f.size!==c.length)throw new Error(`incorrect input map size: expected ${c.length} but got ${f.size}`);const r=new Array(f.size);let e=0;for(let n=0;n<c.length;++n){const o=f.get(c[n]);if(!o)throw new Error(`missing input tensor for: '${name}'`);r[e++]=o}f=r}if(this.context.graphInputTypes&&this.context.graphInputTypes.length!==0&&this.context.graphInputDims&&this.context.graphInputDims.length!==0)this.validateInputTensorDims(this.context.graphInputDims,f,!1);else{const r=this._model.graph.getInputIndices(),e=this._model.graph.getValues(),n=new Array(r.length);for(let o=0;o<r.length;++o){const m=e[r[o]];n[o]=m.type.shape.dims,this.context.graphInputTypes.push(m.type.tensorType),this.context.graphInputDims.push(f[o].dims)}this.validateInputTensorDims(n,f,!0)}return this.validateInputTensorTypes(this.context.graphInputTypes,f),f}validateInputTensorTypes(f,c){for(let r=0;r<c.length;r++){const e=f[r],n=c[r].type;if(e!==n)throw new Error(`input tensor[${r}] check failed: expected type '${e}' but got ${n}`)}}validateInputTensorDims(f,c,r){for(let e=0;e<c.length;e++){const n=f[e],o=c[e].dims;if(!this.compareTensorDims(n,o,r))throw new Error(`input tensor[${e}] check failed: expected shape '[${n.join(",")}]' but got [${o.join(",")}]`)}}compareTensorDims(f,c,r){if(f.length!==c.length)return!1;for(let e=0;e<f.length;++e)if(f[e]!==c[e]&&(!r||f[e]!==0))return!1;return!0}createOutput(f){const c=this._model.graph.getOutputNames();if(f.length!==c.length)throw new Error("expected number of outputs do not match number of generated outputs");const r=new Map;for(let e=0;e<c.length;++e)r.set(c[e],f[e]);return r}initializeOps(f){const c=f.getNodes();this._ops=new Array(c.length);for(let r=0;r<c.length;r++)this._ops[r]=this.sessionHandler.resolve(c[r],this._model.opsets,f)}}},9240:function(i,t,s){var u=this&&this.__importDefault||function(m){return m&&m.__esModule?m:{default:m}};Object.defineProperty(t,"__esModule",{value:!0}),t.Tensor=void 0;const l=s(3442),d=u(s(1583)),y=s(5127),g=s(2446),v=s(7273);var f=y.onnxruntime.experimental.fbs;class c{get data(){if(this.cache===void 0){const _=this.dataProvider(this.dataId);if(_.length!==this.size)throw new Error("Length of data provided by the Data Provider is inconsistent with the dims of this Tensor.");this.cache=_}return this.cache}get stringData(){if(this.type!=="string")throw new TypeError("data type is not string");return this.data}get integerData(){switch(this.type){case"uint8":case"int8":case"uint16":case"int16":case"int32":case"uint32":case"bool":return this.data;default:throw new TypeError("data type is not integer (uint8, int8, uint16, int16, int32, uint32, bool)")}}get floatData(){switch(this.type){case"float32":case"float64":return this.data;default:throw new TypeError("data type is not float (float32, float64)")}}get numberData(){if(this.type!=="string")return this.data;throw new TypeError("type cannot be non-number (string)")}get(_){return this.data[v.ShapeUtil.indicesToOffset(_,this.strides)]}set(_,x){this.data[v.ShapeUtil.indicesToOffset(_,this.strides)]=x}async getData(){return this.cache===void 0&&(this.cache=await this.asyncDataProvider(this.dataId)),this.cache}get strides(){return this._strides||(this._strides=v.ShapeUtil.computeStrides(this.dims)),this._strides}constructor(_,x,w,S,O,A=l.Guid.create()){this.dims=_,this.type=x,this.dataProvider=w,this.asyncDataProvider=S,this.cache=O,this.dataId=A,this.size=v.ShapeUtil.validateDimsAndCalcSize(_);const I=this.size,P=w===void 0&&S===void 0&&O===void 0;if(O!==void 0&&O.length!==I)throw new RangeError("Input dims doesn't match data length.");if(x==="string"){if(!(O===void 0||Array.isArray(O)&&O.every(L=>typeof L=="string")))throw new TypeError("cache should be a string array");P&&(this.cache=new Array(I))}else{if(O!==void 0){const L=e(x);if(!(O instanceof L))throw new TypeError(`cache should be type ${L.name}`)}if(P){const L=new ArrayBuffer(I*function(U){switch(U){case"bool":case"int8":case"uint8":return 1;case"int16":case"uint16":return 2;case"int32":case"uint32":case"float32":return 4;case"float64":return 8;default:throw new Error(`cannot calculate sizeof() on type ${U}`)}}(x));this.cache=function(U,G){return new(e(G))(U)}(L,x)}}}static fromProto(_){if(!_)throw new Error("cannot construct Value from an empty tensor");const x=v.ProtoUtil.tensorDataTypeFromProto(_.dataType),w=v.ProtoUtil.tensorDimsFromProto(_.dims),S=new c(w,x);if(x==="string")_.stringData.forEach((O,A)=>{S.data[A]=(0,v.decodeUtf8String)(O)});else if(_.rawData&&typeof _.rawData.byteLength=="number"&&_.rawData.byteLength>0){const O=S.data,A=new DataView(_.rawData.buffer,_.rawData.byteOffset,_.rawData.byteLength),I=r(_.dataType),P=_.rawData.byteLength/I;if(_.rawData.byteLength%I!=0)throw new Error("invalid buffer length");if(O.length!==P)throw new Error("buffer length mismatch");for(let L=0;L<P;L++){const U=o(A,_.dataType,L*I);O[L]=U}}else{let O;switch(_.dataType){case g.onnx.TensorProto.DataType.FLOAT:O=_.floatData;break;case g.onnx.TensorProto.DataType.INT32:case g.onnx.TensorProto.DataType.INT16:case g.onnx.TensorProto.DataType.UINT16:case g.onnx.TensorProto.DataType.INT8:case g.onnx.TensorProto.DataType.UINT8:case g.onnx.TensorProto.DataType.BOOL:O=_.int32Data;break;case g.onnx.TensorProto.DataType.INT64:O=_.int64Data;break;case g.onnx.TensorProto.DataType.DOUBLE:O=_.doubleData;break;case g.onnx.TensorProto.DataType.UINT32:case g.onnx.TensorProto.DataType.UINT64:O=_.uint64Data;break;default:throw new Error("unspecific error")}if(O==null)throw new Error("failed to populate data from a tensorproto value");const A=S.data;if(A.length!==O.length)throw new Error("array length mismatch");for(let I=0;I<O.length;I++){const P=O[I];d.default.isLong(P)?A[I]=n(P,_.dataType):A[I]=P}}return S}static fromData(_,x,w){return new c(x,w,void 0,void 0,_)}static fromOrtTensor(_){if(!_)throw new Error("cannot construct Value from an empty tensor");const x=v.ProtoUtil.tensorDimsFromORTFormat(_),w=v.ProtoUtil.tensorDataTypeFromProto(_.dataType()),S=new c(x,w);if(w==="string")for(let O=0;O<_.stringDataLength();O++)S.data[O]=_.stringData(O);else if(_.rawDataArray()&&typeof _.rawDataLength()=="number"&&_.rawDataLength()>0){const O=S.data,A=new DataView(_.rawDataArray().buffer,_.rawDataArray().byteOffset,_.rawDataLength()),I=r(_.dataType()),P=_.rawDataLength()/I;if(_.rawDataLength()%I!=0)throw new Error("invalid buffer length");if(O.length!==P)throw new Error("buffer length mismatch");for(let L=0;L<P;L++){const U=o(A,_.dataType(),L*I);O[L]=U}}return S}}function r(m){switch(m){case g.onnx.TensorProto.DataType.UINT8:case g.onnx.TensorProto.DataType.INT8:case g.onnx.TensorProto.DataType.BOOL:return 1;case g.onnx.TensorProto.DataType.UINT16:case g.onnx.TensorProto.DataType.INT16:return 2;case g.onnx.TensorProto.DataType.FLOAT:case g.onnx.TensorProto.DataType.INT32:case g.onnx.TensorProto.DataType.UINT32:return 4;case g.onnx.TensorProto.DataType.INT64:case g.onnx.TensorProto.DataType.DOUBLE:case g.onnx.TensorProto.DataType.UINT64:return 8;default:throw new Error(`cannot calculate sizeof() on type ${g.onnx.TensorProto.DataType[m]}`)}}function e(m){switch(m){case"bool":case"uint8":return Uint8Array;case"int8":return Int8Array;case"int16":return Int16Array;case"uint16":return Uint16Array;case"int32":return Int32Array;case"uint32":return Uint32Array;case"int64":return BigInt64Array;case"float32":return Float32Array;case"float64":return Float64Array;default:throw new Error("unspecified error")}}function n(m,_){if(_===g.onnx.TensorProto.DataType.INT64||_===f.TensorDataType.INT64){if(m.greaterThanOrEqual(2147483648)||m.lessThan(-2147483648))throw new TypeError("int64 is not supported")}else{if(_!==g.onnx.TensorProto.DataType.UINT32&&_!==f.TensorDataType.UINT32&&_!==g.onnx.TensorProto.DataType.UINT64&&_!==f.TensorDataType.UINT64)throw new TypeError(`not a LONG type: ${g.onnx.TensorProto.DataType[_]}`);if(m.greaterThanOrEqual(4294967296)||m.lessThan(0))throw new TypeError("uint64 is not supported")}return m.toNumber()}function o(m,_,x){switch(_){case g.onnx.TensorProto.DataType.BOOL:case g.onnx.TensorProto.DataType.UINT8:return m.getUint8(x);case g.onnx.TensorProto.DataType.INT8:return m.getInt8(x);case g.onnx.TensorProto.DataType.UINT16:return m.getUint16(x,!0);case g.onnx.TensorProto.DataType.INT16:return m.getInt16(x,!0);case g.onnx.TensorProto.DataType.FLOAT:return m.getFloat32(x,!0);case g.onnx.TensorProto.DataType.INT32:return m.getInt32(x,!0);case g.onnx.TensorProto.DataType.UINT32:return m.getUint32(x,!0);case g.onnx.TensorProto.DataType.INT64:return n(d.default.fromBits(m.getUint32(x,!0),m.getUint32(x+4,!0),!1),_);case g.onnx.TensorProto.DataType.DOUBLE:return m.getFloat64(x,!0);case g.onnx.TensorProto.DataType.UINT64:return n(d.default.fromBits(m.getUint32(x,!0),m.getUint32(x+4,!0),!0),_);default:throw new Error(`cannot read from DataView for type ${g.onnx.TensorProto.DataType[_]}`)}}t.Tensor=c},7273:function(i,t,s){var u=this&&this.__importDefault||function(_){return _&&_.__esModule?_:{default:_}};Object.defineProperty(t,"__esModule",{value:!0}),t.decodeUtf8String=t.MAX_CLIP=t.MIN_CLIP=t.PoolConvUtil=t.ReduceUtil=t.SplitUtil=t.MathUtil=t.ShapeUtil=t.LongUtil=t.ProtoUtil=t.GemmUtil=t.arrayCopyHelper=t.BroadcastUtil=t.MatMulUtil=t.ArrayUtil=t.assert=t.checkInputsShape=void 0;const l=s(5686),d=u(s(1583)),y=s(2446),g=s(9240);t.checkInputsShape=function(_,...x){if(!_||_.length!==x.length)return!1;for(let w=0;w<_.length;w++)if(!_[w].dims||_[w].dims.length!==x[w])return!1;return!0},t.assert=function(_,x){if(!_)throw new Error(typeof x=="string"?x:x())},t.ArrayUtil=class{static arraysEqual(_,x){if(_.length!==x.length)return!1;for(let w=0;w<_.length;w++)if(_[w]!==x[w])return!1;return!0}};class v{static preprocessInputShapes(x,w){return[x.length===1?[1,x[0]]:x,w.length===1?[w[0],1]:w]}static postprocessOutputShape(x,w,S){w===1&&x.splice(x.length-2,1),S===1&&x.pop()}static calcMatMulShape(x,w){return x[1]!==w[0]?void 0:[x[0],w[1]]}}t.MatMulUtil=v;class f{static calcShape(x,w,S=!1){const O=x.length,A=w.length;if(O===0)return w;if(A===0)return x;const I=Math.max(x.length,w.length),P=new Array(I);if(S){if(O<2||A<2)return;const L=v.calcMatMulShape([x[O-2],x[O-1]],[w[A-2],w[A-1]]);if(L===void 0)return;[P[I-2],P[I-1]]=L}for(let L=S?3:1;L<=I;L++){const U=O-L<0?1:x[O-L],G=A-L<0?1:w[A-L];if(U!==G&&U>1&&G>1)return;P[I-L]=Math.max(U,G)}return P}static index(x,w){const S=new Array(w.length);return f.fillIndex(x,w,S),S}static fillIndex(x,w,S){const O=x.length-w.length;for(let A=0;A<w.length;A++)S[A]=x[O+A]%w[A]}static calc(x,w,S,O,A){const I=f.calcShape(x.dims,w.dims);if(I){if(O&&!e.areEqual(I,x.dims))return;const P=e.size(I),L=O?x:new g.Tensor(I,A||x.type);if(I.length===0)L.set([],S(x.get([]),w.get([])));else{const U=new Array(I.length),G=new Array(x.dims.length),te=new Array(w.dims.length);let Y,F=0,re=0,R=!1,M=!1;x.dims.length===0&&(F=x.get([]),R=!0),w.dims.length===0&&(re=w.get([]),M=!0);for(let H=0;H<P;H++){Y=H;for(let le=I.length-1;le>=0;le--)U[le]=Y%I[le],Y=Math.floor(Y/I[le]);R||(f.fillIndex(U,x.dims,G),F=x.get(G)),M||(f.fillIndex(U,w.dims,te),re=w.get(te)),L.set(U,S(F,re))}}return L}}static isValidBroadcast(x,w){const S=x.length,O=w.length;if(S>O)return!1;for(let A=1;A<=S;A++)if(x[S-A]!==1&&x[S-A]!==w[O-A])return!1;return!0}static getBroadcastDims(x,w){const S=x.length,O=[];for(let A=0;A<S;A++){const I=S-1-A,P=x[I]||1;(w[w.length-1-A]||1)>1&&P===1&&O.unshift(I)}return O}}t.BroadcastUtil=f,t.arrayCopyHelper=function(_,x,w,S,O){if(S<0||S>=x.length)throw new Error("sourceIndex out of bounds");if(w<0||w>=_.length)throw new Error("targetIndex out of bounds");if(S+O>x.length)throw new Error("source indices to be copied are outside bounds");if(w+O>_.length)throw new Error("target array is too small to hold result");for(let A=0;A<O;A++)_[w+A]=x[S+A]},t.GemmUtil=class{static getShapeOfGemmResult(_,x,w,S,O){if(_.length!==2||w.length!==2)throw new Error("shape need to be of size 2");let A,I,P;x?(A=_[1],I=_[0]):(A=_[0],I=_[1]);let L=-1;if(S?(P=w[0],L=1):(P=w[1],L=0),w[L]!==I)throw new Error("dimension mismatch");if(A<=0||P<=0||I<=0)throw new Error("invalid shape specified");if(O&&!f.isValidBroadcast(O,[A,P]))throw new Error("gemm: invalid bias shape for broadcast");return[A,P,I]}};class c{static tensorDataTypeFromProto(x){switch(x){case y.onnx.TensorProto.DataType.INT8:return"int8";case y.onnx.TensorProto.DataType.UINT8:return"uint8";case y.onnx.TensorProto.DataType.BOOL:return"bool";case y.onnx.TensorProto.DataType.INT16:return"int16";case y.onnx.TensorProto.DataType.UINT16:return"uint16";case y.onnx.TensorProto.DataType.INT32:return"int32";case y.onnx.TensorProto.DataType.UINT32:return"uint32";case y.onnx.TensorProto.DataType.FLOAT:return"float32";case y.onnx.TensorProto.DataType.DOUBLE:return"float64";case y.onnx.TensorProto.DataType.STRING:return"string";case y.onnx.TensorProto.DataType.INT64:return"int32";case y.onnx.TensorProto.DataType.UINT64:return"uint32";default:throw new Error(`unsupported data type: ${y.onnx.TensorProto.DataType[x]}`)}}static tensorDataTypeStringToEnum(x){switch(x){case"int8":return y.onnx.TensorProto.DataType.INT8;case"uint8":return y.onnx.TensorProto.DataType.UINT8;case"bool":return y.onnx.TensorProto.DataType.BOOL;case"int16":return y.onnx.TensorProto.DataType.INT16;case"uint16":return y.onnx.TensorProto.DataType.UINT16;case"int32":return y.onnx.TensorProto.DataType.INT32;case"uint32":return y.onnx.TensorProto.DataType.UINT32;case"float32":return y.onnx.TensorProto.DataType.FLOAT;case"float64":return y.onnx.TensorProto.DataType.DOUBLE;case"string":return y.onnx.TensorProto.DataType.STRING;case"int64":return y.onnx.TensorProto.DataType.INT64;case"uint64":return y.onnx.TensorProto.DataType.UINT64;default:throw new Error(`unsupported data type: ${x}`)}}static tensorDimsFromProto(x){return x.map(w=>d.default.isLong(w)?w.toNumber():w)}static tensorValueTypeFromProto(x){return{tensorType:c.tensorDataTypeFromProto(x.elemType),shape:{dims:c.tensorDimsFromProto(x.shape.dim.map(w=>w.dimValue))}}}static tensorDimsFromORTFormat(x){const w=[];for(let S=0;S<x.dimsLength();S++)w.push(r.longToNumber(x.dims(S)));return w}static tensorAttributesFromORTFormat(x){const w=[];for(let S=0;S<x.attributesLength();S++)w.push(x.attributes(S));return w}}t.ProtoUtil=c;class r{static longToNumber(x,w){return d.default.isLong(x)?x.toNumber():x instanceof l.flatbuffers.Long?d.default.fromValue({low:x.low,high:x.high,unsigned:w!=null&&w}).toNumber():x}static isLong(x){return d.default.isLong(x)||x instanceof l.flatbuffers.Long}}t.LongUtil=r;class e{static size(x){return e.getSizeFromDimensionRange(x,0,x.length)}static sizeFromDimension(x,w){if(w<0||w>x.length)throw new Error(`invalid dimension of ${w} for sizeFromDimension as Tensor has ${x.length} dimensions.`);return e.getSizeFromDimensionRange(x,w,x.length)}static sizeToDimension(x,w){if(w<0||w>x.length)throw new Error(`invalid dimension of ${w} for sizeToDimension as Tensor has ${x.length} dimensions.`);return e.getSizeFromDimensionRange(x,0,w)}static getSizeFromDimensionRange(x,w,S){let O=1;for(let A=w;A<S;A++){if(x[A]<=0)throw new Error("cannot get valid size from specified dimension range. Most likely the range contains 0 or negative values in them.");O*=x[A]}return O}static computeStrides(x){const w=x.length;if(w===0)return[];if(w===1)return[1];const S=new Array(w);S[w-1]=1,S[w-2]=x[w-1];for(let O=w-3;O>=0;--O)S[O]=S[O+1]*x[O+1];return S}static transpose(x){return x.slice().reverse()}static indicesToOffset(x,w,S){S===void 0&&(S=x.length);let O=0;for(let A=0;A<S;++A)O+=w[A]*x[A];return O}static offsetToIndices(x,w){const S=w.length;if(S===0)return[];if(S===1)return[x*w[0]];const O=new Array(w.length);for(let A=0;A<O.length-1;++A)O[A]=Math.floor(x/w[A]),x-=O[A]*w[A];return O[O.length-1]=x,O}static normalizeAxis(x,w){if(x<-w&&x>=w)throw new Error("unsupported axis for this operation.");return x<0?x+w:x}static normalizeAxes(x,w){return x.map(S=>this.normalizeAxis(S,w))}static incrementIndex(x,w,S){if(w.length===0||x.length===0)throw new Error("Index incrementing unsupported for scalar Tensor");if(S===void 0)S=w.length;else if(S<=0||S>w.length)throw new Error("Incorrect axis to increment on");for(let O=S-1;O>=0&&(x[O]++,!(x[O]<w[O]));--O)x[O]=0}static calculateReshapedDims(x,w){if(w.length===0){if(x.length===0||e.size(x)===1)return[];throw new Error("cannot reshape to a scalar Tensor")}const S=w.length,O=new Array(S);let A=-1,I=1;for(let L=0;L<S;L++){if(w[L]<-1)throw new Error("a dimension in shape hints cannot be less than -1");if(w[L]===-1){if(A!==-1)throw new Error("at most one dimension in shape hints can be -1");A=L}else{if(w[L]===0){if(L>=x.length)throw new Error("the dimension with value zero exceeds the dimension size of the input tensor");O[L]=x[L]}else O[L]=w[L];I*=O[L]}}const P=e.size(x);if(A!==-1){if(P%I!=0)throw new Error(`the input tensor cannot be reshaped to the requested shape. Input shape: [${x}] Output shape: [${w}]`);O[A]=P/I}else if(I!==P)throw new Error("reshapedDims and originalDims don't have matching sizes");return O}static sortBasedOnPerm(x,w){return w?w.map(S=>x[S]):x.slice().reverse()}static padShape(x,w){const S=x.length;return x.map((O,A)=>O+w[A]+w[A+S])}static areEqual(x,w){return x.length===w.length&&x.every((S,O)=>S===w[O])}static validateDimsAndCalcSize(x){if(x.length>6)throw new TypeError("Only rank 0 to 6 is supported for tensor shape.");let w=1;for(const S of x){if(!Number.isInteger(S))throw new TypeError(`Invalid shape: ${S} is not an integer`);if(S<0||S>2147483647)throw new TypeError(`Invalid shape: length ${S} is not allowed`);w*=S}return w}static flattenShape(x,w){w<0&&(w+=x.length);const S=x.reduce((A,I)=>A*I,1),O=x.slice(w).reduce((A,I)=>A*I,1);return[S/O,O]}static squeezeShape(x,w){const S=new Array;w=e.normalizeAxes(w,x.length);for(let O=0;O<x.length;O++){const A=w.indexOf(O)>=0;if(A&&x[O]!==1)throw new Error("squeeze an axis of size different than 1");(w.length===0&&x[O]>1||w.length>0&&!A)&&S.push(x[O])}return S}static unsqueezeShape(x,w){const S=new Array(x.length+w.length);S.fill(0);for(let A=0;A<w.length;A++){const I=e.normalizeAxis(w[A],S.length);if(I>=S.length)throw new Error("'axes' has an out of range axis");if(S[I]!==0)throw new Error("'axes' has a duplicate axis");S[I]=1}let O=0;for(let A=0;A<S.length;A++)S[A]===0&&(S[A]=x[O++]);if(O!==x.length)throw new Error("the unsqueezed dimension could not be established");return S}}t.ShapeUtil=e,t.MathUtil=class{static sqr(_,x,w,S,O){if(S<0||S>=x.length)throw new Error("sourceIndex out of bounds");if(w<0||w>=_.length)throw new Error("targetIndex out of bounds");if(S+O>x.length)throw new Error("source indices to be copied are outside bounds");if(w+O>_.length)throw new Error("target array is too small to hold result");for(let A=0;A<O;A++)_[w+A]+=Math.pow(x[S+A],2)}static axpy(_,x,w,S,O,A){if(S<0||S>=x.length)throw new Error("sourceIndex out of bounds");if(w<0||w>=_.length)throw new Error("targetIndex out of bounds");if(S+O>x.length)throw new Error("source indices to be copied are outside bounds");if(w+O>_.length)throw new Error("target array is too small to hold result");for(let I=0;I<O;I++)_[w+I]+=A*x[S+I]}static powx(_,x,w,S,O,A){if(S<0||S>=x.length)throw new Error("sourceIndex out of bounds");if(w<0||w>=_.length)throw new Error("targetIndex out of bounds");if(S+O>x.length)throw new Error("source indices to be copied are outside bounds");if(w+O>_.length)throw new Error("target array is too small to hold result");for(let I=0;I<O;I++)_[w+I]=Math.pow(x[S+I],A)}static mul(_,x,w,S,O){if(S<0||S>=x.length)throw new Error("sourceIndex out of bounds");if(w<0||w>=_.length)throw new Error("targetIndex out of bounds");if(S+O>x.length)throw new Error("source indices to be copied are outside bounds");if(w+O>_.length)throw new Error("target array is too small to hold result");for(let A=0;A<O;A++)_[w+A]=x[S+A]*_[w+A]}};class n{static splitShape(x,w,S,O){if(S.length===0){if(!O)throw new Error("need to know number of outputs when the 'split' attribute is not specified");n.determineSplit(x[w],O,S)}const A=[],I=[0];for(let P=0;P<S.length;++P){P!==0&&I.push(I[P-1]+S[P-1]);const L=x.slice();L[w]=S[P],A.push(L)}return[A,I]}static determineSplit(x,w,S){if(x%w!=0)throw new Error("cannot split tensor to equal sized parts");for(let O=0;O<w;++O)S.push(x/w)}}t.SplitUtil=n;class o{static calcReduce(x,w,S,O,A){const I=x.dims.slice(0);w.length===0&&I.forEach((F,re)=>w.push(re));const P=o.calcReduceShape(I,w,!0),L=e.size(P),U=new g.Tensor(P,x.type),G=e.computeStrides(P),te=e.computeStrides(I),Y=new Array(I.length);for(let F=0;F<L;F++){const re=e.offsetToIndices(F,G);f.fillIndex(re,I,Y),U.set(re,o.calcReduceByAxis(x.numberData,w,I,0,e.indicesToOffset(Y,te),O,A))}return S?U:new g.Tensor(o.calcReduceShape(I,w,S),U.type,void 0,void 0,U.data,U.dataId)}static calcReduceByAxis(x,w,S,O,A,I,P){let L=0;if(O>=w.length)return I(x[A]);const U=w[O],G=U>=S.length?1:e.size(S.slice(U+1));for(let te=0;te<S[U];te++)L=te===0?o.calcReduceByAxis(x,w,S,O+1,A,I,P):P(L,o.calcReduceByAxis(x,w,S,O+1,A,I,P)),A+=G;return L}static calcReduceShape(x,w,S){const O=x.slice();for(let A=0;A<w.length;A++)O[w[A]]=S?1:0;return O.filter(A=>A!==0)}}t.ReduceUtil=o;class m{static adjustPoolAttributes(x,w,S,O,A,I){if(!x&&S.length!==w.length-2)throw new Error("length of specified kernel shapes should be 2 less than length of input dimensions");if(x)for(let P=0;P<w.length-2;P++)P>=S.length?S.push(w[P+2]):S[P]=w[P+2];for(let P=0;P<S.length;P++)if(P<O.length){if(O[P]<0)throw new Error("strides should be greater than or equal to 1")}else O.push(1);for(let P=0;P<S.length;P++)if(P<A.length){if(A[P]<0)throw new Error("dilations should be greater than or equal to 1")}else A.push(1);for(let P=0;P<2*S.length;P++)if(P<I.length){if(I[P]<0)throw new Error("pad should be greater than or equal to 1")}else I.push(0);for(let P=0;P<S.length;P++){if(S[P]<=0)throw new Error("kernel shapes need to be greater than 0");if(I[P]>=S[P]||I[P+S.length]>=S[P])throw new Error("pads should be smaller than kernel")}}static adjustPadsBasedOnAutoPad(x,w,S,O,A,I){if(I){if(A.length!==2*(x.length-2))throw new Error("length of pads should be twice the length of data dimensions");if(w.length!==x.length-2)throw new Error("length of strides should be the length of data dimensions");if(O.length!==x.length-2)throw new Error("length of kernel shapes should be the length of data dimensions");for(let P=0;P<x.length-2;P++)m.adjustPadAndReturnShape(x[P+2],w[P],S[P],O[P],A,P,P+x.length-2,I)}}static computePoolOutputShape(x,w,S,O,A,I,P){if(w.length<=0)throw new Error("input shape must be of size greater than 0");const L=[w[0],w[1]];return m.computeShapeHelper(x,w,L,S,O,A,I,P),L}static computeConvOutputShape(x,w,S,O,A,I,P){if(x.length<=0||w.length<=0)throw new Error("invalid input tensor dims or invalid filter tensor dims");const L=[x[0],w[0]];return m.computeShapeHelper(!1,x,L,S,O,A,I,P),L}static computeShapeHelper(x,w,S,O,A,I,P,L){if(x)for(let U=0;U<w.length-2;U++)S.push(1);else for(let U=0;U<w.length-2;U++)S.push(m.adjustPadAndReturnShape(w[U+2],O[U],A[U],I[U],P,U,U+w.length-2,L))}static adjustPadAndReturnShape(x,w,S,O,A,I,P,L){const U=S*(O-1)+1;if(!L||L==="NOTSET")return Math.floor((x+A[I]+A[P]-U)/w+1);switch(L){case"VALID":return A[I]=0,A[P]=0,Math.floor((x-U)/w+1);case"SAME_LOWER":case"SAME_UPPER":if(S!==1)throw new Error("Dilation not supported for SAME_UPPER or SAME_LOWER");{const G=((x+w-1)/w-1)*w+O-x;return A[I]=Math.floor(L==="SAME_LOWER"?(G+1)/2:G/2),A[P]=G-A[I],Math.floor((x+G-O)/w+1)}default:throw new Error("Unsupported AutoPad type")}}}t.PoolConvUtil=m,t.MIN_CLIP=-34028234663852886e22,t.MAX_CLIP=34028234663852886e22,t.decodeUtf8String=function(_){return new TextDecoder().decode(_)}},8408:(i,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.version=void 0,t.version="1.16.3"},9544:function(i,t,s){var u,l=this&&this.__createBinding||(Object.create?function(G,te,Y,F){F===void 0&&(F=Y);var re=Object.getOwnPropertyDescriptor(te,Y);re&&!("get"in re?!te.__esModule:re.writable||re.configurable)||(re={enumerable:!0,get:function(){return te[Y]}}),Object.defineProperty(G,F,re)}:function(G,te,Y,F){F===void 0&&(F=Y),G[F]=te[Y]}),d=this&&this.__setModuleDefault||(Object.create?function(G,te){Object.defineProperty(G,"default",{enumerable:!0,value:te})}:function(G,te){G.default=te}),y=this&&this.__importStar||function(G){if(G&&G.__esModule)return G;var te={};if(G!=null)for(var Y in G)Y!=="default"&&Object.prototype.hasOwnProperty.call(G,Y)&&l(te,G,Y);return d(te,G),te};Object.defineProperty(t,"__esModule",{value:!0}),t.endProfiling=t.run=t.releaseSession=t.createSession=t.createSessionFinalize=t.createSessionAllocate=t.initializeRuntime=t.initializeWebAssemblyInstance=void 0;const g=s(2235),v=y(s(1259)),f=s(263),c=()=>!!g.env.wasm.proxy&&typeof document<"u";let r,e,n,o=!1,m=!1,_=!1;const x=[],w=[],S=[],O=[],A=[],I=[],P=()=>{if(o||!m||_||!r)throw new Error("worker not ready")},L=G=>{switch(G.data.type){case"init-wasm":o=!1,G.data.err?(_=!0,e[1](G.data.err)):(m=!0,e[0]());break;case"init-ort":G.data.err?n[1](G.data.err):n[0]();break;case"create_allocate":G.data.err?x.shift()[1](G.data.err):x.shift()[0](G.data.out);break;case"create_finalize":G.data.err?w.shift()[1](G.data.err):w.shift()[0](G.data.out);break;case"create":G.data.err?S.shift()[1](G.data.err):S.shift()[0](G.data.out);break;case"release":G.data.err?O.shift()[1](G.data.err):O.shift()[0]();break;case"run":G.data.err?A.shift()[1](G.data.err):A.shift()[0](G.data.out);break;case"end-profiling":G.data.err?I.shift()[1](G.data.err):I.shift()[0]()}},U=typeof document<"u"?(u=document==null?void 0:document.currentScript)===null||u===void 0?void 0:u.src:void 0;t.initializeWebAssemblyInstance=async()=>{if(c()){if(m)return;if(o)throw new Error("multiple calls to 'initWasm()' detected.");if(_)throw new Error("previous call to 'initWasm()' failed.");return o=!0,g.env.wasm.wasmPaths===void 0&&U&&U.indexOf("blob:")!==0&&(g.env.wasm.wasmPaths=U.substr(0,+U.lastIndexOf("/")+1)),new Promise((G,te)=>{r==null||r.terminate(),r=s(8050).Z(),r.onmessage=L,e=[G,te];const Y={type:"init-wasm",in:g.env.wasm};r.postMessage(Y)})}return(0,f.initializeWebAssembly)(g.env.wasm)},t.initializeRuntime=async G=>{if(c())return P(),new Promise((te,Y)=>{n=[te,Y];const F={type:"init-ort",in:G};r.postMessage(F)});await v.initRuntime(G)},t.createSessionAllocate=async G=>c()?(P(),new Promise((te,Y)=>{x.push([te,Y]);const F={type:"create_allocate",in:{model:G}};r.postMessage(F,[G.buffer])})):v.createSessionAllocate(G),t.createSessionFinalize=async(G,te)=>c()?(P(),new Promise((Y,F)=>{w.push([Y,F]);const re={type:"create_finalize",in:{modeldata:G,options:te}};r.postMessage(re)})):v.createSessionFinalize(G,te),t.createSession=async(G,te)=>c()?(P(),new Promise((Y,F)=>{S.push([Y,F]);const re={type:"create",in:{model:G,options:te}};r.postMessage(re,[G.buffer])})):v.createSession(G,te),t.releaseSession=async G=>{if(c())return P(),new Promise((te,Y)=>{O.push([te,Y]);const F={type:"release",in:G};r.postMessage(F)});v.releaseSession(G)},t.run=async(G,te,Y,F,re)=>c()?(P(),new Promise((R,M)=>{A.push([R,M]);const H={type:"run",in:{sessionId:G,inputIndices:te,inputs:Y,outputIndices:F,options:re}};r.postMessage(H,v.extractTransferableBuffers(Y))})):v.run(G,te,Y,F,re),t.endProfiling=async G=>{if(c())return P(),new Promise((te,Y)=>{I.push([te,Y]);const F={type:"end-profiling",in:G};r.postMessage(F)});v.endProfiling(G)}},7918:(i,t,s)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.setRunOptions=void 0;const u=s(263),l=s(1497);t.setRunOptions=d=>{const y=(0,u.getInstance)();let g=0;const v=[],f=d||{};try{if((d==null?void 0:d.logSeverityLevel)===void 0)f.logSeverityLevel=2;else if(typeof d.logSeverityLevel!="number"||!Number.isInteger(d.logSeverityLevel)||d.logSeverityLevel<0||d.logSeverityLevel>4)throw new Error(`log serverity level is not valid: ${d.logSeverityLevel}`);if((d==null?void 0:d.logVerbosityLevel)===void 0)f.logVerbosityLevel=0;else if(typeof d.logVerbosityLevel!="number"||!Number.isInteger(d.logVerbosityLevel))throw new Error(`log verbosity level is not valid: ${d.logVerbosityLevel}`);(d==null?void 0:d.terminate)===void 0&&(f.terminate=!1);let c=0;return(d==null?void 0:d.tag)!==void 0&&(c=(0,l.allocWasmString)(d.tag,v)),g=y._OrtCreateRunOptions(f.logSeverityLevel,f.logVerbosityLevel,!!f.terminate,c),g===0&&(0,l.checkLastError)("Can't create run options."),(d==null?void 0:d.extra)!==void 0&&(0,l.iterateExtraOptions)(d.extra,"",new WeakSet,(r,e)=>{const n=(0,l.allocWasmString)(r,v),o=(0,l.allocWasmString)(e,v);y._OrtAddRunConfigEntry(g,n,o)!==0&&(0,l.checkLastError)(`Can't set a run config entry: ${r} - ${e}.`)}),[g,v]}catch(c){throw g!==0&&y._OrtReleaseRunOptions(g),v.forEach(r=>y._free(r)),c}}},6640:(i,t,s)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.OnnxruntimeWebAssemblySessionHandler=void 0;const u=s(2806),l=s(2235),d=s(2850),y=s(9544);let g;t.OnnxruntimeWebAssemblySessionHandler=class{async createSessionAllocate(v){const f=await fetch(v);if(f.status!==200)throw new Error(`failed to load model: ${v}`);const c=await f.arrayBuffer();return(0,y.createSessionAllocate)(new Uint8Array(c))}async loadModel(v,f){if(g||(await(0,y.initializeRuntime)(l.env),g=!0),typeof v=="string")if(typeof process<"u"&&process.versions&&process.versions.node){const c=await(0,d.promisify)(u.readFile)(v);[this.sessionId,this.inputNames,this.outputNames]=await(0,y.createSession)(c,f)}else{const c=await this.createSessionAllocate(v);[this.sessionId,this.inputNames,this.outputNames]=await(0,y.createSessionFinalize)(c,f)}else[this.sessionId,this.inputNames,this.outputNames]=await(0,y.createSession)(v,f)}async dispose(){return(0,y.releaseSession)(this.sessionId)}async run(v,f,c){const r=[],e=[];Object.entries(v).forEach(_=>{const x=_[0],w=_[1],S=this.inputNames.indexOf(x);if(S===-1)throw new Error(`invalid input '${x}'`);r.push(w),e.push(S)});const n=[];Object.entries(f).forEach(_=>{const x=_[0],w=this.outputNames.indexOf(x);if(w===-1)throw new Error(`invalid output '${x}'`);n.push(w)});const o=await(0,y.run)(this.sessionId,e,r.map(_=>[_.type,_.dims,_.data]),n,c),m={};for(let _=0;_<o.length;_++)m[this.outputNames[n[_]]]=new l.Tensor(o[_][0],o[_][2],o[_][1]);return m}startProfiling(){}endProfiling(){(0,y.endProfiling)(this.sessionId)}}},7622:(i,t,s)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.setSessionOptions=void 0;const u=s(263),l=s(1497);t.setSessionOptions=d=>{var y,g,v,f;const c=(0,u.getInstance)();let r=0;const e=[],n=d||{};(o=>{o.extra||(o.extra={}),o.extra.session||(o.extra.session={});const m=o.extra.session;m.use_ort_model_bytes_directly||(m.use_ort_model_bytes_directly="1"),o.executionProviders&&o.executionProviders.some(_=>(typeof _=="string"?_:_.name)==="webgpu")&&(o.enableMemPattern=!1)})(n);try{const o=(O=>{switch(O){case"disabled":return 0;case"basic":return 1;case"extended":return 2;case"all":return 99;default:throw new Error(`unsupported graph optimization level: ${O}`)}})((y=n.graphOptimizationLevel)!==null&&y!==void 0?y:"all"),m=(O=>{switch(O){case"sequential":return 0;case"parallel":return 1;default:throw new Error(`unsupported execution mode: ${O}`)}})((g=n.executionMode)!==null&&g!==void 0?g:"sequential"),_=typeof n.logId=="string"?(0,l.allocWasmString)(n.logId,e):0,x=(v=n.logSeverityLevel)!==null&&v!==void 0?v:2;if(!Number.isInteger(x)||x<0||x>4)throw new Error(`log serverity level is not valid: ${x}`);const w=(f=n.logVerbosityLevel)!==null&&f!==void 0?f:0;if(!Number.isInteger(w)||w<0||w>4)throw new Error(`log verbosity level is not valid: ${w}`);const S=typeof n.optimizedModelFilePath=="string"?(0,l.allocWasmString)(n.optimizedModelFilePath,e):0;return r=c._OrtCreateSessionOptions(o,!!n.enableCpuMemArena,!!n.enableMemPattern,m,!!n.enableProfiling,0,_,x,w,S),r===0&&(0,l.checkLastError)("Can't create session options."),n.executionProviders&&((O,A,I)=>{for(const P of A){let L=typeof P=="string"?P:P.name;switch(L){case"xnnpack":L="XNNPACK";break;case"webnn":if(L="WEBNN",typeof P!="string"){const G=P;if(G!=null&&G.deviceType){const te=(0,l.allocWasmString)("deviceType",I),Y=(0,l.allocWasmString)(G.deviceType,I);(0,u.getInstance)()._OrtAddSessionConfigEntry(O,te,Y)!==0&&(0,l.checkLastError)(`Can't set a session config entry: 'deviceType' - ${G.deviceType}.`)}if(G!=null&&G.powerPreference){const te=(0,l.allocWasmString)("powerPreference",I),Y=(0,l.allocWasmString)(G.powerPreference,I);(0,u.getInstance)()._OrtAddSessionConfigEntry(O,te,Y)!==0&&(0,l.checkLastError)(`Can't set a session config entry: 'powerPreference' - ${G.powerPreference}.`)}}break;case"webgpu":L="JS";break;case"wasm":case"cpu":continue;default:throw new Error(`not supported execution provider: ${L}`)}const U=(0,l.allocWasmString)(L,I);(0,u.getInstance)()._OrtAppendExecutionProvider(O,U)!==0&&(0,l.checkLastError)(`Can't append execution provider: ${L}.`)}})(r,n.executionProviders,e),n.extra!==void 0&&(0,l.iterateExtraOptions)(n.extra,"",new WeakSet,(O,A)=>{const I=(0,l.allocWasmString)(O,e),P=(0,l.allocWasmString)(A,e);c._OrtAddSessionConfigEntry(r,I,P)!==0&&(0,l.checkLastError)(`Can't set a session config entry: ${O} - ${A}.`)}),[r,e]}catch(o){throw r!==0&&c._OrtReleaseSessionOptions(r),e.forEach(m=>c._free(m)),o}}},7917:(i,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.logLevelStringToEnum=t.tensorTypeToTypedArrayConstructor=t.getTensorElementSize=t.tensorDataTypeEnumToString=t.tensorDataTypeStringToEnum=void 0,t.tensorDataTypeStringToEnum=s=>{switch(s){case"int8":return 3;case"uint8":return 2;case"bool":return 9;case"int16":return 5;case"uint16":return 4;case"int32":return 6;case"uint32":return 12;case"float16":return 10;case"float32":return 1;case"float64":return 11;case"string":return 8;case"int64":return 7;case"uint64":return 13;default:throw new Error(`unsupported data type: ${s}`)}},t.tensorDataTypeEnumToString=s=>{switch(s){case 3:return"int8";case 2:return"uint8";case 9:return"bool";case 5:return"int16";case 4:return"uint16";case 6:return"int32";case 12:return"uint32";case 10:return"float16";case 1:return"float32";case 11:return"float64";case 8:return"string";case 7:return"int64";case 13:return"uint64";default:throw new Error(`unsupported data type: ${s}`)}},t.getTensorElementSize=s=>[void 0,4,1,1,2,2,4,8,void 0,1,2,8,4,8,void 0,void 0,void 0][s],t.tensorTypeToTypedArrayConstructor=s=>{switch(s){case"float16":case"uint16":return Uint16Array;case"float32":return Float32Array;case"uint8":case"bool":return Uint8Array;case"int8":return Int8Array;case"int16":return Int16Array;case"int32":return Int32Array;case"float64":return Float64Array;case"uint32":return Uint32Array;case"int64":return BigInt64Array;case"uint64":return BigUint64Array;default:throw new Error(`unsupported type: ${s}`)}},t.logLevelStringToEnum=s=>{switch(s){case"verbose":return 0;case"info":return 1;case"warning":return 2;case"error":return 3;case"fatal":return 4;default:throw new Error(`unsupported logging level: ${s}`)}}},1259:(i,t,s)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.extractTransferableBuffers=t.endProfiling=t.run=t.releaseSession=t.createSession=t.createSessionFinalize=t.createSessionAllocate=t.initRuntime=void 0;const u=s(7918),l=s(7622),d=s(7917),y=s(263),g=s(1497);t.initRuntime=async f=>{var c,r;c=f.wasm.numThreads,r=(0,d.logLevelStringToEnum)(f.logLevel),(0,y.getInstance)()._OrtInit(c,r)!==0&&(0,g.checkLastError)("Can't initialize onnxruntime.")};const v=new Map;t.createSessionAllocate=f=>{const c=(0,y.getInstance)(),r=c._malloc(f.byteLength);if(r===0)throw new Error(`Can't create a session. failed to allocate a buffer of size ${f.byteLength}.`);return c.HEAPU8.set(f,r),[r,f.byteLength]},t.createSessionFinalize=(f,c)=>{const r=(0,y.getInstance)();let e=0,n=0,o=[];const m=[],_=[];try{[n,o]=(0,l.setSessionOptions)(c),e=r._OrtCreateSession(f[0],f[1],n),e===0&&(0,g.checkLastError)("Can't create a session.");const[x,w]=(A=>{const I=(0,y.getInstance)(),P=I.stackSave();try{const L=I.stackAlloc(8);return I._OrtGetInputOutputCount(A,L,L+4)!==0&&(0,g.checkLastError)("Can't get session input/output count."),[I.HEAP32[L/4],I.HEAP32[L/4+1]]}finally{I.stackRestore(P)}})(e),S=[],O=[];for(let A=0;A<x;A++){const I=r._OrtGetInputName(e,A);I===0&&(0,g.checkLastError)("Can't get an input name."),m.push(I),S.push(r.UTF8ToString(I))}for(let A=0;A<w;A++){const I=r._OrtGetOutputName(e,A);I===0&&(0,g.checkLastError)("Can't get an output name."),_.push(I),O.push(r.UTF8ToString(I))}return v.set(e,[e,m,_]),[e,S,O]}catch(x){throw m.forEach(w=>r._OrtFree(w)),_.forEach(w=>r._OrtFree(w)),e!==0&&r._OrtReleaseSession(e),x}finally{r._free(f[0]),n!==0&&r._OrtReleaseSessionOptions(n),o.forEach(x=>r._free(x))}},t.createSession=(f,c)=>{const r=(0,t.createSessionAllocate)(f);return(0,t.createSessionFinalize)(r,c)},t.releaseSession=f=>{const c=(0,y.getInstance)(),r=v.get(f);if(!r)throw new Error(`cannot release session. invalid session id: ${f}`);const[e,n,o]=r;n.forEach(m=>c._OrtFree(m)),o.forEach(m=>c._OrtFree(m)),c._OrtReleaseSession(e),v.delete(f)},t.run=async(f,c,r,e,n)=>{const o=(0,y.getInstance)(),m=v.get(f);if(!m)throw new Error(`cannot run inference. invalid session id: ${f}`);const[_,x,w]=m,S=c.length,O=e.length;let A=0,I=[];const P=[],L=[];try{[A,I]=(0,u.setRunOptions)(n);for(let re=0;re<S;re++){const R=r[re][0],M=r[re][1],H=r[re][2];let le,he;if(Array.isArray(H)){he=4*H.length,le=o._malloc(he),L.push(le);let Pe=le/4;for(let Le=0;Le<H.length;Le++){if(typeof H[Le]!="string")throw new TypeError(`tensor data at index ${Le} is not a string`);o.HEAPU32[Pe++]=(0,g.allocWasmString)(H[Le],L)}}else he=H.byteLength,le=o._malloc(he),L.push(le),o.HEAPU8.set(new Uint8Array(H.buffer,H.byteOffset,he),le);const Ce=o.stackSave(),we=o.stackAlloc(4*M.length);try{let Pe=we/4;M.forEach(Be=>o.HEAP32[Pe++]=Be);const Le=o._OrtCreateTensor((0,d.tensorDataTypeStringToEnum)(R),le,he,we,M.length);Le===0&&(0,g.checkLastError)(`Can't create tensor for input[${re}].`),P.push(Le)}finally{o.stackRestore(Ce)}}const U=o.stackSave(),G=o.stackAlloc(4*S),te=o.stackAlloc(4*S),Y=o.stackAlloc(4*O),F=o.stackAlloc(4*O);try{let re=G/4,R=te/4,M=Y/4,H=F/4;for(let we=0;we<S;we++)o.HEAPU32[re++]=P[we],o.HEAPU32[R++]=x[c[we]];for(let we=0;we<O;we++)o.HEAPU32[M++]=0,o.HEAPU32[H++]=w[e[we]];let le=o._OrtRun(_,te,G,S,F,O,Y,A);const he=o.jsepRunPromise;he&&he.then!==void 0&&(le=await he);const Ce=[];le!==0&&(0,g.checkLastError)("failed to call OrtRun().");for(let we=0;we<O;we++){const Pe=o.HEAPU32[Y/4+we],Le=o.stackSave(),Be=o.stackAlloc(16);let Me,je=0;try{le=o._OrtGetTensorData(Pe,Be,Be+4,Be+8,Be+12),le!==0&&(0,g.checkLastError)(`Can't access output tensor data on index ${we}.`);let Je=Be/4;const it=o.HEAPU32[Je++];je=o.HEAPU32[Je++];const lt=o.HEAPU32[Je++],Dt=o.HEAPU32[Je++],ve=[];for(let V=0;V<Dt;V++)ve.push(o.HEAPU32[lt/4+V]);o._OrtFree(lt);const $=ve.length===0?1:ve.reduce((V,W)=>V*W);if(Me=(0,d.tensorDataTypeEnumToString)(it),Me==="string"){const V=[];let W=je/4;for(let Q=0;Q<$;Q++){const ie=o.HEAPU32[W++],ae=Q===$-1?void 0:o.HEAPU32[W]-ie;V.push(o.UTF8ToString(ie,ae))}Ce.push([Me,ve,V])}else{const V=new((0,d.tensorTypeToTypedArrayConstructor)(Me))($);new Uint8Array(V.buffer,V.byteOffset,V.byteLength).set(o.HEAPU8.subarray(je,je+V.byteLength)),Ce.push([Me,ve,V])}}finally{o.stackRestore(Le),Me==="string"&&je&&o._free(je),o._OrtReleaseTensor(Pe)}}return Ce}finally{o.stackRestore(U)}}finally{P.forEach(U=>o._OrtReleaseTensor(U)),L.forEach(U=>o._free(U)),A!==0&&o._OrtReleaseRunOptions(A),I.forEach(U=>o._free(U))}},t.endProfiling=f=>{const c=(0,y.getInstance)(),r=v.get(f);if(!r)throw new Error("invalid session id");const e=r[0],n=c._OrtEndProfiling(e);n===0&&(0,g.checkLastError)("Can't get an profile file name."),c._OrtFree(n)},t.extractTransferableBuffers=f=>{const c=[];for(const r of f){const e=r[2];!Array.isArray(e)&&e.buffer&&c.push(e.buffer)}return c}},263:function(i,t,s){var u=this&&this.__createBinding||(Object.create?function(n,o,m,_){_===void 0&&(_=m);var x=Object.getOwnPropertyDescriptor(o,m);x&&!("get"in x?!o.__esModule:x.writable||x.configurable)||(x={enumerable:!0,get:function(){return o[m]}}),Object.defineProperty(n,_,x)}:function(n,o,m,_){_===void 0&&(_=m),n[_]=o[m]}),l=this&&this.__setModuleDefault||(Object.create?function(n,o){Object.defineProperty(n,"default",{enumerable:!0,value:o})}:function(n,o){n.default=o}),d=this&&this.__importStar||function(n){if(n&&n.__esModule)return n;var o={};if(n!=null)for(var m in n)m!=="default"&&Object.prototype.hasOwnProperty.call(n,m)&&u(o,n,m);return l(o,n),o};Object.defineProperty(t,"__esModule",{value:!0}),t.dispose=t.getInstance=t.initializeWebAssembly=void 0;const y=d(s(6449)),g=s(932),v=s(3474);let f,c=!1,r=!1,e=!1;t.initializeWebAssembly=async n=>{if(c)return Promise.resolve();if(r)throw new Error("multiple calls to 'initializeWebAssembly()' detected.");if(e)throw new Error("previous call to 'initializeWebAssembly()' failed.");r=!0;const o=n.initTimeout,m=n.numThreads,_=n.simd,x=m>1&&(()=>{try{return typeof SharedArrayBuffer<"u"&&(typeof MessageChannel<"u"&&new MessageChannel().port1.postMessage(new SharedArrayBuffer(1)),WebAssembly.validate(new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,2,1,0,5,4,1,3,1,1,10,11,1,9,0,65,0,254,16,2,0,26,11])))}catch{return!1}})(),w=_&&(()=>{try{return WebAssembly.validate(new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,2,1,0,10,30,1,28,0,65,0,253,15,253,12,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,253,186,1,26,11]))}catch{return!1}})(),S=n.wasmPaths,O=typeof S=="string"?S:void 0,A=((U,G)=>G?U?"ort-wasm-simd-threaded.wasm":"ort-wasm-threaded.wasm":U?"ort-wasm-simd.wasm":"ort-wasm.wasm")(w,x),I=typeof S=="object"?S[A]:void 0;let P=!1;const L=[];if(o>0&&L.push(new Promise(U=>{setTimeout(()=>{P=!0,U()},o)})),L.push(new Promise((U,G)=>{const te=x?v:g,Y={locateFile:(F,re)=>x&&F.endsWith(".worker.js")&&typeof Blob<"u"?URL.createObjectURL(new Blob([s(4154)],{type:"text/javascript"})):F.endsWith(".wasm")?I||(O??re)+A:re+F};if(x)if(typeof Blob>"u")Y.mainScriptUrlOrBlob=y.join(__dirname,"ort-wasm-threaded.js");else{const F=`var ortWasmThreaded=(function(){var _scriptDir;return ${te.toString()}})();`;Y.mainScriptUrlOrBlob=new Blob([F],{type:"text/javascript"})}te(Y).then(F=>{r=!1,c=!0,f=F,U()},F=>{r=!1,e=!0,G(F)})})),await Promise.race(L),P)throw new Error(`WebAssembly backend initializing failed due to timeout: ${o}ms`)},t.getInstance=()=>{if(c&&f)return f;throw new Error("WebAssembly is not initialized yet.")},t.dispose=()=>{var n;!c||r||e||(r=!0,(n=f.PThread)===null||n===void 0||n.terminateAllThreads(),f=void 0,r=!1,c=!1,e=!0)}},1497:(i,t,s)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.checkLastError=t.iterateExtraOptions=t.allocWasmString=void 0;const u=s(263);t.allocWasmString=(l,d)=>{const y=(0,u.getInstance)(),g=y.lengthBytesUTF8(l)+1,v=y._malloc(g);return y.stringToUTF8(l,v,g),d.push(v),v},t.iterateExtraOptions=(l,d,y,g)=>{if(typeof l=="object"&&l!==null){if(y.has(l))throw new Error("Circular reference in options");y.add(l)}Object.entries(l).forEach(([v,f])=>{const c=d?d+v:v;if(typeof f=="object")(0,t.iterateExtraOptions)(f,c+".",y,g);else if(typeof f=="string"||typeof f=="number")g(c,f.toString());else{if(typeof f!="boolean")throw new Error("Can't handle extra config type: "+typeof f);g(c,f?"1":"0")}})},t.checkLastError=l=>{const d=(0,u.getInstance)(),y=d.stackSave();try{const g=d.stackAlloc(8);d._OrtGetLastError(g,g+4);const v=d.HEAP32[g/4],f=d.HEAPU32[g/4+1],c=f?d.UTF8ToString(f):"";throw new Error(`${l} ERROR_CODE: ${v}, ERROR_MESSAGE: ${c}`)}finally{d.stackRestore(y)}}},8050:(i,t,s)=>{s.d(t,{Z:()=>d});var u=s(6614),l=s.n(u);function d(){return l()('/*!\n* ONNX Runtime Web v1.16.3\n* Copyright (c) Microsoft Corporation. All rights reserved.\n* Licensed under the MIT License.\n*/\n(()=>{var e={918:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.setRunOptions=void 0;const n=r(263),a=r(497);t.setRunOptions=e=>{const t=(0,n.getInstance)();let r=0;const o=[],i=e||{};try{if(void 0===(null==e?void 0:e.logSeverityLevel))i.logSeverityLevel=2;else if("number"!=typeof e.logSeverityLevel||!Number.isInteger(e.logSeverityLevel)||e.logSeverityLevel<0||e.logSeverityLevel>4)throw new Error(`log serverity level is not valid: ${e.logSeverityLevel}`);if(void 0===(null==e?void 0:e.logVerbosityLevel))i.logVerbosityLevel=0;else if("number"!=typeof e.logVerbosityLevel||!Number.isInteger(e.logVerbosityLevel))throw new Error(`log verbosity level is not valid: ${e.logVerbosityLevel}`);void 0===(null==e?void 0:e.terminate)&&(i.terminate=!1);let n=0;return void 0!==(null==e?void 0:e.tag)&&(n=(0,a.allocWasmString)(e.tag,o)),r=t._OrtCreateRunOptions(i.logSeverityLevel,i.logVerbosityLevel,!!i.terminate,n),0===r&&(0,a.checkLastError)("Can\'t create run options."),void 0!==(null==e?void 0:e.extra)&&(0,a.iterateExtraOptions)(e.extra,"",new WeakSet,((e,n)=>{const i=(0,a.allocWasmString)(e,o),s=(0,a.allocWasmString)(n,o);0!==t._OrtAddRunConfigEntry(r,i,s)&&(0,a.checkLastError)(`Can\'t set a run config entry: ${e} - ${n}.`)})),[r,o]}catch(e){throw 0!==r&&t._OrtReleaseRunOptions(r),o.forEach((e=>t._free(e))),e}}},622:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.setSessionOptions=void 0;const n=r(263),a=r(497);t.setSessionOptions=e=>{var t,r,o,i;const s=(0,n.getInstance)();let u=0;const c=[],l=e||{};(e=>{e.extra||(e.extra={}),e.extra.session||(e.extra.session={});const t=e.extra.session;t.use_ort_model_bytes_directly||(t.use_ort_model_bytes_directly="1"),e.executionProviders&&e.executionProviders.some((e=>"webgpu"===("string"==typeof e?e:e.name)))&&(e.enableMemPattern=!1)})(l);try{const e=(e=>{switch(e){case"disabled":return 0;case"basic":return 1;case"extended":return 2;case"all":return 99;default:throw new Error(`unsupported graph optimization level: ${e}`)}})(null!==(t=l.graphOptimizationLevel)&&void 0!==t?t:"all"),f=(e=>{switch(e){case"sequential":return 0;case"parallel":return 1;default:throw new Error(`unsupported execution mode: ${e}`)}})(null!==(r=l.executionMode)&&void 0!==r?r:"sequential"),d="string"==typeof l.logId?(0,a.allocWasmString)(l.logId,c):0,p=null!==(o=l.logSeverityLevel)&&void 0!==o?o:2;if(!Number.isInteger(p)||p<0||p>4)throw new Error(`log serverity level is not valid: ${p}`);const g=null!==(i=l.logVerbosityLevel)&&void 0!==i?i:0;if(!Number.isInteger(g)||g<0||g>4)throw new Error(`log verbosity level is not valid: ${g}`);const h="string"==typeof l.optimizedModelFilePath?(0,a.allocWasmString)(l.optimizedModelFilePath,c):0;return u=s._OrtCreateSessionOptions(e,!!l.enableCpuMemArena,!!l.enableMemPattern,f,!!l.enableProfiling,0,d,p,g,h),0===u&&(0,a.checkLastError)("Can\'t create session options."),l.executionProviders&&((e,t,r)=>{for(const o of t){let t="string"==typeof o?o:o.name;switch(t){case"xnnpack":t="XNNPACK";break;case"webnn":if(t="WEBNN","string"!=typeof o){const t=o;if(null==t?void 0:t.deviceType){const o=(0,a.allocWasmString)("deviceType",r),i=(0,a.allocWasmString)(t.deviceType,r);0!==(0,n.getInstance)()._OrtAddSessionConfigEntry(e,o,i)&&(0,a.checkLastError)(`Can\'t set a session config entry: \'deviceType\' - ${t.deviceType}.`)}if(null==t?void 0:t.powerPreference){const o=(0,a.allocWasmString)("powerPreference",r),i=(0,a.allocWasmString)(t.powerPreference,r);0!==(0,n.getInstance)()._OrtAddSessionConfigEntry(e,o,i)&&(0,a.checkLastError)(`Can\'t set a session config entry: \'powerPreference\' - ${t.powerPreference}.`)}}break;case"webgpu":t="JS";break;case"wasm":case"cpu":continue;default:throw new Error(`not supported execution provider: ${t}`)}const i=(0,a.allocWasmString)(t,r);0!==(0,n.getInstance)()._OrtAppendExecutionProvider(e,i)&&(0,a.checkLastError)(`Can\'t append execution provider: ${t}.`)}})(u,l.executionProviders,c),void 0!==l.extra&&(0,a.iterateExtraOptions)(l.extra,"",new WeakSet,((e,t)=>{const r=(0,a.allocWasmString)(e,c),n=(0,a.allocWasmString)(t,c);0!==s._OrtAddSessionConfigEntry(u,r,n)&&(0,a.checkLastError)(`Can\'t set a session config entry: ${e} - ${t}.`)})),[u,c]}catch(e){throw 0!==u&&s._OrtReleaseSessionOptions(u),c.forEach((e=>s._free(e))),e}}},917:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.logLevelStringToEnum=t.tensorTypeToTypedArrayConstructor=t.getTensorElementSize=t.tensorDataTypeEnumToString=t.tensorDataTypeStringToEnum=void 0,t.tensorDataTypeStringToEnum=e=>{switch(e){case"int8":return 3;case"uint8":return 2;case"bool":return 9;case"int16":return 5;case"uint16":return 4;case"int32":return 6;case"uint32":return 12;case"float16":return 10;case"float32":return 1;case"float64":return 11;case"string":return 8;case"int64":return 7;case"uint64":return 13;default:throw new Error(`unsupported data type: ${e}`)}},t.tensorDataTypeEnumToString=e=>{switch(e){case 3:return"int8";case 2:return"uint8";case 9:return"bool";case 5:return"int16";case 4:return"uint16";case 6:return"int32";case 12:return"uint32";case 10:return"float16";case 1:return"float32";case 11:return"float64";case 8:return"string";case 7:return"int64";case 13:return"uint64";default:throw new Error(`unsupported data type: ${e}`)}},t.getTensorElementSize=e=>[void 0,4,1,1,2,2,4,8,void 0,1,2,8,4,8,void 0,void 0,void 0][e],t.tensorTypeToTypedArrayConstructor=e=>{switch(e){case"float16":case"uint16":return Uint16Array;case"float32":return Float32Array;case"uint8":case"bool":return Uint8Array;case"int8":return Int8Array;case"int16":return Int16Array;case"int32":return Int32Array;case"float64":return Float64Array;case"uint32":return Uint32Array;case"int64":return BigInt64Array;case"uint64":return BigUint64Array;default:throw new Error(`unsupported type: ${e}`)}},t.logLevelStringToEnum=e=>{switch(e){case"verbose":return 0;case"info":return 1;case"warning":return 2;case"error":return 3;case"fatal":return 4;default:throw new Error(`unsupported logging level: ${e}`)}}},259:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.extractTransferableBuffers=t.endProfiling=t.run=t.releaseSession=t.createSession=t.createSessionFinalize=t.createSessionAllocate=t.initRuntime=void 0;const n=r(918),a=r(622),o=r(917),i=r(263),s=r(497);t.initRuntime=async e=>{var t,r;t=e.wasm.numThreads,r=(0,o.logLevelStringToEnum)(e.logLevel),0!==(0,i.getInstance)()._OrtInit(t,r)&&(0,s.checkLastError)("Can\'t initialize onnxruntime.")};const u=new Map;t.createSessionAllocate=e=>{const t=(0,i.getInstance)(),r=t._malloc(e.byteLength);if(0===r)throw new Error(`Can\'t create a session. failed to allocate a buffer of size ${e.byteLength}.`);return t.HEAPU8.set(e,r),[r,e.byteLength]},t.createSessionFinalize=(e,t)=>{const r=(0,i.getInstance)();let n=0,o=0,c=[];const l=[],f=[];try{[o,c]=(0,a.setSessionOptions)(t),n=r._OrtCreateSession(e[0],e[1],o),0===n&&(0,s.checkLastError)("Can\'t create a session.");const[d,p]=(e=>{const t=(0,i.getInstance)(),r=t.stackSave();try{const r=t.stackAlloc(8);return 0!==t._OrtGetInputOutputCount(e,r,r+4)&&(0,s.checkLastError)("Can\'t get session input/output count."),[t.HEAP32[r/4],t.HEAP32[r/4+1]]}finally{t.stackRestore(r)}})(n),g=[],h=[];for(let e=0;e<d;e++){const t=r._OrtGetInputName(n,e);0===t&&(0,s.checkLastError)("Can\'t get an input name."),l.push(t),g.push(r.UTF8ToString(t))}for(let e=0;e<p;e++){const t=r._OrtGetOutputName(n,e);0===t&&(0,s.checkLastError)("Can\'t get an output name."),f.push(t),h.push(r.UTF8ToString(t))}return u.set(n,[n,l,f]),[n,g,h]}catch(e){throw l.forEach((e=>r._OrtFree(e))),f.forEach((e=>r._OrtFree(e))),0!==n&&r._OrtReleaseSession(n),e}finally{r._free(e[0]),0!==o&&r._OrtReleaseSessionOptions(o),c.forEach((e=>r._free(e)))}},t.createSession=(e,r)=>{const n=(0,t.createSessionAllocate)(e);return(0,t.createSessionFinalize)(n,r)},t.releaseSession=e=>{const t=(0,i.getInstance)(),r=u.get(e);if(!r)throw new Error(`cannot release session. invalid session id: ${e}`);const[n,a,o]=r;a.forEach((e=>t._OrtFree(e))),o.forEach((e=>t._OrtFree(e))),t._OrtReleaseSession(n),u.delete(e)},t.run=async(e,t,r,a,c)=>{const l=(0,i.getInstance)(),f=u.get(e);if(!f)throw new Error(`cannot run inference. invalid session id: ${e}`);const[d,p,g]=f,h=t.length,m=a.length;let y=0,v=[];const b=[],w=[];try{[y,v]=(0,n.setRunOptions)(c);for(let e=0;e<h;e++){const t=r[e][0],n=r[e][1],a=r[e][2];let i,u;if(Array.isArray(a)){u=4*a.length,i=l._malloc(u),w.push(i);let e=i/4;for(let t=0;t<a.length;t++){if("string"!=typeof a[t])throw new TypeError(`tensor data at index ${t} is not a string`);l.HEAPU32[e++]=(0,s.allocWasmString)(a[t],w)}}else u=a.byteLength,i=l._malloc(u),w.push(i),l.HEAPU8.set(new Uint8Array(a.buffer,a.byteOffset,u),i);const c=l.stackSave(),f=l.stackAlloc(4*n.length);try{let r=f/4;n.forEach((e=>l.HEAP32[r++]=e));const a=l._OrtCreateTensor((0,o.tensorDataTypeStringToEnum)(t),i,u,f,n.length);0===a&&(0,s.checkLastError)(`Can\'t create tensor for input[${e}].`),b.push(a)}finally{l.stackRestore(c)}}const e=l.stackSave(),i=l.stackAlloc(4*h),u=l.stackAlloc(4*h),f=l.stackAlloc(4*m),_=l.stackAlloc(4*m);try{let e=i/4,r=u/4,n=f/4,c=_/4;for(let n=0;n<h;n++)l.HEAPU32[e++]=b[n],l.HEAPU32[r++]=p[t[n]];for(let e=0;e<m;e++)l.HEAPU32[n++]=0,l.HEAPU32[c++]=g[a[e]];let v=l._OrtRun(d,u,i,h,_,m,f,y);const w=l.jsepRunPromise;w&&void 0!==w.then&&(v=await w);const O=[];0!==v&&(0,s.checkLastError)("failed to call OrtRun().");for(let e=0;e<m;e++){const t=l.HEAPU32[f/4+e],r=l.stackSave(),n=l.stackAlloc(16);let a,i=0;try{v=l._OrtGetTensorData(t,n,n+4,n+8,n+12),0!==v&&(0,s.checkLastError)(`Can\'t access output tensor data on index ${e}.`);let r=n/4;const u=l.HEAPU32[r++];i=l.HEAPU32[r++];const c=l.HEAPU32[r++],f=l.HEAPU32[r++],d=[];for(let e=0;e<f;e++)d.push(l.HEAPU32[c/4+e]);l._OrtFree(c);const p=0===d.length?1:d.reduce(((e,t)=>e*t));if(a=(0,o.tensorDataTypeEnumToString)(u),"string"===a){const e=[];let t=i/4;for(let r=0;r<p;r++){const n=l.HEAPU32[t++],a=r===p-1?void 0:l.HEAPU32[t]-n;e.push(l.UTF8ToString(n,a))}O.push([a,d,e])}else{const e=new((0,o.tensorTypeToTypedArrayConstructor)(a))(p);new Uint8Array(e.buffer,e.byteOffset,e.byteLength).set(l.HEAPU8.subarray(i,i+e.byteLength)),O.push([a,d,e])}}finally{l.stackRestore(r),"string"===a&&i&&l._free(i),l._OrtReleaseTensor(t)}}return O}finally{l.stackRestore(e)}}finally{b.forEach((e=>l._OrtReleaseTensor(e))),w.forEach((e=>l._free(e))),0!==y&&l._OrtReleaseRunOptions(y),v.forEach((e=>l._free(e)))}},t.endProfiling=e=>{const t=(0,i.getInstance)(),r=u.get(e);if(!r)throw new Error("invalid session id");const n=r[0],a=t._OrtEndProfiling(n);0===a&&(0,s.checkLastError)("Can\'t get an profile file name."),t._OrtFree(a)},t.extractTransferableBuffers=e=>{const t=[];for(const r of e){const e=r[2];!Array.isArray(e)&&e.buffer&&t.push(e.buffer)}return t}},263:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var a=Object.getOwnPropertyDescriptor(t,r);a&&!("get"in a?!t.__esModule:a.writable||a.configurable)||(a={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,a)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&n(t,e,r);return a(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.dispose=t.getInstance=t.initializeWebAssembly=void 0;const i=o(r(449)),s=r(932),u=r(474);let c,l=!1,f=!1,d=!1;t.initializeWebAssembly=async e=>{if(l)return Promise.resolve();if(f)throw new Error("multiple calls to \'initializeWebAssembly()\' detected.");if(d)throw new Error("previous call to \'initializeWebAssembly()\' failed.");f=!0;const t=e.initTimeout,n=e.numThreads,a=e.simd,o=n>1&&(()=>{try{return"undefined"!=typeof SharedArrayBuffer&&("undefined"!=typeof MessageChannel&&(new MessageChannel).port1.postMessage(new SharedArrayBuffer(1)),WebAssembly.validate(new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,2,1,0,5,4,1,3,1,1,10,11,1,9,0,65,0,254,16,2,0,26,11])))}catch(e){return!1}})(),p=a&&(()=>{try{return WebAssembly.validate(new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,2,1,0,10,30,1,28,0,65,0,253,15,253,12,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,253,186,1,26,11]))}catch(e){return!1}})(),g=e.wasmPaths,h="string"==typeof g?g:void 0,m=((e,t)=>t?e?"ort-wasm-simd-threaded.wasm":"ort-wasm-threaded.wasm":e?"ort-wasm-simd.wasm":"ort-wasm.wasm")(p,o),y="object"==typeof g?g[m]:void 0;let v=!1;const b=[];if(t>0&&b.push(new Promise((e=>{setTimeout((()=>{v=!0,e()}),t)}))),b.push(new Promise(((e,t)=>{const n=o?u:s,a={locateFile:(e,t)=>o&&e.endsWith(".worker.js")&&"undefined"!=typeof Blob?URL.createObjectURL(new Blob([r(154)],{type:"text/javascript"})):e.endsWith(".wasm")?y||(null!=h?h:t)+m:t+e};if(o)if("undefined"==typeof Blob)a.mainScriptUrlOrBlob=i.join(__dirname,"ort-wasm-threaded.js");else{const e=`var ortWasmThreaded=(function(){var _scriptDir;return ${n.toString()}})();`;a.mainScriptUrlOrBlob=new Blob([e],{type:"text/javascript"})}n(a).then((t=>{f=!1,l=!0,c=t,e()}),(e=>{f=!1,d=!0,t(e)}))}))),await Promise.race(b),v)throw new Error(`WebAssembly backend initializing failed due to timeout: ${t}ms`)},t.getInstance=()=>{if(l&&c)return c;throw new Error("WebAssembly is not initialized yet.")},t.dispose=()=>{var e;!l||f||d||(f=!0,null===(e=c.PThread)||void 0===e||e.terminateAllThreads(),c=void 0,f=!1,l=!1,d=!0)}},497:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.checkLastError=t.iterateExtraOptions=t.allocWasmString=void 0;const n=r(263);t.allocWasmString=(e,t)=>{const r=(0,n.getInstance)(),a=r.lengthBytesUTF8(e)+1,o=r._malloc(a);return r.stringToUTF8(e,o,a),t.push(o),o},t.iterateExtraOptions=(e,r,n,a)=>{if("object"==typeof e&&null!==e){if(n.has(e))throw new Error("Circular reference in options");n.add(e)}Object.entries(e).forEach((([e,o])=>{const i=r?r+e:e;if("object"==typeof o)(0,t.iterateExtraOptions)(o,i+".",n,a);else if("string"==typeof o||"number"==typeof o)a(i,o.toString());else{if("boolean"!=typeof o)throw new Error("Can\'t handle extra config type: "+typeof o);a(i,o?"1":"0")}}))},t.checkLastError=e=>{const t=(0,n.getInstance)(),r=t.stackSave();try{const r=t.stackAlloc(8);t._OrtGetLastError(r,r+4);const n=t.HEAP32[r/4],a=t.HEAPU32[r/4+1],o=a?t.UTF8ToString(a):"";throw new Error(`${e} ERROR_CODE: ${n}, ERROR_MESSAGE: ${o}`)}finally{t.stackRestore(r)}}},474:(e,t,r)=>{var _scriptDir,n=(_scriptDir="undefined"!=typeof document&&document.currentScript?document.currentScript.src:void 0,"undefined"!=typeof __filename&&(_scriptDir=_scriptDir||__filename),function(e={}){function t(){return k.buffer!=x.buffer&&Y(),x}function n(){return k.buffer!=x.buffer&&Y(),I}function a(){return k.buffer!=x.buffer&&Y(),U}function o(){return k.buffer!=x.buffer&&Y(),L}function i(){return k.buffer!=x.buffer&&Y(),W}var s,u,c=e;c.ready=new Promise(((e,t)=>{s=e,u=t}));var l,f,d,p=Object.assign({},c),g="./this.program",h=(e,t)=>{throw t},m="object"==typeof window,y="function"==typeof importScripts,v="object"==typeof process&&"object"==typeof process.versions&&"string"==typeof process.versions.node,b=c.ENVIRONMENT_IS_PTHREAD||!1,w="";function _(e){return c.locateFile?c.locateFile(e,w):w+e}if(v){var O=r(384),S=r(908);let t;w=y?S.dirname(w)+"/":__dirname+"/",l=(e,t)=>(e=e.startsWith("file://")?new URL(e):S.normalize(e),O.readFileSync(e,t?void 0:"utf8")),d=e=>((e=l(e,!0)).buffer||(e=new Uint8Array(e)),e),f=(e,t,r,n=!0)=>{e=e.startsWith("file://")?new URL(e):S.normalize(e),O.readFile(e,n?void 0:"utf8",((e,a)=>{e?r(e):t(n?a.buffer:a)}))},!c.thisProgram&&1<process.argv.length&&(g=process.argv[1].replace(/\\\\/g,"/")),process.argv.slice(2),h=(e,t)=>{throw process.exitCode=e,t},c.inspect=()=>"[Emscripten Module object]";try{t=r(925)}catch(e){throw console.error(\'The "worker_threads" module is not supported in this node.js build - perhaps a newer version is needed?\'),e}global.Worker=t.Worker}else(m||y)&&(y?w=self.location.href:"undefined"!=typeof document&&document.currentScript&&(w=document.currentScript.src),_scriptDir&&(w=_scriptDir),w=0!==w.indexOf("blob:")?w.substr(0,w.replace(/[?#].*/,"").lastIndexOf("/")+1):"",v||(l=e=>{var t=new XMLHttpRequest;return t.open("GET",e,!1),t.send(null),t.responseText},y&&(d=e=>{var t=new XMLHttpRequest;return t.open("GET",e,!1),t.responseType="arraybuffer",t.send(null),new Uint8Array(t.response)}),f=(e,t,r)=>{var n=new XMLHttpRequest;n.open("GET",e,!0),n.responseType="arraybuffer",n.onload=()=>{200==n.status||0==n.status&&n.response?t(n.response):r()},n.onerror=r,n.send(null)}));v&&"undefined"==typeof performance&&(global.performance=r(953).performance);var E=console.log.bind(console),A=console.error.bind(console);v&&(E=(...e)=>O.writeSync(1,e.join(" ")+"\\n"),A=(...e)=>O.writeSync(2,e.join(" ")+"\\n"));var T,M=c.print||E,R=c.printErr||A;Object.assign(c,p),p=null,c.thisProgram&&(g=c.thisProgram),c.quit&&(h=c.quit),c.wasmBinary&&(T=c.wasmBinary);var F=c.noExitRuntime||!0;"object"!=typeof WebAssembly&&te("no native wasm support detected");var k,C,P,D,x,I,U,L,W,H=!1;function Y(){var e=k.buffer;c.HEAP8=x=new Int8Array(e),c.HEAP16=new Int16Array(e),c.HEAP32=U=new Int32Array(e),c.HEAPU8=I=new Uint8Array(e),c.HEAPU16=new Uint16Array(e),c.HEAPU32=L=new Uint32Array(e),c.HEAPF32=new Float32Array(e),c.HEAPF64=W=new Float64Array(e)}var j=c.INITIAL_MEMORY||16777216;if(5242880<=j||te("INITIAL_MEMORY should be larger than STACK_SIZE, was "+j+"! (STACK_SIZE=5242880)"),b)k=c.wasmMemory;else if(c.wasmMemory)k=c.wasmMemory;else if(!((k=new WebAssembly.Memory({initial:j/65536,maximum:65536,shared:!0})).buffer instanceof SharedArrayBuffer))throw R("requested a shared WebAssembly.Memory but the returned buffer is not a SharedArrayBuffer, indicating that while the browser has SharedArrayBuffer it does not have WebAssembly threads support - you may need to set a flag"),v&&R("(on node you may need: --experimental-wasm-threads --experimental-wasm-bulk-memory and/or recent version)"),Error("bad memory");Y(),j=k.buffer.byteLength;var z,G=[],N=[],B=[],$=0;function q(){return F||0<$}var V,J,X=0,K=null,Z=null;function Q(){X++,c.monitorRunDependencies&&c.monitorRunDependencies(X)}function ee(){if(X--,c.monitorRunDependencies&&c.monitorRunDependencies(X),0==X&&(null!==K&&(clearInterval(K),K=null),Z)){var e=Z;Z=null,e()}}function te(e){throw c.onAbort&&c.onAbort(e),R(e="Aborted("+e+")"),H=!0,D=1,e=new WebAssembly.RuntimeError(e+". Build with -sASSERTIONS for more info."),u(e),e}function re(e){return e.startsWith("data:application/octet-stream;base64,")}function ne(e){if(e==V&&T)return new Uint8Array(T);if(d)return d(e);throw"both async and sync fetching of the wasm failed"}function ae(e,t,r){return function(e){if(!T&&(m||y)){if("function"==typeof fetch&&!e.startsWith("file://"))return fetch(e,{credentials:"same-origin"}).then((t=>{if(!t.ok)throw"failed to load wasm binary file at \'"+e+"\'";return t.arrayBuffer()})).catch((()=>ne(e)));if(f)return new Promise(((t,r)=>{f(e,(e=>t(new Uint8Array(e))),r)}))}return Promise.resolve().then((()=>ne(e)))}(e).then((e=>WebAssembly.instantiate(e,t))).then((e=>e)).then(r,(e=>{R("failed to asynchronously prepare wasm: "+e),te(e)}))}function oe(e){this.name="ExitStatus",this.message=`Program terminated with exit(${e})`,this.status=e}function ie(e){e.terminate(),e.onmessage=()=>{}}function se(e){(e=ge.Fa[e])||te(),ge.fb(e)}function ue(e){var t=ge.Za();if(!t)return 6;ge.Ia.push(t),ge.Fa[e.Ha]=t,t.Ha=e.Ha;var r={cmd:"run",start_routine:e.gb,arg:e.Ya,pthread_ptr:e.Ha};return v&&t.unref(),t.postMessage(r,e.mb),0}re(V="ort-wasm-threaded.wasm")||(V=_(V));var ce="undefined"!=typeof TextDecoder?new TextDecoder("utf8"):void 0,le=(e,t,r)=>{var n=(t>>>=0)+r;for(r=t;e[r]&&!(r>=n);)++r;if(16<r-t&&e.buffer&&ce)return ce.decode(e.buffer instanceof SharedArrayBuffer?e.slice(t,r):e.subarray(t,r));for(n="";t<r;){var a=e[t++];if(128&a){var o=63&e[t++];if(192==(224&a))n+=String.fromCharCode((31&a)<<6|o);else{var i=63&e[t++];65536>(a=224==(240&a)?(15&a)<<12|o<<6|i:(7&a)<<18|o<<12|i<<6|63&e[t++])?n+=String.fromCharCode(a):(a-=65536,n+=String.fromCharCode(55296|a>>10,56320|1023&a))}}else n+=String.fromCharCode(a)}return n},fe=(e,t)=>(e>>>=0)?le(n(),e,t):"";function de(e){if(b)return qe(1,1,e);D=e,q()||(ge.hb(),c.onExit&&c.onExit(e),H=!0),h(e,new oe(e))}var pe=e=>{if(D=e,b)throw me(e),"unwind";de(e)},ge={La:[],Ia:[],Ta:[],Fa:{},Pa:function(){b?ge.ab():ge.$a()},$a:function(){G.unshift((()=>{Q(),ge.bb((()=>ee()))}))},ab:function(){ge.receiveObjectTransfer=ge.eb,ge.threadInitTLS=ge.Sa,ge.setExitStatus=ge.Ra,F=!1},Ra:function(e){D=e},rb:["$terminateWorker"],hb:function(){for(var e of ge.Ia)ie(e);for(e of ge.La)ie(e);ge.La=[],ge.Ia=[],ge.Fa=[]},fb:function(e){var t=e.Ha;delete ge.Fa[t],ge.La.push(e),ge.Ia.splice(ge.Ia.indexOf(e),1),e.Ha=0,yt(t)},eb:function(){},Sa:function(){ge.Ta.forEach((e=>e()))},cb:e=>new Promise((t=>{e.onmessage=r=>{var n=(r=r.data).cmd;if(r.targetThread&&r.targetThread!=dt()){var a=ge.Fa[r.qb];a?a.postMessage(r,r.transferList):R(\'Internal error! Worker sent a message "\'+n+\'" to target pthread \'+r.targetThread+", but that thread no longer exists!")}else"checkMailbox"===n?He():"spawnThread"===n?ue(r):"cleanupThread"===n?se(r.thread):"killThread"===n?(r=r.thread,n=ge.Fa[r],delete ge.Fa[r],ie(n),yt(r),ge.Ia.splice(ge.Ia.indexOf(n),1),n.Ha=0):"cancelThread"===n?ge.Fa[r.thread].postMessage({cmd:"cancel"}):"loaded"===n?(e.loaded=!0,t(e)):"alert"===n?alert("Thread "+r.threadId+": "+r.text):"setimmediate"===r.target?e.postMessage(r):"callHandler"===n?c[r.handler](...r.args):n&&R("worker sent an unknown command "+n)},e.onerror=e=>{throw R("worker sent an error! "+e.filename+":"+e.lineno+": "+e.message),e},v&&(e.on("message",(function(t){e.onmessage({data:t})})),e.on("error",(function(t){e.onerror(t)})));var r,n=[];for(r of["onExit","onAbort","print","printErr"])c.hasOwnProperty(r)&&n.push(r);e.postMessage({cmd:"load",handlers:n,urlOrBlob:c.mainScriptUrlOrBlob||_scriptDir,wasmMemory:k,wasmModule:P})})),bb:function(e){e()},Xa:function(){var e=_("ort-wasm-threaded.worker.js");e=new Worker(e),ge.La.push(e)},Za:function(){return 0==ge.La.length&&(ge.Xa(),ge.cb(ge.La[0])),ge.La.pop()}};c.PThread=ge;var he=e=>{for(;0<e.length;)e.shift()(c)};function me(e){if(b)return qe(2,0,e);pe(e)}c.establishStackSpace=function(){var e=dt(),t=a()[e+52>>2>>>0];e=a()[e+56>>2>>>0],_t(t,t-e),St(t)};var ye=[];function ve(e){this.Oa=e-24,this.Wa=function(e){o()[this.Oa+4>>2>>>0]=e},this.Va=function(e){o()[this.Oa+8>>2>>>0]=e},this.Pa=function(e,t){this.Ua(),this.Wa(e),this.Va(t)},this.Ua=function(){o()[this.Oa+16>>2>>>0]=0}}function be(e,t,r,n){return b?qe(3,1,e,t,r,n):we(e,t,r,n)}function we(e,t,r,n){if(e>>>=0,t>>>=0,r>>>=0,n>>>=0,"undefined"==typeof SharedArrayBuffer)return R("Current environment does not support SharedArrayBuffer, pthreads are not available!"),6;var a=[];return b&&0===a.length?be(e,t,r,n):(e={gb:r,Ha:e,Ya:n,mb:a},b?(e.ob="spawnThread",postMessage(e,a),0):ue(e))}function _e(e,t,r){return b?qe(4,1,e,t,r):0}function Oe(e,t){if(b)return qe(5,1,e,t)}c.invokeEntryPoint=function(e,t){var r=ye[e];r||(e>=ye.length&&(ye.length=e+1),ye[e]=r=z.get(e)),e=r(t),q()?ge.Ra(e):vt(e)};var Se=e=>{for(var t=0,r=0;r<e.length;++r){var n=e.charCodeAt(r);127>=n?t++:2047>=n?t+=2:55296<=n&&57343>=n?(t+=4,++r):t+=3}return t},Ee=(e,t,r,n)=>{if(!(0<n))return 0;var a=r>>>=0;n=r+n-1;for(var o=0;o<e.length;++o){var i=e.charCodeAt(o);if(55296<=i&&57343>=i&&(i=65536+((1023&i)<<10)|1023&e.charCodeAt(++o)),127>=i){if(r>=n)break;t[r++>>>0]=i}else{if(2047>=i){if(r+1>=n)break;t[r++>>>0]=192|i>>6}else{if(65535>=i){if(r+2>=n)break;t[r++>>>0]=224|i>>12}else{if(r+3>=n)break;t[r++>>>0]=240|i>>18,t[r++>>>0]=128|i>>12&63}t[r++>>>0]=128|i>>6&63}t[r++>>>0]=128|63&i}}return t[r>>>0]=0,r-a},Ae=(e,t,r)=>Ee(e,n(),t,r);function Te(e,t){if(b)return qe(6,1,e,t)}function Me(e,t,r){if(b)return qe(7,1,e,t,r)}function Re(e,t,r){return b?qe(8,1,e,t,r):0}function Fe(e,t){if(b)return qe(9,1,e,t)}function ke(e,t,r){if(b)return qe(10,1,e,t,r)}function Ce(e,t,r,n){if(b)return qe(11,1,e,t,r,n)}function Pe(e,t,r,n){if(b)return qe(12,1,e,t,r,n)}function De(e,t,r,n){if(b)return qe(13,1,e,t,r,n)}function xe(e){if(b)return qe(14,1,e)}function Ie(e,t){if(b)return qe(15,1,e,t)}function Ue(e,t,r){if(b)return qe(16,1,e,t,r)}var Le=e=>{if(!H)try{if(e(),!q())try{b?vt(D):pe(D)}catch(e){e instanceof oe||"unwind"==e||h(1,e)}}catch(e){e instanceof oe||"unwind"==e||h(1,e)}};function We(e){e>>>=0,"function"==typeof Atomics.nb&&(Atomics.nb(a(),e>>2,e).value.then(He),e+=128,Atomics.store(a(),e>>2,1))}function He(){var e=dt();e&&(We(e),Le((()=>bt())))}c.__emscripten_thread_mailbox_await=We,c.checkMailbox=He;var Ye=e=>0==e%4&&(0!=e%100||0==e%400),je=[0,31,60,91,121,152,182,213,244,274,305,335],ze=[0,31,59,90,120,151,181,212,243,273,304,334];function Ge(e,t,r,n,a,o,i,s){return b?qe(17,1,e,t,r,n,a,o,i,s):-52}function Ne(e,t,r,n,a,o,i){if(b)return qe(18,1,e,t,r,n,a,o,i)}var Be=e=>{var t=Se(e)+1,r=pt(t);return r&&Ae(e,r,t),r},$e=e=>{var t=Ot();return e=e(),St(t),e};function qe(e,t){var r=arguments.length-2,n=arguments;return $e((()=>{for(var a=Et(8*r),o=a>>3,s=0;s<r;s++){var u=n[2+s];i()[o+s>>>0]=u}return mt(e,r,a,t)}))}var Ve,Je=[],Xe={},Ke=()=>{if(!Ve){var e,t={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:("object"==typeof navigator&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",_:g||"./this.program"};for(e in Xe)void 0===Xe[e]?delete t[e]:t[e]=Xe[e];var r=[];for(e in t)r.push(`${e}=${t[e]}`);Ve=r}return Ve};function Ze(e,r){if(b)return qe(19,1,e,r);e>>>=0,r>>>=0;var n=0;return Ke().forEach((function(a,i){var s=r+n;for(i=o()[e+4*i>>2>>>0]=s,s=0;s<a.length;++s)t()[i++>>0>>>0]=a.charCodeAt(s);t()[i>>0>>>0]=0,n+=a.length+1})),0}function Qe(e,t){if(b)return qe(20,1,e,t);e>>>=0,t>>>=0;var r=Ke();o()[e>>2>>>0]=r.length;var n=0;return r.forEach((function(e){n+=e.length+1})),o()[t>>2>>>0]=n,0}function et(e){return b?qe(21,1,e):52}function tt(e,t,r,n){return b?qe(22,1,e,t,r,n):52}function rt(e,t,r,n,a){return b?qe(23,1,e,t,r,n,a):70}var nt=[null,[],[]];function at(e,t,r,a){if(b)return qe(24,1,e,t,r,a);t>>>=0,r>>>=0,a>>>=0;for(var i=0,s=0;s<r;s++){var u=o()[t>>2>>>0],c=o()[t+4>>2>>>0];t+=8;for(var l=0;l<c;l++){var f=n()[u+l>>>0],d=nt[e];0===f||10===f?((1===e?M:R)(le(d,0)),d.length=0):d.push(f)}i+=c}return o()[a>>2>>>0]=i,0}var ot=e=>(ot=(()=>{if("object"==typeof crypto&&"function"==typeof crypto.getRandomValues)return e=>(e.set(crypto.getRandomValues(new Uint8Array(e.byteLength))),e);if(v)try{var e=r(760);if(e.randomFillSync)return t=>e.randomFillSync(t);var t=e.randomBytes;return e=>(e.set(t(e.byteLength)),e)}catch(e){}te("initRandomDevice")})())(e),it=[31,29,31,30,31,30,31,31,30,31,30,31],st=[31,28,31,30,31,30,31,31,30,31,30,31],ut=(e,r)=>{t().set(e,r>>>0)};function ct(e,t,r,n){function o(e,t,r){for(e="number"==typeof e?e.toString():e||"";e.length<t;)e=r[0]+e;return e}function i(e,t){return o(e,t,"0")}function s(e,t){function r(e){return 0>e?-1:0<e?1:0}var n;return 0===(n=r(e.getFullYear()-t.getFullYear()))&&0===(n=r(e.getMonth()-t.getMonth()))&&(n=r(e.getDate()-t.getDate())),n}function u(e){switch(e.getDay()){case 0:return new Date(e.getFullYear()-1,11,29);case 1:return e;case 2:return new Date(e.getFullYear(),0,3);case 3:return new Date(e.getFullYear(),0,2);case 4:return new Date(e.getFullYear(),0,1);case 5:return new Date(e.getFullYear()-1,11,31);case 6:return new Date(e.getFullYear()-1,11,30)}}function c(e){var t=e.Ja;for(e=new Date(new Date(e.Ka+1900,0,1).getTime());0<t;){var r=e.getMonth(),n=(Ye(e.getFullYear())?it:st)[r];if(!(t>n-e.getDate())){e.setDate(e.getDate()+t);break}t-=n-e.getDate()+1,e.setDate(1),11>r?e.setMonth(r+1):(e.setMonth(0),e.setFullYear(e.getFullYear()+1))}return r=new Date(e.getFullYear()+1,0,4),t=u(new Date(e.getFullYear(),0,4)),r=u(r),0>=s(t,e)?0>=s(r,e)?e.getFullYear()+1:e.getFullYear():e.getFullYear()-1}e>>>=0,t>>>=0,r>>>=0,n>>>=0;var l=a()[n+40>>2>>>0];for(var f in n={kb:a()[n>>2>>>0],jb:a()[n+4>>2>>>0],Ma:a()[n+8>>2>>>0],Qa:a()[n+12>>2>>>0],Na:a()[n+16>>2>>>0],Ka:a()[n+20>>2>>>0],Ga:a()[n+24>>2>>>0],Ja:a()[n+28>>2>>>0],sb:a()[n+32>>2>>>0],ib:a()[n+36>>2>>>0],lb:l?fe(l):""},r=fe(r),l={"%c":"%a %b %d %H:%M:%S %Y","%D":"%m/%d/%y","%F":"%Y-%m-%d","%h":"%b","%r":"%I:%M:%S %p","%R":"%H:%M","%T":"%H:%M:%S","%x":"%m/%d/%y","%X":"%H:%M:%S","%Ec":"%c","%EC":"%C","%Ex":"%m/%d/%y","%EX":"%H:%M:%S","%Ey":"%y","%EY":"%Y","%Od":"%d","%Oe":"%e","%OH":"%H","%OI":"%I","%Om":"%m","%OM":"%M","%OS":"%S","%Ou":"%u","%OU":"%U","%OV":"%V","%Ow":"%w","%OW":"%W","%Oy":"%y"})r=r.replace(new RegExp(f,"g"),l[f]);var d="Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),p="January February March April May June July August September October November December".split(" ");for(f in l={"%a":e=>d[e.Ga].substring(0,3),"%A":e=>d[e.Ga],"%b":e=>p[e.Na].substring(0,3),"%B":e=>p[e.Na],"%C":e=>i((e.Ka+1900)/100|0,2),"%d":e=>i(e.Qa,2),"%e":e=>o(e.Qa,2," "),"%g":e=>c(e).toString().substring(2),"%G":e=>c(e),"%H":e=>i(e.Ma,2),"%I":e=>(0==(e=e.Ma)?e=12:12<e&&(e-=12),i(e,2)),"%j":e=>{for(var t=0,r=0;r<=e.Na-1;t+=(Ye(e.Ka+1900)?it:st)[r++]);return i(e.Qa+t,3)},"%m":e=>i(e.Na+1,2),"%M":e=>i(e.jb,2),"%n":()=>"\\n","%p":e=>0<=e.Ma&&12>e.Ma?"AM":"PM","%S":e=>i(e.kb,2),"%t":()=>"\\t","%u":e=>e.Ga||7,"%U":e=>i(Math.floor((e.Ja+7-e.Ga)/7),2),"%V":e=>{var t=Math.floor((e.Ja+7-(e.Ga+6)%7)/7);if(2>=(e.Ga+371-e.Ja-2)%7&&t++,t)53==t&&(4==(r=(e.Ga+371-e.Ja)%7)||3==r&&Ye(e.Ka)||(t=1));else{t=52;var r=(e.Ga+7-e.Ja-1)%7;(4==r||5==r&&Ye(e.Ka%400-1))&&t++}return i(t,2)},"%w":e=>e.Ga,"%W":e=>i(Math.floor((e.Ja+7-(e.Ga+6)%7)/7),2),"%y":e=>(e.Ka+1900).toString().substring(2),"%Y":e=>e.Ka+1900,"%z":e=>{var t=0<=(e=e.ib);return e=Math.abs(e)/60,(t?"+":"-")+String("0000"+(e/60*100+e%60)).slice(-4)},"%Z":e=>e.lb,"%%":()=>"%"},r=r.replace(/%%/g,"\\0\\0"),l)r.includes(f)&&(r=r.replace(new RegExp(f,"g"),l[f](n)));return f=function(e){var t=Array(Se(e)+1);return Ee(e,t,0,t.length),t}(r=r.replace(/\\0\\0/g,"%")),f.length>t?0:(ut(f,e),f.length-1)}ge.Pa();var lt=[null,de,me,be,_e,Oe,Te,Me,Re,Fe,ke,Ce,Pe,De,xe,Ie,Ue,Ge,Ne,Ze,Qe,et,tt,rt,at],ft={b:function(e,t,r){throw new ve(e>>>=0).Pa(t>>>0,r>>>0),e},N:function(e){gt(e>>>0,!y,1,!m,131072,!1),ge.Sa()},k:function(e){e>>>=0,b?postMessage({cmd:"cleanupThread",thread:e}):se(e)},I:we,h:_e,T:Oe,E:Te,G:Me,U:Re,R:Fe,J:ke,Q:Ce,o:Pe,F:De,C:xe,S:Ie,D:Ue,q:()=>!0,A:function(e,t){(e>>>=0)==t>>>0?setTimeout((()=>He())):b?postMessage({targetThread:e,cmd:"checkMailbox"}):(e=ge.Fa[e])&&e.postMessage({cmd:"checkMailbox"})},L:function(){return-1},M:We,p:function(e){v&&ge.Fa[e>>>0].ref()},t:function(e,t,r){e=t+2097152>>>0<4194305-!!e?(e>>>0)+4294967296*t:NaN,r>>>=0,e=new Date(1e3*e),a()[r>>2>>>0]=e.getUTCSeconds(),a()[r+4>>2>>>0]=e.getUTCMinutes(),a()[r+8>>2>>>0]=e.getUTCHours(),a()[r+12>>2>>>0]=e.getUTCDate(),a()[r+16>>2>>>0]=e.getUTCMonth(),a()[r+20>>2>>>0]=e.getUTCFullYear()-1900,a()[r+24>>2>>>0]=e.getUTCDay(),e=(e.getTime()-Date.UTC(e.getUTCFullYear(),0,1,0,0,0,0))/864e5|0,a()[r+28>>2>>>0]=e},u:function(e,t,r){e=t+2097152>>>0<4194305-!!e?(e>>>0)+4294967296*t:NaN,r>>>=0,e=new Date(1e3*e),a()[r>>2>>>0]=e.getSeconds(),a()[r+4>>2>>>0]=e.getMinutes(),a()[r+8>>2>>>0]=e.getHours(),a()[r+12>>2>>>0]=e.getDate(),a()[r+16>>2>>>0]=e.getMonth(),a()[r+20>>2>>>0]=e.getFullYear()-1900,a()[r+24>>2>>>0]=e.getDay(),t=(Ye(e.getFullYear())?je:ze)[e.getMonth()]+e.getDate()-1|0,a()[r+28>>2>>>0]=t,a()[r+36>>2>>>0]=-60*e.getTimezoneOffset(),t=new Date(e.getFullYear(),6,1).getTimezoneOffset();var n=new Date(e.getFullYear(),0,1).getTimezoneOffset();e=0|(t!=n&&e.getTimezoneOffset()==Math.min(n,t)),a()[r+32>>2>>>0]=e},v:function(e){e>>>=0;var t=new Date(a()[e+20>>2>>>0]+1900,a()[e+16>>2>>>0],a()[e+12>>2>>>0],a()[e+8>>2>>>0],a()[e+4>>2>>>0],a()[e>>2>>>0],0),r=a()[e+32>>2>>>0],n=t.getTimezoneOffset(),o=new Date(t.getFullYear(),6,1).getTimezoneOffset(),i=new Date(t.getFullYear(),0,1).getTimezoneOffset(),s=Math.min(i,o);return 0>r?a()[e+32>>2>>>0]=Number(o!=i&&s==n):0<r!=(s==n)&&(o=Math.max(i,o),t.setTime(t.getTime()+6e4*((0<r?s:o)-n))),a()[e+24>>2>>>0]=t.getDay(),r=(Ye(t.getFullYear())?je:ze)[t.getMonth()]+t.getDate()-1|0,a()[e+28>>2>>>0]=r,a()[e>>2>>>0]=t.getSeconds(),a()[e+4>>2>>>0]=t.getMinutes(),a()[e+8>>2>>>0]=t.getHours(),a()[e+12>>2>>>0]=t.getDate(),a()[e+16>>2>>>0]=t.getMonth(),a()[e+20>>2>>>0]=t.getYear(),e=t.getTime()/1e3,wt((J=e,1<=+Math.abs(J)?0<J?+Math.floor(J/4294967296)>>>0:~~+Math.ceil((J-+(~~J>>>0))/4294967296)>>>0:0)),e>>>0},r:Ge,s:Ne,z:function(e,t,r){function n(e){return(e=e.toTimeString().match(/\\(([A-Za-z ]+)\\)$/))?e[1]:"GMT"}e>>>=0,t>>>=0,r>>>=0;var i=(new Date).getFullYear(),s=new Date(i,0,1),u=new Date(i,6,1);i=s.getTimezoneOffset();var c=u.getTimezoneOffset(),l=Math.max(i,c);o()[e>>2>>>0]=60*l,a()[t>>2>>>0]=Number(i!=c),e=n(s),t=n(u),e=Be(e),t=Be(t),c<i?(o()[r>>2>>>0]=e,o()[r+4>>2>>>0]=t):(o()[r>>2>>>0]=t,o()[r+4>>2>>>0]=e)},c:()=>{te("")},l:function(){},i:function(){return Date.now()},V:()=>{throw $+=1,"unwind"},B:function(){return 4294901760},e:()=>performance.timeOrigin+performance.now(),f:function(){return v?r(993).cpus().length:navigator.hardwareConcurrency},K:function(e,t,r,n){for(ge.pb=t>>>0,Je.length=r,t=n>>>0>>3,n=0;n<r;n++)Je[n]=i()[t+n>>>0];return lt[e].apply(null,Je)},y:function(e){e>>>=0;var t=n().length;if(e<=t||4294901760<e)return!1;for(var r=1;4>=r;r*=2){var a=t*(1+.2/r);a=Math.min(a,e+100663296);var o=Math;a=Math.max(e,a);e:{o=o.min.call(o,4294901760,a+(65536-a%65536)%65536)-k.buffer.byteLength+65535>>>16;try{k.grow(o),Y();var i=1;break e}catch(e){}i=void 0}if(i)return!0}return!1},O:Ze,P:Qe,j:pe,g:et,n:tt,w:rt,m:at,x:function(e,t){return e>>>=0,t>>>=0,ot(n().subarray(e>>>0,e+t>>>0)),0},a:k||c.wasmMemory,H:ct,d:function(e,t,r,n){return ct(e>>>0,t>>>0,r>>>0,n>>>0)}};!function(){function e(e,t){return e=e.exports,C=e=function(e){var t=e=>()=>e()>>>0,r=e=>t=>e(t)>>>0;return(e=Object.assign({},e)).__errno_location=t(e.__errno_location),e.pthread_self=t(e.pthread_self),e.malloc=r(e.malloc),e.stackSave=t(e.stackSave),e.stackAlloc=r(e.stackAlloc),e}(e),ge.Ta.push(C.sa),z=C.ta,N.unshift(C.W),P=t,ee(),e}var t={a:ft};if(Q(),c.instantiateWasm)try{return c.instantiateWasm(t,e)}catch(e){R("Module.instantiateWasm callback failed with error: "+e),u(e)}(function(e,t){var r=V;return T||"function"!=typeof WebAssembly.instantiateStreaming||re(r)||r.startsWith("file://")||v||"function"!=typeof fetch?ae(r,e,t):fetch(r,{credentials:"same-origin"}).then((n=>WebAssembly.instantiateStreaming(n,e).then(t,(function(n){return R("wasm streaming compile failed: "+n),R("falling back to ArrayBuffer instantiation"),ae(r,e,t)}))))})(t,(function(t){e(t.instance,t.module)})).catch(u)}(),c._OrtInit=(e,t)=>(c._OrtInit=C.X)(e,t),c._OrtGetLastError=(e,t)=>(c._OrtGetLastError=C.Y)(e,t),c._OrtCreateSessionOptions=(e,t,r,n,a,o,i,s,u,l)=>(c._OrtCreateSessionOptions=C.Z)(e,t,r,n,a,o,i,s,u,l),c._OrtAppendExecutionProvider=(e,t)=>(c._OrtAppendExecutionProvider=C._)(e,t),c._OrtAddSessionConfigEntry=(e,t,r)=>(c._OrtAddSessionConfigEntry=C.$)(e,t,r),c._OrtReleaseSessionOptions=e=>(c._OrtReleaseSessionOptions=C.aa)(e),c._OrtCreateSession=(e,t,r)=>(c._OrtCreateSession=C.ba)(e,t,r),c._OrtReleaseSession=e=>(c._OrtReleaseSession=C.ca)(e),c._OrtGetInputOutputCount=(e,t,r)=>(c._OrtGetInputOutputCount=C.da)(e,t,r),c._OrtGetInputName=(e,t)=>(c._OrtGetInputName=C.ea)(e,t),c._OrtGetOutputName=(e,t)=>(c._OrtGetOutputName=C.fa)(e,t),c._OrtFree=e=>(c._OrtFree=C.ga)(e),c._OrtCreateTensor=(e,t,r,n,a)=>(c._OrtCreateTensor=C.ha)(e,t,r,n,a),c._OrtGetTensorData=(e,t,r,n,a)=>(c._OrtGetTensorData=C.ia)(e,t,r,n,a),c._OrtReleaseTensor=e=>(c._OrtReleaseTensor=C.ja)(e),c._OrtCreateRunOptions=(e,t,r,n)=>(c._OrtCreateRunOptions=C.ka)(e,t,r,n),c._OrtAddRunConfigEntry=(e,t,r)=>(c._OrtAddRunConfigEntry=C.la)(e,t,r),c._OrtReleaseRunOptions=e=>(c._OrtReleaseRunOptions=C.ma)(e),c._OrtRun=(e,t,r,n,a,o,i,s)=>(c._OrtRun=C.na)(e,t,r,n,a,o,i,s),c._OrtEndProfiling=e=>(c._OrtEndProfiling=C.oa)(e);var dt=c._pthread_self=()=>(dt=c._pthread_self=C.pa)(),pt=c._malloc=e=>(pt=c._malloc=C.qa)(e);c._free=e=>(c._free=C.ra)(e),c.__emscripten_tls_init=()=>(c.__emscripten_tls_init=C.sa)();var gt=c.__emscripten_thread_init=(e,t,r,n,a,o)=>(gt=c.__emscripten_thread_init=C.ua)(e,t,r,n,a,o);c.__emscripten_thread_crashed=()=>(c.__emscripten_thread_crashed=C.va)();var ht,mt=(e,t,r,n)=>(mt=C.wa)(e,t,r,n),yt=e=>(yt=C.xa)(e),vt=c.__emscripten_thread_exit=e=>(vt=c.__emscripten_thread_exit=C.ya)(e),bt=c.__emscripten_check_mailbox=()=>(bt=c.__emscripten_check_mailbox=C.za)(),wt=e=>(wt=C.Aa)(e),_t=(e,t)=>(_t=C.Ba)(e,t),Ot=()=>(Ot=C.Ca)(),St=e=>(St=C.Da)(e),Et=e=>(Et=C.Ea)(e);function At(){function e(){if(!ht&&(ht=!0,c.calledRun=!0,!H)&&(b||he(N),s(c),c.onRuntimeInitialized&&c.onRuntimeInitialized(),!b)){if(c.postRun)for("function"==typeof c.postRun&&(c.postRun=[c.postRun]);c.postRun.length;){var e=c.postRun.shift();B.unshift(e)}he(B)}}if(!(0<X))if(b)s(c),b||he(N),startWorker(c);else{if(c.preRun)for("function"==typeof c.preRun&&(c.preRun=[c.preRun]);c.preRun.length;)G.unshift(c.preRun.shift());he(G),0<X||(c.setStatus?(c.setStatus("Running..."),setTimeout((function(){setTimeout((function(){c.setStatus("")}),1),e()}),1)):e())}}if(c.keepRuntimeAlive=q,c.wasmMemory=k,c.stackAlloc=Et,c.stackSave=Ot,c.stackRestore=St,c.UTF8ToString=fe,c.stringToUTF8=Ae,c.lengthBytesUTF8=Se,c.ExitStatus=oe,c.PThread=ge,Z=function e(){ht||At(),ht||(Z=e)},c.preInit)for("function"==typeof c.preInit&&(c.preInit=[c.preInit]);0<c.preInit.length;)c.preInit.pop()();return At(),e.ready});e.exports=n},932:(e,t,r)=>{var _scriptDir,n=(_scriptDir="undefined"!=typeof document&&document.currentScript?document.currentScript.src:void 0,"undefined"!=typeof __filename&&(_scriptDir=_scriptDir||__filename),function(e={}){var t,n,a=e;a.ready=new Promise(((e,r)=>{t=e,n=r}));var o,i,s,u=Object.assign({},a),c="./this.program",l=(e,t)=>{throw t},f="object"==typeof window,d="function"==typeof importScripts,p="object"==typeof process&&"object"==typeof process.versions&&"string"==typeof process.versions.node,g="";if(p){var h=r(384),m=r(908);g=d?m.dirname(g)+"/":__dirname+"/",o=(e,t)=>(e=e.startsWith("file://")?new URL(e):m.normalize(e),h.readFileSync(e,t?void 0:"utf8")),s=e=>((e=o(e,!0)).buffer||(e=new Uint8Array(e)),e),i=(e,t,r,n=!0)=>{e=e.startsWith("file://")?new URL(e):m.normalize(e),h.readFile(e,n?void 0:"utf8",((e,a)=>{e?r(e):t(n?a.buffer:a)}))},!a.thisProgram&&1<process.argv.length&&(c=process.argv[1].replace(/\\\\/g,"/")),process.argv.slice(2),l=(e,t)=>{throw process.exitCode=e,t},a.inspect=()=>"[Emscripten Module object]"}else(f||d)&&(d?g=self.location.href:"undefined"!=typeof document&&document.currentScript&&(g=document.currentScript.src),_scriptDir&&(g=_scriptDir),g=0!==g.indexOf("blob:")?g.substr(0,g.replace(/[?#].*/,"").lastIndexOf("/")+1):"",o=e=>{var t=new XMLHttpRequest;return t.open("GET",e,!1),t.send(null),t.responseText},d&&(s=e=>{var t=new XMLHttpRequest;return t.open("GET",e,!1),t.responseType="arraybuffer",t.send(null),new Uint8Array(t.response)}),i=(e,t,r)=>{var n=new XMLHttpRequest;n.open("GET",e,!0),n.responseType="arraybuffer",n.onload=()=>{200==n.status||0==n.status&&n.response?t(n.response):r()},n.onerror=r,n.send(null)});var y,v=a.print||console.log.bind(console),b=a.printErr||console.error.bind(console);Object.assign(a,u),u=null,a.thisProgram&&(c=a.thisProgram),a.quit&&(l=a.quit),a.wasmBinary&&(y=a.wasmBinary);var w=a.noExitRuntime||!0;"object"!=typeof WebAssembly&&W("no native wasm support detected");var _,O,S,E,A,T,M=!1;function R(){var e=_.buffer;a.HEAP8=S=new Int8Array(e),a.HEAP16=new Int16Array(e),a.HEAP32=A=new Int32Array(e),a.HEAPU8=E=new Uint8Array(e),a.HEAPU16=new Uint16Array(e),a.HEAPU32=T=new Uint32Array(e),a.HEAPF32=new Float32Array(e),a.HEAPF64=new Float64Array(e)}var F=[],k=[],C=[];function P(){var e=a.preRun.shift();F.unshift(e)}var D,x,I=0,U=null,L=null;function W(e){throw a.onAbort&&a.onAbort(e),b(e="Aborted("+e+")"),M=!0,e=new WebAssembly.RuntimeError(e+". Build with -sASSERTIONS for more info."),n(e),e}function H(e){return e.startsWith("data:application/octet-stream;base64,")}if(!H(D="ort-wasm.wasm")){var Y=D;D=a.locateFile?a.locateFile(Y,g):g+Y}function j(e){if(e==D&&y)return new Uint8Array(y);if(s)return s(e);throw"both async and sync fetching of the wasm failed"}function z(e,t,r){return function(e){if(!y&&(f||d)){if("function"==typeof fetch&&!e.startsWith("file://"))return fetch(e,{credentials:"same-origin"}).then((t=>{if(!t.ok)throw"failed to load wasm binary file at \'"+e+"\'";return t.arrayBuffer()})).catch((()=>j(e)));if(i)return new Promise(((t,r)=>{i(e,(e=>t(new Uint8Array(e))),r)}))}return Promise.resolve().then((()=>j(e)))}(e).then((e=>WebAssembly.instantiate(e,t))).then((e=>e)).then(r,(e=>{b("failed to asynchronously prepare wasm: "+e),W(e)}))}function G(e){this.name="ExitStatus",this.message=`Program terminated with exit(${e})`,this.status=e}var N=e=>{for(;0<e.length;)e.shift()(a)};function B(e){this.qa=e-24,this.va=function(e){T[this.qa+4>>2>>>0]=e},this.ua=function(e){T[this.qa+8>>2>>>0]=e},this.sa=function(e,t){this.ta(),this.va(e),this.ua(t)},this.ta=function(){T[this.qa+16>>2>>>0]=0}}var $,q="undefined"!=typeof TextDecoder?new TextDecoder("utf8"):void 0,V=(e,t,r)=>{var n=(t>>>=0)+r;for(r=t;e[r]&&!(r>=n);)++r;if(16<r-t&&e.buffer&&q)return q.decode(e.subarray(t,r));for(n="";t<r;){var a=e[t++];if(128&a){var o=63&e[t++];if(192==(224&a))n+=String.fromCharCode((31&a)<<6|o);else{var i=63&e[t++];65536>(a=224==(240&a)?(15&a)<<12|o<<6|i:(7&a)<<18|o<<12|i<<6|63&e[t++])?n+=String.fromCharCode(a):(a-=65536,n+=String.fromCharCode(55296|a>>10,56320|1023&a))}}else n+=String.fromCharCode(a)}return n},J=(e,t)=>(e>>>=0)?V(E,e,t):"",X=e=>{for(var t=0,r=0;r<e.length;++r){var n=e.charCodeAt(r);127>=n?t++:2047>=n?t+=2:55296<=n&&57343>=n?(t+=4,++r):t+=3}return t},K=(e,t,r,n)=>{if(!(0<n))return 0;var a=r>>>=0;n=r+n-1;for(var o=0;o<e.length;++o){var i=e.charCodeAt(o);if(55296<=i&&57343>=i&&(i=65536+((1023&i)<<10)|1023&e.charCodeAt(++o)),127>=i){if(r>=n)break;t[r++>>>0]=i}else{if(2047>=i){if(r+1>=n)break;t[r++>>>0]=192|i>>6}else{if(65535>=i){if(r+2>=n)break;t[r++>>>0]=224|i>>12}else{if(r+3>=n)break;t[r++>>>0]=240|i>>18,t[r++>>>0]=128|i>>12&63}t[r++>>>0]=128|i>>6&63}t[r++>>>0]=128|63&i}}return t[r>>>0]=0,r-a},Z=e=>0==e%4&&(0!=e%100||0==e%400),Q=[0,31,60,91,121,152,182,213,244,274,305,335],ee=[0,31,59,90,120,151,181,212,243,273,304,334],te=e=>{var t=X(e)+1,r=le(t);return r&&K(e,E,r,t),r},re={},ne=()=>{if(!$){var e,t={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:("object"==typeof navigator&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",_:c||"./this.program"};for(e in re)void 0===re[e]?delete t[e]:t[e]=re[e];var r=[];for(e in t)r.push(`${e}=${t[e]}`);$=r}return $},ae=[null,[],[]],oe=e=>(oe=(()=>{if("object"==typeof crypto&&"function"==typeof crypto.getRandomValues)return e=>crypto.getRandomValues(e);if(p)try{var e=r(760);if(e.randomFillSync)return t=>e.randomFillSync(t);var t=e.randomBytes;return e=>(e.set(t(e.byteLength)),e)}catch(e){}W("initRandomDevice")})())(e),ie=[31,29,31,30,31,30,31,31,30,31,30,31],se=[31,28,31,30,31,30,31,31,30,31,30,31];function ue(e,t,r,n){function a(e,t,r){for(e="number"==typeof e?e.toString():e||"";e.length<t;)e=r[0]+e;return e}function o(e,t){return a(e,t,"0")}function i(e,t){function r(e){return 0>e?-1:0<e?1:0}var n;return 0===(n=r(e.getFullYear()-t.getFullYear()))&&0===(n=r(e.getMonth()-t.getMonth()))&&(n=r(e.getDate()-t.getDate())),n}function s(e){switch(e.getDay()){case 0:return new Date(e.getFullYear()-1,11,29);case 1:return e;case 2:return new Date(e.getFullYear(),0,3);case 3:return new Date(e.getFullYear(),0,2);case 4:return new Date(e.getFullYear(),0,1);case 5:return new Date(e.getFullYear()-1,11,31);case 6:return new Date(e.getFullYear()-1,11,30)}}function u(e){var t=e.ma;for(e=new Date(new Date(e.na+1900,0,1).getTime());0<t;){var r=e.getMonth(),n=(Z(e.getFullYear())?ie:se)[r];if(!(t>n-e.getDate())){e.setDate(e.getDate()+t);break}t-=n-e.getDate()+1,e.setDate(1),11>r?e.setMonth(r+1):(e.setMonth(0),e.setFullYear(e.getFullYear()+1))}return r=new Date(e.getFullYear()+1,0,4),t=s(new Date(e.getFullYear(),0,4)),r=s(r),0>=i(t,e)?0>=i(r,e)?e.getFullYear()+1:e.getFullYear():e.getFullYear()-1}e>>>=0,t>>>=0,r>>>=0;var c=A[40+(n>>>=0)>>2>>>0];for(var l in n={ya:A[n>>2>>>0],xa:A[n+4>>2>>>0],oa:A[n+8>>2>>>0],ra:A[n+12>>2>>>0],pa:A[n+16>>2>>>0],na:A[n+20>>2>>>0],ha:A[n+24>>2>>>0],ma:A[n+28>>2>>>0],Aa:A[n+32>>2>>>0],wa:A[n+36>>2>>>0],za:c?J(c):""},r=J(r),c={"%c":"%a %b %d %H:%M:%S %Y","%D":"%m/%d/%y","%F":"%Y-%m-%d","%h":"%b","%r":"%I:%M:%S %p","%R":"%H:%M","%T":"%H:%M:%S","%x":"%m/%d/%y","%X":"%H:%M:%S","%Ec":"%c","%EC":"%C","%Ex":"%m/%d/%y","%EX":"%H:%M:%S","%Ey":"%y","%EY":"%Y","%Od":"%d","%Oe":"%e","%OH":"%H","%OI":"%I","%Om":"%m","%OM":"%M","%OS":"%S","%Ou":"%u","%OU":"%U","%OV":"%V","%Ow":"%w","%OW":"%W","%Oy":"%y"})r=r.replace(new RegExp(l,"g"),c[l]);var f="Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),d="January February March April May June July August September October November December".split(" ");for(l in c={"%a":e=>f[e.ha].substring(0,3),"%A":e=>f[e.ha],"%b":e=>d[e.pa].substring(0,3),"%B":e=>d[e.pa],"%C":e=>o((e.na+1900)/100|0,2),"%d":e=>o(e.ra,2),"%e":e=>a(e.ra,2," "),"%g":e=>u(e).toString().substring(2),"%G":e=>u(e),"%H":e=>o(e.oa,2),"%I":e=>(0==(e=e.oa)?e=12:12<e&&(e-=12),o(e,2)),"%j":e=>{for(var t=0,r=0;r<=e.pa-1;t+=(Z(e.na+1900)?ie:se)[r++]);return o(e.ra+t,3)},"%m":e=>o(e.pa+1,2),"%M":e=>o(e.xa,2),"%n":()=>"\\n","%p":e=>0<=e.oa&&12>e.oa?"AM":"PM","%S":e=>o(e.ya,2),"%t":()=>"\\t","%u":e=>e.ha||7,"%U":e=>o(Math.floor((e.ma+7-e.ha)/7),2),"%V":e=>{var t=Math.floor((e.ma+7-(e.ha+6)%7)/7);if(2>=(e.ha+371-e.ma-2)%7&&t++,t)53==t&&(4==(r=(e.ha+371-e.ma)%7)||3==r&&Z(e.na)||(t=1));else{t=52;var r=(e.ha+7-e.ma-1)%7;(4==r||5==r&&Z(e.na%400-1))&&t++}return o(t,2)},"%w":e=>e.ha,"%W":e=>o(Math.floor((e.ma+7-(e.ha+6)%7)/7),2),"%y":e=>(e.na+1900).toString().substring(2),"%Y":e=>e.na+1900,"%z":e=>{var t=0<=(e=e.wa);return e=Math.abs(e)/60,(t?"+":"-")+String("0000"+(e/60*100+e%60)).slice(-4)},"%Z":e=>e.za,"%%":()=>"%"},r=r.replace(/%%/g,"\\0\\0"),c)r.includes(l)&&(r=r.replace(new RegExp(l,"g"),c[l](n)));return l=function(e){var t=Array(X(e)+1);return K(e,t,0,t.length),t}(r=r.replace(/\\0\\0/g,"%")),l.length>t?0:(S.set(l,e>>>0),l.length-1)}var ce={a:function(e,t,r){throw new B(e>>>=0).sa(t>>>0,r>>>0),e},e:function(){return 0},I:function(){},y:function(){},A:function(){},K:function(){return 0},G:function(){},B:function(){},F:function(){},g:function(){},z:function(){},w:function(){},H:function(){},x:function(){},k:()=>!0,n:function(e,t,r){e=t+2097152>>>0<4194305-!!e?(e>>>0)+4294967296*t:NaN,r>>>=0,e=new Date(1e3*e),A[r>>2>>>0]=e.getUTCSeconds(),A[r+4>>2>>>0]=e.getUTCMinutes(),A[r+8>>2>>>0]=e.getUTCHours(),A[r+12>>2>>>0]=e.getUTCDate(),A[r+16>>2>>>0]=e.getUTCMonth(),A[r+20>>2>>>0]=e.getUTCFullYear()-1900,A[r+24>>2>>>0]=e.getUTCDay(),A[r+28>>2>>>0]=(e.getTime()-Date.UTC(e.getUTCFullYear(),0,1,0,0,0,0))/864e5|0},o:function(e,t,r){e=t+2097152>>>0<4194305-!!e?(e>>>0)+4294967296*t:NaN,r>>>=0,e=new Date(1e3*e),A[r>>2>>>0]=e.getSeconds(),A[r+4>>2>>>0]=e.getMinutes(),A[r+8>>2>>>0]=e.getHours(),A[r+12>>2>>>0]=e.getDate(),A[r+16>>2>>>0]=e.getMonth(),A[r+20>>2>>>0]=e.getFullYear()-1900,A[r+24>>2>>>0]=e.getDay(),A[r+28>>2>>>0]=(Z(e.getFullYear())?Q:ee)[e.getMonth()]+e.getDate()-1|0,A[r+36>>2>>>0]=-60*e.getTimezoneOffset(),t=new Date(e.getFullYear(),6,1).getTimezoneOffset();var n=new Date(e.getFullYear(),0,1).getTimezoneOffset();A[r+32>>2>>>0]=0|(t!=n&&e.getTimezoneOffset()==Math.min(n,t))},p:function(e){e>>>=0;var t=new Date(A[e+20>>2>>>0]+1900,A[e+16>>2>>>0],A[e+12>>2>>>0],A[e+8>>2>>>0],A[e+4>>2>>>0],A[e>>2>>>0],0),r=A[e+32>>2>>>0],n=t.getTimezoneOffset(),a=new Date(t.getFullYear(),6,1).getTimezoneOffset(),o=new Date(t.getFullYear(),0,1).getTimezoneOffset(),i=Math.min(o,a);return 0>r?A[e+32>>2>>>0]=Number(a!=o&&i==n):0<r!=(i==n)&&(a=Math.max(o,a),t.setTime(t.getTime()+6e4*((0<r?i:a)-n))),A[e+24>>2>>>0]=t.getDay(),A[e+28>>2>>>0]=(Z(t.getFullYear())?Q:ee)[t.getMonth()]+t.getDate()-1|0,A[e>>2>>>0]=t.getSeconds(),A[e+4>>2>>>0]=t.getMinutes(),A[e+8>>2>>>0]=t.getHours(),A[e+12>>2>>>0]=t.getDate(),A[e+16>>2>>>0]=t.getMonth(),A[e+20>>2>>>0]=t.getYear(),e=t.getTime()/1e3,de((x=e,1<=+Math.abs(x)?0<x?+Math.floor(x/4294967296)>>>0:~~+Math.ceil((x-+(~~x>>>0))/4294967296)>>>0:0)),e>>>0},l:function(){return-52},m:function(){},u:function(e,t,r){function n(e){return(e=e.toTimeString().match(/\\(([A-Za-z ]+)\\)$/))?e[1]:"GMT"}r>>>=0;var a=(new Date).getFullYear(),o=new Date(a,0,1),i=new Date(a,6,1);a=o.getTimezoneOffset();var s=i.getTimezoneOffset();T[e>>>0>>2>>>0]=60*Math.max(a,s),A[t>>>0>>2>>>0]=Number(a!=s),e=n(o),t=n(i),e=te(e),t=te(t),s<a?(T[r>>2>>>0]=e,T[r+4>>2>>>0]=t):(T[r>>2>>>0]=t,T[r+4>>2>>>0]=e)},d:()=>{W("")},h:function(){return Date.now()},v:function(){return 4294901760},b:()=>performance.now(),J:function(e,t,r){return t>>>=0,E.copyWithin(e>>>0>>>0,t>>>0,t+(r>>>0)>>>0)},t:function(e){e>>>=0;var t=E.length;if(4294901760<e)return!1;for(var r=1;4>=r;r*=2){var n=t*(1+.2/r);n=Math.min(n,e+100663296);var a=Math;n=Math.max(e,n);e:{a=a.min.call(a,4294901760,n+(65536-n%65536)%65536)-_.buffer.byteLength+65535>>>16;try{_.grow(a),R();var o=1;break e}catch(e){}o=void 0}if(o)return!0}return!1},D:function(e,t){e>>>=0,t>>>=0;var r=0;return ne().forEach((function(n,a){var o=t+r;for(a=T[e+4*a>>2>>>0]=o,o=0;o<n.length;++o)S[a++>>0>>>0]=n.charCodeAt(o);S[a>>0>>>0]=0,r+=n.length+1})),0},E:function(e,t){e>>>=0,t>>>=0;var r=ne();T[e>>2>>>0]=r.length;var n=0;return r.forEach((function(e){n+=e.length+1})),T[t>>2>>>0]=n,0},s:e=>{w||(a.onExit&&a.onExit(e),M=!0),l(e,new G(e))},f:()=>52,j:function(){return 52},q:function(){return 70},i:function(e,t,r,n){t>>>=0,r>>>=0,n>>>=0;for(var a=0,o=0;o<r;o++){var i=T[t>>2>>>0],s=T[t+4>>2>>>0];t+=8;for(var u=0;u<s;u++){var c=E[i+u>>>0],l=ae[e];0===c||10===c?((1===e?v:b)(V(l,0)),l.length=0):l.push(c)}a+=s}return T[n>>2>>>0]=a,0},r:function(e,t){return e>>>=0,oe(E.subarray(e>>>0,e+(t>>>0)>>>0)),0},C:ue,c:function(e,t,r,n){return ue(e>>>0,t>>>0,r>>>0,n>>>0)}};!function(){function e(e){if(e=e.exports,O=e=function(e){var t=e=>()=>e()>>>0,r=e=>t=>e(t)>>>0;return(e=Object.assign({},e)).__errno_location=t(e.__errno_location),e.malloc=r(e.malloc),e.stackSave=t(e.stackSave),e.stackAlloc=r(e.stackAlloc),e}(e),_=O.L,R(),k.unshift(O.M),I--,a.monitorRunDependencies&&a.monitorRunDependencies(I),0==I&&(null!==U&&(clearInterval(U),U=null),L)){var t=L;L=null,t()}return e}var t={a:ce};if(I++,a.monitorRunDependencies&&a.monitorRunDependencies(I),a.instantiateWasm)try{return a.instantiateWasm(t,e)}catch(e){b("Module.instantiateWasm callback failed with error: "+e),n(e)}(function(e,t){var r=D;return y||"function"!=typeof WebAssembly.instantiateStreaming||H(r)||r.startsWith("file://")||p||"function"!=typeof fetch?z(r,e,t):fetch(r,{credentials:"same-origin"}).then((n=>WebAssembly.instantiateStreaming(n,e).then(t,(function(n){return b("wasm streaming compile failed: "+n),b("falling back to ArrayBuffer instantiation"),z(r,e,t)}))))})(t,(function(t){e(t.instance)})).catch(n)}(),a._OrtInit=(e,t)=>(a._OrtInit=O.N)(e,t),a._OrtGetLastError=(e,t)=>(a._OrtGetLastError=O.O)(e,t),a._OrtCreateSessionOptions=(e,t,r,n,o,i,s,u,c,l)=>(a._OrtCreateSessionOptions=O.P)(e,t,r,n,o,i,s,u,c,l),a._OrtAppendExecutionProvider=(e,t)=>(a._OrtAppendExecutionProvider=O.Q)(e,t),a._OrtAddSessionConfigEntry=(e,t,r)=>(a._OrtAddSessionConfigEntry=O.R)(e,t,r),a._OrtReleaseSessionOptions=e=>(a._OrtReleaseSessionOptions=O.S)(e),a._OrtCreateSession=(e,t,r)=>(a._OrtCreateSession=O.T)(e,t,r),a._OrtReleaseSession=e=>(a._OrtReleaseSession=O.U)(e),a._OrtGetInputOutputCount=(e,t,r)=>(a._OrtGetInputOutputCount=O.V)(e,t,r),a._OrtGetInputName=(e,t)=>(a._OrtGetInputName=O.W)(e,t),a._OrtGetOutputName=(e,t)=>(a._OrtGetOutputName=O.X)(e,t),a._OrtFree=e=>(a._OrtFree=O.Y)(e),a._OrtCreateTensor=(e,t,r,n,o)=>(a._OrtCreateTensor=O.Z)(e,t,r,n,o),a._OrtGetTensorData=(e,t,r,n,o)=>(a._OrtGetTensorData=O._)(e,t,r,n,o),a._OrtReleaseTensor=e=>(a._OrtReleaseTensor=O.$)(e),a._OrtCreateRunOptions=(e,t,r,n)=>(a._OrtCreateRunOptions=O.aa)(e,t,r,n),a._OrtAddRunConfigEntry=(e,t,r)=>(a._OrtAddRunConfigEntry=O.ba)(e,t,r),a._OrtReleaseRunOptions=e=>(a._OrtReleaseRunOptions=O.ca)(e),a._OrtRun=(e,t,r,n,o,i,s,u)=>(a._OrtRun=O.da)(e,t,r,n,o,i,s,u),a._OrtEndProfiling=e=>(a._OrtEndProfiling=O.ea)(e);var le=a._malloc=e=>(le=a._malloc=O.fa)(e);a._free=e=>(a._free=O.ga)(e);var fe,de=e=>(de=O.ia)(e),pe=()=>(pe=O.ja)(),ge=e=>(ge=O.ka)(e),he=e=>(he=O.la)(e);function me(){function e(){if(!fe&&(fe=!0,a.calledRun=!0,!M)){if(N(k),t(a),a.onRuntimeInitialized&&a.onRuntimeInitialized(),a.postRun)for("function"==typeof a.postRun&&(a.postRun=[a.postRun]);a.postRun.length;){var e=a.postRun.shift();C.unshift(e)}N(C)}}if(!(0<I)){if(a.preRun)for("function"==typeof a.preRun&&(a.preRun=[a.preRun]);a.preRun.length;)P();N(F),0<I||(a.setStatus?(a.setStatus("Running..."),setTimeout((function(){setTimeout((function(){a.setStatus("")}),1),e()}),1)):e())}}if(a.stackAlloc=he,a.stackSave=pe,a.stackRestore=ge,a.UTF8ToString=J,a.stringToUTF8=(e,t,r)=>K(e,E,t,r),a.lengthBytesUTF8=X,L=function e(){fe||me(),fe||(L=e)},a.preInit)for("function"==typeof a.preInit&&(a.preInit=[a.preInit]);0<a.preInit.length;)a.preInit.pop()();return me(),e.ready});e.exports=n},154:e=>{"use strict";e.exports=\'"use strict";var e={},a="object"==typeof process&&"object"==typeof process.versions&&"string"==typeof process.versions.node;if(a){var r=require("worker_threads"),t=r.parentPort;t.on("message",(e=>onmessage({data:e})));var s=require("fs");Object.assign(global,{self:global,require:require,Module:e,location:{href:__filename},Worker:r.Worker,importScripts:e=>(0,eval)(s.readFileSync(e,"utf8")+"//# sourceURL="+e),postMessage:e=>t.postMessage(e),performance:global.performance||{now:Date.now}})}var o=!1,d=function(){var e=Array.prototype.slice.call(arguments).join(" ");a?s.writeSync(2,e+"\\\\n"):console.error(e)};self.alert=function(){var a=Array.prototype.slice.call(arguments).join(" ");postMessage({cmd:"alert",text:a,threadId:e._pthread_self()})},e.instantiateWasm=(a,r)=>{var t=e.wasmModule;return e.wasmModule=null,r(new WebAssembly.Instance(t,a))},self.onunhandledrejection=e=>{throw e.reason??e},self.onmessage=function a(r){try{if("load"===r.data.cmd){let s=[];self.onmessage=e=>s.push(e),self.startWorker=r=>{e=r,postMessage({cmd:"loaded"});for(let e of s)a(e);self.onmessage=a},e.wasmModule=r.data.wasmModule;for(const a of r.data.handlers)e[a]=(...e)=>{postMessage({cmd:"callHandler",handler:a,args:e})};if(e.wasmMemory=r.data.wasmMemory,e.buffer=e.wasmMemory.buffer,e.ENVIRONMENT_IS_PTHREAD=!0,"string"==typeof r.data.urlOrBlob)importScripts(r.data.urlOrBlob);else{var t=URL.createObjectURL(r.data.urlOrBlob);importScripts(t),URL.revokeObjectURL(t)}ortWasmThreaded(e)}else if("run"===r.data.cmd){e.__emscripten_thread_init(r.data.pthread_ptr,0,0,1),e.__emscripten_thread_mailbox_await(r.data.pthread_ptr),e.establishStackSpace(),e.PThread.receiveObjectTransfer(r.data),e.PThread.threadInitTLS(),o||(o=!0);try{e.invokeEntryPoint(r.data.start_routine,r.data.arg)}catch(e){if("unwind"!=e)throw e}}else"cancel"===r.data.cmd?e._pthread_self()&&e.__emscripten_thread_exit(-1):"setimmediate"===r.data.target||("checkMailbox"===r.data.cmd?o&&e.checkMailbox():r.data.cmd&&(d("worker.js received unknown command "+r.data.cmd),d(r.data)))}catch(a){throw e.__emscripten_thread_crashed&&e.__emscripten_thread_crashed(),a}};\\n\'},760:()=>{},384:()=>{},993:()=>{},908:()=>{},953:()=>{},925:()=>{},449:()=>{}},t={};function r(n){var a=t[n];if(void 0!==a)return a.exports;var o=t[n]={exports:{}};return e[n].call(o.exports,o,o.exports,r),o.exports}(()=>{"use strict";const e=r(259),t=r(263);self.onmessage=r=>{switch(r.data.type){case"init-wasm":try{(0,t.initializeWebAssembly)(r.data.in).then((()=>postMessage({type:"init-wasm"})),(e=>postMessage({type:"init-wasm",err:e})))}catch(e){postMessage({type:"init-wasm",err:e})}break;case"init-ort":try{(0,e.initRuntime)(r.data.in).then((()=>postMessage({type:"init-ort"})),(e=>postMessage({type:"init-ort",err:e}))),postMessage({type:"init-ort"})}catch(e){postMessage({type:"init-ort",err:e})}break;case"create_allocate":try{const{model:t}=r.data.in,n=(0,e.createSessionAllocate)(t);postMessage({type:"create_allocate",out:n})}catch(e){postMessage({type:"create_allocate",err:e})}break;case"create_finalize":try{const{modeldata:t,options:n}=r.data.in,a=(0,e.createSessionFinalize)(t,n);postMessage({type:"create_finalize",out:a})}catch(e){postMessage({type:"create_finalize",err:e})}break;case"create":try{const{model:t,options:n}=r.data.in,a=(0,e.createSession)(t,n);postMessage({type:"create",out:a})}catch(e){postMessage({type:"create",err:e})}break;case"release":try{const t=r.data.in;(0,e.releaseSession)(t),postMessage({type:"release"})}catch(e){postMessage({type:"release",err:e})}break;case"run":try{const{sessionId:t,inputIndices:n,inputs:a,outputIndices:o,options:i}=r.data.in;(0,e.run)(t,n,a,o,i).then((t=>{postMessage({type:"run",out:t},(0,e.extractTransferableBuffers)(t))}),(e=>{postMessage({type:"run",err:e})}))}catch(e){postMessage({type:"run",err:e})}break;case"end-profiling":try{const t=r.data.in;(0,e.endProfiling)(t),postMessage({type:"end-profiling"})}catch(e){postMessage({type:"end-profiling",err:e})}}}})()})();\n',"Worker",void 0,void 0)}},6614:i=>{i.exports=function(t,s,u,l){var d=self||window;try{try{var y;try{y=new d.Blob([t])}catch{(y=new(d.BlobBuilder||d.WebKitBlobBuilder||d.MozBlobBuilder||d.MSBlobBuilder)).append(t),y=y.getBlob()}var g=d.URL||d.webkitURL,v=g.createObjectURL(y),f=new d[s](v,u);return g.revokeObjectURL(v),f}catch{return new d[s]("data:application/javascript,".concat(encodeURIComponent(t)),u)}}catch{if(!l)throw Error("Inline worker is not supported");return new d[s](l,u)}}},2446:(i,t,s)=>{var u,l,d,y=s(2100),g=y.Reader,v=y.Writer,f=y.util,c=y.roots.default||(y.roots.default={});c.onnx=((d={}).Version=(u={},(l=Object.create(u))[u[0]="_START_VERSION"]=0,l[u[1]="IR_VERSION_2017_10_10"]=1,l[u[2]="IR_VERSION_2017_10_30"]=2,l[u[3]="IR_VERSION_2017_11_3"]=3,l[u[4]="IR_VERSION_2019_1_22"]=4,l[u[5]="IR_VERSION_2019_3_18"]=5,l[u[6]="IR_VERSION_2019_9_19"]=6,l[u[7]="IR_VERSION_2020_5_8"]=7,l[u[8]="IR_VERSION_2021_7_30"]=8,l[u[9]="IR_VERSION"]=9,l),d.AttributeProto=function(){function r(e){if(this.floats=[],this.ints=[],this.strings=[],this.tensors=[],this.graphs=[],this.sparseTensors=[],this.typeProtos=[],e)for(var n=Object.keys(e),o=0;o<n.length;++o)e[n[o]]!=null&&(this[n[o]]=e[n[o]])}return r.prototype.name="",r.prototype.refAttrName="",r.prototype.docString="",r.prototype.type=0,r.prototype.f=0,r.prototype.i=f.Long?f.Long.fromBits(0,0,!1):0,r.prototype.s=f.newBuffer([]),r.prototype.t=null,r.prototype.g=null,r.prototype.sparseTensor=null,r.prototype.tp=null,r.prototype.floats=f.emptyArray,r.prototype.ints=f.emptyArray,r.prototype.strings=f.emptyArray,r.prototype.tensors=f.emptyArray,r.prototype.graphs=f.emptyArray,r.prototype.sparseTensors=f.emptyArray,r.prototype.typeProtos=f.emptyArray,r.create=function(e){return new r(e)},r.encode=function(e,n){if(n||(n=v.create()),e.name!=null&&Object.hasOwnProperty.call(e,"name")&&n.uint32(10).string(e.name),e.f!=null&&Object.hasOwnProperty.call(e,"f")&&n.uint32(21).float(e.f),e.i!=null&&Object.hasOwnProperty.call(e,"i")&&n.uint32(24).int64(e.i),e.s!=null&&Object.hasOwnProperty.call(e,"s")&&n.uint32(34).bytes(e.s),e.t!=null&&Object.hasOwnProperty.call(e,"t")&&c.onnx.TensorProto.encode(e.t,n.uint32(42).fork()).ldelim(),e.g!=null&&Object.hasOwnProperty.call(e,"g")&&c.onnx.GraphProto.encode(e.g,n.uint32(50).fork()).ldelim(),e.floats!=null&&e.floats.length){n.uint32(58).fork();for(var o=0;o<e.floats.length;++o)n.float(e.floats[o]);n.ldelim()}if(e.ints!=null&&e.ints.length){for(n.uint32(66).fork(),o=0;o<e.ints.length;++o)n.int64(e.ints[o]);n.ldelim()}if(e.strings!=null&&e.strings.length)for(o=0;o<e.strings.length;++o)n.uint32(74).bytes(e.strings[o]);if(e.tensors!=null&&e.tensors.length)for(o=0;o<e.tensors.length;++o)c.onnx.TensorProto.encode(e.tensors[o],n.uint32(82).fork()).ldelim();if(e.graphs!=null&&e.graphs.length)for(o=0;o<e.graphs.length;++o)c.onnx.GraphProto.encode(e.graphs[o],n.uint32(90).fork()).ldelim();if(e.docString!=null&&Object.hasOwnProperty.call(e,"docString")&&n.uint32(106).string(e.docString),e.tp!=null&&Object.hasOwnProperty.call(e,"tp")&&c.onnx.TypeProto.encode(e.tp,n.uint32(114).fork()).ldelim(),e.typeProtos!=null&&e.typeProtos.length)for(o=0;o<e.typeProtos.length;++o)c.onnx.TypeProto.encode(e.typeProtos[o],n.uint32(122).fork()).ldelim();if(e.type!=null&&Object.hasOwnProperty.call(e,"type")&&n.uint32(160).int32(e.type),e.refAttrName!=null&&Object.hasOwnProperty.call(e,"refAttrName")&&n.uint32(170).string(e.refAttrName),e.sparseTensor!=null&&Object.hasOwnProperty.call(e,"sparseTensor")&&c.onnx.SparseTensorProto.encode(e.sparseTensor,n.uint32(178).fork()).ldelim(),e.sparseTensors!=null&&e.sparseTensors.length)for(o=0;o<e.sparseTensors.length;++o)c.onnx.SparseTensorProto.encode(e.sparseTensors[o],n.uint32(186).fork()).ldelim();return n},r.encodeDelimited=function(e,n){return this.encode(e,n).ldelim()},r.decode=function(e,n){e instanceof g||(e=g.create(e));for(var o=n===void 0?e.len:e.pos+n,m=new c.onnx.AttributeProto;e.pos<o;){var _=e.uint32();switch(_>>>3){case 1:m.name=e.string();break;case 21:m.refAttrName=e.string();break;case 13:m.docString=e.string();break;case 20:m.type=e.int32();break;case 2:m.f=e.float();break;case 3:m.i=e.int64();break;case 4:m.s=e.bytes();break;case 5:m.t=c.onnx.TensorProto.decode(e,e.uint32());break;case 6:m.g=c.onnx.GraphProto.decode(e,e.uint32());break;case 22:m.sparseTensor=c.onnx.SparseTensorProto.decode(e,e.uint32());break;case 14:m.tp=c.onnx.TypeProto.decode(e,e.uint32());break;case 7:if(m.floats&&m.floats.length||(m.floats=[]),(7&_)==2)for(var x=e.uint32()+e.pos;e.pos<x;)m.floats.push(e.float());else m.floats.push(e.float());break;case 8:if(m.ints&&m.ints.length||(m.ints=[]),(7&_)==2)for(x=e.uint32()+e.pos;e.pos<x;)m.ints.push(e.int64());else m.ints.push(e.int64());break;case 9:m.strings&&m.strings.length||(m.strings=[]),m.strings.push(e.bytes());break;case 10:m.tensors&&m.tensors.length||(m.tensors=[]),m.tensors.push(c.onnx.TensorProto.decode(e,e.uint32()));break;case 11:m.graphs&&m.graphs.length||(m.graphs=[]),m.graphs.push(c.onnx.GraphProto.decode(e,e.uint32()));break;case 23:m.sparseTensors&&m.sparseTensors.length||(m.sparseTensors=[]),m.sparseTensors.push(c.onnx.SparseTensorProto.decode(e,e.uint32()));break;case 15:m.typeProtos&&m.typeProtos.length||(m.typeProtos=[]),m.typeProtos.push(c.onnx.TypeProto.decode(e,e.uint32()));break;default:e.skipType(7&_)}}return m},r.decodeDelimited=function(e){return e instanceof g||(e=new g(e)),this.decode(e,e.uint32())},r.verify=function(e){if(typeof e!="object"||e===null)return"object expected";if(e.name!=null&&e.hasOwnProperty("name")&&!f.isString(e.name))return"name: string expected";if(e.refAttrName!=null&&e.hasOwnProperty("refAttrName")&&!f.isString(e.refAttrName))return"refAttrName: string expected";if(e.docString!=null&&e.hasOwnProperty("docString")&&!f.isString(e.docString))return"docString: string expected";if(e.type!=null&&e.hasOwnProperty("type"))switch(e.type){default:return"type: enum value expected";case 0:case 1:case 2:case 3:case 4:case 5:case 11:case 13:case 6:case 7:case 8:case 9:case 10:case 12:case 14:}if(e.f!=null&&e.hasOwnProperty("f")&&typeof e.f!="number")return"f: number expected";if(e.i!=null&&e.hasOwnProperty("i")&&!(f.isInteger(e.i)||e.i&&f.isInteger(e.i.low)&&f.isInteger(e.i.high)))return"i: integer|Long expected";if(e.s!=null&&e.hasOwnProperty("s")&&!(e.s&&typeof e.s.length=="number"||f.isString(e.s)))return"s: buffer expected";if(e.t!=null&&e.hasOwnProperty("t")&&(o=c.onnx.TensorProto.verify(e.t)))return"t."+o;if(e.g!=null&&e.hasOwnProperty("g")&&(o=c.onnx.GraphProto.verify(e.g)))return"g."+o;if(e.sparseTensor!=null&&e.hasOwnProperty("sparseTensor")&&(o=c.onnx.SparseTensorProto.verify(e.sparseTensor)))return"sparseTensor."+o;if(e.tp!=null&&e.hasOwnProperty("tp")&&(o=c.onnx.TypeProto.verify(e.tp)))return"tp."+o;if(e.floats!=null&&e.hasOwnProperty("floats")){if(!Array.isArray(e.floats))return"floats: array expected";for(var n=0;n<e.floats.length;++n)if(typeof e.floats[n]!="number")return"floats: number[] expected"}if(e.ints!=null&&e.hasOwnProperty("ints")){if(!Array.isArray(e.ints))return"ints: array expected";for(n=0;n<e.ints.length;++n)if(!(f.isInteger(e.ints[n])||e.ints[n]&&f.isInteger(e.ints[n].low)&&f.isInteger(e.ints[n].high)))return"ints: integer|Long[] expected"}if(e.strings!=null&&e.hasOwnProperty("strings")){if(!Array.isArray(e.strings))return"strings: array expected";for(n=0;n<e.strings.length;++n)if(!(e.strings[n]&&typeof e.strings[n].length=="number"||f.isString(e.strings[n])))return"strings: buffer[] expected"}if(e.tensors!=null&&e.hasOwnProperty("tensors")){if(!Array.isArray(e.tensors))return"tensors: array expected";for(n=0;n<e.tensors.length;++n)if(o=c.onnx.TensorProto.verify(e.tensors[n]))return"tensors."+o}if(e.graphs!=null&&e.hasOwnProperty("graphs")){if(!Array.isArray(e.graphs))return"graphs: array expected";for(n=0;n<e.graphs.length;++n)if(o=c.onnx.GraphProto.verify(e.graphs[n]))return"graphs."+o}if(e.sparseTensors!=null&&e.hasOwnProperty("sparseTensors")){if(!Array.isArray(e.sparseTensors))return"sparseTensors: array expected";for(n=0;n<e.sparseTensors.length;++n)if(o=c.onnx.SparseTensorProto.verify(e.sparseTensors[n]))return"sparseTensors."+o}if(e.typeProtos!=null&&e.hasOwnProperty("typeProtos")){if(!Array.isArray(e.typeProtos))return"typeProtos: array expected";for(n=0;n<e.typeProtos.length;++n){var o;if(o=c.onnx.TypeProto.verify(e.typeProtos[n]))return"typeProtos."+o}}return null},r.fromObject=function(e){if(e instanceof c.onnx.AttributeProto)return e;var n=new c.onnx.AttributeProto;switch(e.name!=null&&(n.name=String(e.name)),e.refAttrName!=null&&(n.refAttrName=String(e.refAttrName)),e.docString!=null&&(n.docString=String(e.docString)),e.type){default:if(typeof e.type=="number"){n.type=e.type;break}break;case"UNDEFINED":case 0:n.type=0;break;case"FLOAT":case 1:n.type=1;break;case"INT":case 2:n.type=2;break;case"STRING":case 3:n.type=3;break;case"TENSOR":case 4:n.type=4;break;case"GRAPH":case 5:n.type=5;break;case"SPARSE_TENSOR":case 11:n.type=11;break;case"TYPE_PROTO":case 13:n.type=13;break;case"FLOATS":case 6:n.type=6;break;case"INTS":case 7:n.type=7;break;case"STRINGS":case 8:n.type=8;break;case"TENSORS":case 9:n.type=9;break;case"GRAPHS":case 10:n.type=10;break;case"SPARSE_TENSORS":case 12:n.type=12;break;case"TYPE_PROTOS":case 14:n.type=14}if(e.f!=null&&(n.f=Number(e.f)),e.i!=null&&(f.Long?(n.i=f.Long.fromValue(e.i)).unsigned=!1:typeof e.i=="string"?n.i=parseInt(e.i,10):typeof e.i=="number"?n.i=e.i:typeof e.i=="object"&&(n.i=new f.LongBits(e.i.low>>>0,e.i.high>>>0).toNumber())),e.s!=null&&(typeof e.s=="string"?f.base64.decode(e.s,n.s=f.newBuffer(f.base64.length(e.s)),0):e.s.length>=0&&(n.s=e.s)),e.t!=null){if(typeof e.t!="object")throw TypeError(".onnx.AttributeProto.t: object expected");n.t=c.onnx.TensorProto.fromObject(e.t)}if(e.g!=null){if(typeof e.g!="object")throw TypeError(".onnx.AttributeProto.g: object expected");n.g=c.onnx.GraphProto.fromObject(e.g)}if(e.sparseTensor!=null){if(typeof e.sparseTensor!="object")throw TypeError(".onnx.AttributeProto.sparseTensor: object expected");n.sparseTensor=c.onnx.SparseTensorProto.fromObject(e.sparseTensor)}if(e.tp!=null){if(typeof e.tp!="object")throw TypeError(".onnx.AttributeProto.tp: object expected");n.tp=c.onnx.TypeProto.fromObject(e.tp)}if(e.floats){if(!Array.isArray(e.floats))throw TypeError(".onnx.AttributeProto.floats: array expected");n.floats=[];for(var o=0;o<e.floats.length;++o)n.floats[o]=Number(e.floats[o])}if(e.ints){if(!Array.isArray(e.ints))throw TypeError(".onnx.AttributeProto.ints: array expected");for(n.ints=[],o=0;o<e.ints.length;++o)f.Long?(n.ints[o]=f.Long.fromValue(e.ints[o])).unsigned=!1:typeof e.ints[o]=="string"?n.ints[o]=parseInt(e.ints[o],10):typeof e.ints[o]=="number"?n.ints[o]=e.ints[o]:typeof e.ints[o]=="object"&&(n.ints[o]=new f.LongBits(e.ints[o].low>>>0,e.ints[o].high>>>0).toNumber())}if(e.strings){if(!Array.isArray(e.strings))throw TypeError(".onnx.AttributeProto.strings: array expected");for(n.strings=[],o=0;o<e.strings.length;++o)typeof e.strings[o]=="string"?f.base64.decode(e.strings[o],n.strings[o]=f.newBuffer(f.base64.length(e.strings[o])),0):e.strings[o].length>=0&&(n.strings[o]=e.strings[o])}if(e.tensors){if(!Array.isArray(e.tensors))throw TypeError(".onnx.AttributeProto.tensors: array expected");for(n.tensors=[],o=0;o<e.tensors.length;++o){if(typeof e.tensors[o]!="object")throw TypeError(".onnx.AttributeProto.tensors: object expected");n.tensors[o]=c.onnx.TensorProto.fromObject(e.tensors[o])}}if(e.graphs){if(!Array.isArray(e.graphs))throw TypeError(".onnx.AttributeProto.graphs: array expected");for(n.graphs=[],o=0;o<e.graphs.length;++o){if(typeof e.graphs[o]!="object")throw TypeError(".onnx.AttributeProto.graphs: object expected");n.graphs[o]=c.onnx.GraphProto.fromObject(e.graphs[o])}}if(e.sparseTensors){if(!Array.isArray(e.sparseTensors))throw TypeError(".onnx.AttributeProto.sparseTensors: array expected");for(n.sparseTensors=[],o=0;o<e.sparseTensors.length;++o){if(typeof e.sparseTensors[o]!="object")throw TypeError(".onnx.AttributeProto.sparseTensors: object expected");n.sparseTensors[o]=c.onnx.SparseTensorProto.fromObject(e.sparseTensors[o])}}if(e.typeProtos){if(!Array.isArray(e.typeProtos))throw TypeError(".onnx.AttributeProto.typeProtos: array expected");for(n.typeProtos=[],o=0;o<e.typeProtos.length;++o){if(typeof e.typeProtos[o]!="object")throw TypeError(".onnx.AttributeProto.typeProtos: object expected");n.typeProtos[o]=c.onnx.TypeProto.fromObject(e.typeProtos[o])}}return n},r.toObject=function(e,n){n||(n={});var o={};if((n.arrays||n.defaults)&&(o.floats=[],o.ints=[],o.strings=[],o.tensors=[],o.graphs=[],o.typeProtos=[],o.sparseTensors=[]),n.defaults){if(o.name="",o.f=0,f.Long){var m=new f.Long(0,0,!1);o.i=n.longs===String?m.toString():n.longs===Number?m.toNumber():m}else o.i=n.longs===String?"0":0;n.bytes===String?o.s="":(o.s=[],n.bytes!==Array&&(o.s=f.newBuffer(o.s))),o.t=null,o.g=null,o.docString="",o.tp=null,o.type=n.enums===String?"UNDEFINED":0,o.refAttrName="",o.sparseTensor=null}if(e.name!=null&&e.hasOwnProperty("name")&&(o.name=e.name),e.f!=null&&e.hasOwnProperty("f")&&(o.f=n.json&&!isFinite(e.f)?String(e.f):e.f),e.i!=null&&e.hasOwnProperty("i")&&(typeof e.i=="number"?o.i=n.longs===String?String(e.i):e.i:o.i=n.longs===String?f.Long.prototype.toString.call(e.i):n.longs===Number?new f.LongBits(e.i.low>>>0,e.i.high>>>0).toNumber():e.i),e.s!=null&&e.hasOwnProperty("s")&&(o.s=n.bytes===String?f.base64.encode(e.s,0,e.s.length):n.bytes===Array?Array.prototype.slice.call(e.s):e.s),e.t!=null&&e.hasOwnProperty("t")&&(o.t=c.onnx.TensorProto.toObject(e.t,n)),e.g!=null&&e.hasOwnProperty("g")&&(o.g=c.onnx.GraphProto.toObject(e.g,n)),e.floats&&e.floats.length){o.floats=[];for(var _=0;_<e.floats.length;++_)o.floats[_]=n.json&&!isFinite(e.floats[_])?String(e.floats[_]):e.floats[_]}if(e.ints&&e.ints.length)for(o.ints=[],_=0;_<e.ints.length;++_)typeof e.ints[_]=="number"?o.ints[_]=n.longs===String?String(e.ints[_]):e.ints[_]:o.ints[_]=n.longs===String?f.Long.prototype.toString.call(e.ints[_]):n.longs===Number?new f.LongBits(e.ints[_].low>>>0,e.ints[_].high>>>0).toNumber():e.ints[_];if(e.strings&&e.strings.length)for(o.strings=[],_=0;_<e.strings.length;++_)o.strings[_]=n.bytes===String?f.base64.encode(e.strings[_],0,e.strings[_].length):n.bytes===Array?Array.prototype.slice.call(e.strings[_]):e.strings[_];if(e.tensors&&e.tensors.length)for(o.tensors=[],_=0;_<e.tensors.length;++_)o.tensors[_]=c.onnx.TensorProto.toObject(e.tensors[_],n);if(e.graphs&&e.graphs.length)for(o.graphs=[],_=0;_<e.graphs.length;++_)o.graphs[_]=c.onnx.GraphProto.toObject(e.graphs[_],n);if(e.docString!=null&&e.hasOwnProperty("docString")&&(o.docString=e.docString),e.tp!=null&&e.hasOwnProperty("tp")&&(o.tp=c.onnx.TypeProto.toObject(e.tp,n)),e.typeProtos&&e.typeProtos.length)for(o.typeProtos=[],_=0;_<e.typeProtos.length;++_)o.typeProtos[_]=c.onnx.TypeProto.toObject(e.typeProtos[_],n);if(e.type!=null&&e.hasOwnProperty("type")&&(o.type=n.enums===String?c.onnx.AttributeProto.AttributeType[e.type]===void 0?e.type:c.onnx.AttributeProto.AttributeType[e.type]:e.type),e.refAttrName!=null&&e.hasOwnProperty("refAttrName")&&(o.refAttrName=e.refAttrName),e.sparseTensor!=null&&e.hasOwnProperty("sparseTensor")&&(o.sparseTensor=c.onnx.SparseTensorProto.toObject(e.sparseTensor,n)),e.sparseTensors&&e.sparseTensors.length)for(o.sparseTensors=[],_=0;_<e.sparseTensors.length;++_)o.sparseTensors[_]=c.onnx.SparseTensorProto.toObject(e.sparseTensors[_],n);return o},r.prototype.toJSON=function(){return this.constructor.toObject(this,y.util.toJSONOptions)},r.getTypeUrl=function(e){return e===void 0&&(e="type.googleapis.com"),e+"/onnx.AttributeProto"},r.AttributeType=function(){var e={},n=Object.create(e);return n[e[0]="UNDEFINED"]=0,n[e[1]="FLOAT"]=1,n[e[2]="INT"]=2,n[e[3]="STRING"]=3,n[e[4]="TENSOR"]=4,n[e[5]="GRAPH"]=5,n[e[11]="SPARSE_TENSOR"]=11,n[e[13]="TYPE_PROTO"]=13,n[e[6]="FLOATS"]=6,n[e[7]="INTS"]=7,n[e[8]="STRINGS"]=8,n[e[9]="TENSORS"]=9,n[e[10]="GRAPHS"]=10,n[e[12]="SPARSE_TENSORS"]=12,n[e[14]="TYPE_PROTOS"]=14,n}(),r}(),d.ValueInfoProto=function(){function r(e){if(e)for(var n=Object.keys(e),o=0;o<n.length;++o)e[n[o]]!=null&&(this[n[o]]=e[n[o]])}return r.prototype.name="",r.prototype.type=null,r.prototype.docString="",r.create=function(e){return new r(e)},r.encode=function(e,n){return n||(n=v.create()),e.name!=null&&Object.hasOwnProperty.call(e,"name")&&n.uint32(10).string(e.name),e.type!=null&&Object.hasOwnProperty.call(e,"type")&&c.onnx.TypeProto.encode(e.type,n.uint32(18).fork()).ldelim(),e.docString!=null&&Object.hasOwnProperty.call(e,"docString")&&n.uint32(26).string(e.docString),n},r.encodeDelimited=function(e,n){return this.encode(e,n).ldelim()},r.decode=function(e,n){e instanceof g||(e=g.create(e));for(var o=n===void 0?e.len:e.pos+n,m=new c.onnx.ValueInfoProto;e.pos<o;){var _=e.uint32();switch(_>>>3){case 1:m.name=e.string();break;case 2:m.type=c.onnx.TypeProto.decode(e,e.uint32());break;case 3:m.docString=e.string();break;default:e.skipType(7&_)}}return m},r.decodeDelimited=function(e){return e instanceof g||(e=new g(e)),this.decode(e,e.uint32())},r.verify=function(e){if(typeof e!="object"||e===null)return"object expected";if(e.name!=null&&e.hasOwnProperty("name")&&!f.isString(e.name))return"name: string expected";if(e.type!=null&&e.hasOwnProperty("type")){var n=c.onnx.TypeProto.verify(e.type);if(n)return"type."+n}return e.docString!=null&&e.hasOwnProperty("docString")&&!f.isString(e.docString)?"docString: string expected":null},r.fromObject=function(e){if(e instanceof c.onnx.ValueInfoProto)return e;var n=new c.onnx.ValueInfoProto;if(e.name!=null&&(n.name=String(e.name)),e.type!=null){if(typeof e.type!="object")throw TypeError(".onnx.ValueInfoProto.type: object expected");n.type=c.onnx.TypeProto.fromObject(e.type)}return e.docString!=null&&(n.docString=String(e.docString)),n},r.toObject=function(e,n){n||(n={});var o={};return n.defaults&&(o.name="",o.type=null,o.docString=""),e.name!=null&&e.hasOwnProperty("name")&&(o.name=e.name),e.type!=null&&e.hasOwnProperty("type")&&(o.type=c.onnx.TypeProto.toObject(e.type,n)),e.docString!=null&&e.hasOwnProperty("docString")&&(o.docString=e.docString),o},r.prototype.toJSON=function(){return this.constructor.toObject(this,y.util.toJSONOptions)},r.getTypeUrl=function(e){return e===void 0&&(e="type.googleapis.com"),e+"/onnx.ValueInfoProto"},r}(),d.NodeProto=function(){function r(e){if(this.input=[],this.output=[],this.attribute=[],e)for(var n=Object.keys(e),o=0;o<n.length;++o)e[n[o]]!=null&&(this[n[o]]=e[n[o]])}return r.prototype.input=f.emptyArray,r.prototype.output=f.emptyArray,r.prototype.name="",r.prototype.opType="",r.prototype.domain="",r.prototype.attribute=f.emptyArray,r.prototype.docString="",r.create=function(e){return new r(e)},r.encode=function(e,n){if(n||(n=v.create()),e.input!=null&&e.input.length)for(var o=0;o<e.input.length;++o)n.uint32(10).string(e.input[o]);if(e.output!=null&&e.output.length)for(o=0;o<e.output.length;++o)n.uint32(18).string(e.output[o]);if(e.name!=null&&Object.hasOwnProperty.call(e,"name")&&n.uint32(26).string(e.name),e.opType!=null&&Object.hasOwnProperty.call(e,"opType")&&n.uint32(34).string(e.opType),e.attribute!=null&&e.attribute.length)for(o=0;o<e.attribute.length;++o)c.onnx.AttributeProto.encode(e.attribute[o],n.uint32(42).fork()).ldelim();return e.docString!=null&&Object.hasOwnProperty.call(e,"docString")&&n.uint32(50).string(e.docString),e.domain!=null&&Object.hasOwnProperty.call(e,"domain")&&n.uint32(58).string(e.domain),n},r.encodeDelimited=function(e,n){return this.encode(e,n).ldelim()},r.decode=function(e,n){e instanceof g||(e=g.create(e));for(var o=n===void 0?e.len:e.pos+n,m=new c.onnx.NodeProto;e.pos<o;){var _=e.uint32();switch(_>>>3){case 1:m.input&&m.input.length||(m.input=[]),m.input.push(e.string());break;case 2:m.output&&m.output.length||(m.output=[]),m.output.push(e.string());break;case 3:m.name=e.string();break;case 4:m.opType=e.string();break;case 7:m.domain=e.string();break;case 5:m.attribute&&m.attribute.length||(m.attribute=[]),m.attribute.push(c.onnx.AttributeProto.decode(e,e.uint32()));break;case 6:m.docString=e.string();break;default:e.skipType(7&_)}}return m},r.decodeDelimited=function(e){return e instanceof g||(e=new g(e)),this.decode(e,e.uint32())},r.verify=function(e){if(typeof e!="object"||e===null)return"object expected";if(e.input!=null&&e.hasOwnProperty("input")){if(!Array.isArray(e.input))return"input: array expected";for(var n=0;n<e.input.length;++n)if(!f.isString(e.input[n]))return"input: string[] expected"}if(e.output!=null&&e.hasOwnProperty("output")){if(!Array.isArray(e.output))return"output: array expected";for(n=0;n<e.output.length;++n)if(!f.isString(e.output[n]))return"output: string[] expected"}if(e.name!=null&&e.hasOwnProperty("name")&&!f.isString(e.name))return"name: string expected";if(e.opType!=null&&e.hasOwnProperty("opType")&&!f.isString(e.opType))return"opType: string expected";if(e.domain!=null&&e.hasOwnProperty("domain")&&!f.isString(e.domain))return"domain: string expected";if(e.attribute!=null&&e.hasOwnProperty("attribute")){if(!Array.isArray(e.attribute))return"attribute: array expected";for(n=0;n<e.attribute.length;++n){var o=c.onnx.AttributeProto.verify(e.attribute[n]);if(o)return"attribute."+o}}return e.docString!=null&&e.hasOwnProperty("docString")&&!f.isString(e.docString)?"docString: string expected":null},r.fromObject=function(e){if(e instanceof c.onnx.NodeProto)return e;var n=new c.onnx.NodeProto;if(e.input){if(!Array.isArray(e.input))throw TypeError(".onnx.NodeProto.input: array expected");n.input=[];for(var o=0;o<e.input.length;++o)n.input[o]=String(e.input[o])}if(e.output){if(!Array.isArray(e.output))throw TypeError(".onnx.NodeProto.output: array expected");for(n.output=[],o=0;o<e.output.length;++o)n.output[o]=String(e.output[o])}if(e.name!=null&&(n.name=String(e.name)),e.opType!=null&&(n.opType=String(e.opType)),e.domain!=null&&(n.domain=String(e.domain)),e.attribute){if(!Array.isArray(e.attribute))throw TypeError(".onnx.NodeProto.attribute: array expected");for(n.attribute=[],o=0;o<e.attribute.length;++o){if(typeof e.attribute[o]!="object")throw TypeError(".onnx.NodeProto.attribute: object expected");n.attribute[o]=c.onnx.AttributeProto.fromObject(e.attribute[o])}}return e.docString!=null&&(n.docString=String(e.docString)),n},r.toObject=function(e,n){n||(n={});var o={};if((n.arrays||n.defaults)&&(o.input=[],o.output=[],o.attribute=[]),n.defaults&&(o.name="",o.opType="",o.docString="",o.domain=""),e.input&&e.input.length){o.input=[];for(var m=0;m<e.input.length;++m)o.input[m]=e.input[m]}if(e.output&&e.output.length)for(o.output=[],m=0;m<e.output.length;++m)o.output[m]=e.output[m];if(e.name!=null&&e.hasOwnProperty("name")&&(o.name=e.name),e.opType!=null&&e.hasOwnProperty("opType")&&(o.opType=e.opType),e.attribute&&e.attribute.length)for(o.attribute=[],m=0;m<e.attribute.length;++m)o.attribute[m]=c.onnx.AttributeProto.toObject(e.attribute[m],n);return e.docString!=null&&e.hasOwnProperty("docString")&&(o.docString=e.docString),e.domain!=null&&e.hasOwnProperty("domain")&&(o.domain=e.domain),o},r.prototype.toJSON=function(){return this.constructor.toObject(this,y.util.toJSONOptions)},r.getTypeUrl=function(e){return e===void 0&&(e="type.googleapis.com"),e+"/onnx.NodeProto"},r}(),d.TrainingInfoProto=function(){function r(e){if(this.initializationBinding=[],this.updateBinding=[],e)for(var n=Object.keys(e),o=0;o<n.length;++o)e[n[o]]!=null&&(this[n[o]]=e[n[o]])}return r.prototype.initialization=null,r.prototype.algorithm=null,r.prototype.initializationBinding=f.emptyArray,r.prototype.updateBinding=f.emptyArray,r.create=function(e){return new r(e)},r.encode=function(e,n){if(n||(n=v.create()),e.initialization!=null&&Object.hasOwnProperty.call(e,"initialization")&&c.onnx.GraphProto.encode(e.initialization,n.uint32(10).fork()).ldelim(),e.algorithm!=null&&Object.hasOwnProperty.call(e,"algorithm")&&c.onnx.GraphProto.encode(e.algorithm,n.uint32(18).fork()).ldelim(),e.initializationBinding!=null&&e.initializationBinding.length)for(var o=0;o<e.initializationBinding.length;++o)c.onnx.StringStringEntryProto.encode(e.initializationBinding[o],n.uint32(26).fork()).ldelim();if(e.updateBinding!=null&&e.updateBinding.length)for(o=0;o<e.updateBinding.length;++o)c.onnx.StringStringEntryProto.encode(e.updateBinding[o],n.uint32(34).fork()).ldelim();return n},r.encodeDelimited=function(e,n){return this.encode(e,n).ldelim()},r.decode=function(e,n){e instanceof g||(e=g.create(e));for(var o=n===void 0?e.len:e.pos+n,m=new c.onnx.TrainingInfoProto;e.pos<o;){var _=e.uint32();switch(_>>>3){case 1:m.initialization=c.onnx.GraphProto.decode(e,e.uint32());break;case 2:m.algorithm=c.onnx.GraphProto.decode(e,e.uint32());break;case 3:m.initializationBinding&&m.initializationBinding.length||(m.initializationBinding=[]),m.initializationBinding.push(c.onnx.StringStringEntryProto.decode(e,e.uint32()));break;case 4:m.updateBinding&&m.updateBinding.length||(m.updateBinding=[]),m.updateBinding.push(c.onnx.StringStringEntryProto.decode(e,e.uint32()));break;default:e.skipType(7&_)}}return m},r.decodeDelimited=function(e){return e instanceof g||(e=new g(e)),this.decode(e,e.uint32())},r.verify=function(e){if(typeof e!="object"||e===null)return"object expected";if(e.initialization!=null&&e.hasOwnProperty("initialization")&&(o=c.onnx.GraphProto.verify(e.initialization)))return"initialization."+o;if(e.algorithm!=null&&e.hasOwnProperty("algorithm")&&(o=c.onnx.GraphProto.verify(e.algorithm)))return"algorithm."+o;if(e.initializationBinding!=null&&e.hasOwnProperty("initializationBinding")){if(!Array.isArray(e.initializationBinding))return"initializationBinding: array expected";for(var n=0;n<e.initializationBinding.length;++n)if(o=c.onnx.StringStringEntryProto.verify(e.initializationBinding[n]))return"initializationBinding."+o}if(e.updateBinding!=null&&e.hasOwnProperty("updateBinding")){if(!Array.isArray(e.updateBinding))return"updateBinding: array expected";for(n=0;n<e.updateBinding.length;++n){var o;if(o=c.onnx.StringStringEntryProto.verify(e.updateBinding[n]))return"updateBinding."+o}}return null},r.fromObject=function(e){if(e instanceof c.onnx.TrainingInfoProto)return e;var n=new c.onnx.TrainingInfoProto;if(e.initialization!=null){if(typeof e.initialization!="object")throw TypeError(".onnx.TrainingInfoProto.initialization: object expected");n.initialization=c.onnx.GraphProto.fromObject(e.initialization)}if(e.algorithm!=null){if(typeof e.algorithm!="object")throw TypeError(".onnx.TrainingInfoProto.algorithm: object expected");n.algorithm=c.onnx.GraphProto.fromObject(e.algorithm)}if(e.initializationBinding){if(!Array.isArray(e.initializationBinding))throw TypeError(".onnx.TrainingInfoProto.initializationBinding: array expected");n.initializationBinding=[];for(var o=0;o<e.initializationBinding.length;++o){if(typeof e.initializationBinding[o]!="object")throw TypeError(".onnx.TrainingInfoProto.initializationBinding: object expected");n.initializationBinding[o]=c.onnx.StringStringEntryProto.fromObject(e.initializationBinding[o])}}if(e.updateBinding){if(!Array.isArray(e.updateBinding))throw TypeError(".onnx.TrainingInfoProto.updateBinding: array expected");for(n.updateBinding=[],o=0;o<e.updateBinding.length;++o){if(typeof e.updateBinding[o]!="object")throw TypeError(".onnx.TrainingInfoProto.updateBinding: object expected");n.updateBinding[o]=c.onnx.StringStringEntryProto.fromObject(e.updateBinding[o])}}return n},r.toObject=function(e,n){n||(n={});var o={};if((n.arrays||n.defaults)&&(o.initializationBinding=[],o.updateBinding=[]),n.defaults&&(o.initialization=null,o.algorithm=null),e.initialization!=null&&e.hasOwnProperty("initialization")&&(o.initialization=c.onnx.GraphProto.toObject(e.initialization,n)),e.algorithm!=null&&e.hasOwnProperty("algorithm")&&(o.algorithm=c.onnx.GraphProto.toObject(e.algorithm,n)),e.initializationBinding&&e.initializationBinding.length){o.initializationBinding=[];for(var m=0;m<e.initializationBinding.length;++m)o.initializationBinding[m]=c.onnx.StringStringEntryProto.toObject(e.initializationBinding[m],n)}if(e.updateBinding&&e.updateBinding.length)for(o.updateBinding=[],m=0;m<e.updateBinding.length;++m)o.updateBinding[m]=c.onnx.StringStringEntryProto.toObject(e.updateBinding[m],n);return o},r.prototype.toJSON=function(){return this.constructor.toObject(this,y.util.toJSONOptions)},r.getTypeUrl=function(e){return e===void 0&&(e="type.googleapis.com"),e+"/onnx.TrainingInfoProto"},r}(),d.ModelProto=function(){function r(e){if(this.opsetImport=[],this.metadataProps=[],this.trainingInfo=[],this.functions=[],e)for(var n=Object.keys(e),o=0;o<n.length;++o)e[n[o]]!=null&&(this[n[o]]=e[n[o]])}return r.prototype.irVersion=f.Long?f.Long.fromBits(0,0,!1):0,r.prototype.opsetImport=f.emptyArray,r.prototype.producerName="",r.prototype.producerVersion="",r.prototype.domain="",r.prototype.modelVersion=f.Long?f.Long.fromBits(0,0,!1):0,r.prototype.docString="",r.prototype.graph=null,r.prototype.metadataProps=f.emptyArray,r.prototype.trainingInfo=f.emptyArray,r.prototype.functions=f.emptyArray,r.create=function(e){return new r(e)},r.encode=function(e,n){if(n||(n=v.create()),e.irVersion!=null&&Object.hasOwnProperty.call(e,"irVersion")&&n.uint32(8).int64(e.irVersion),e.producerName!=null&&Object.hasOwnProperty.call(e,"producerName")&&n.uint32(18).string(e.producerName),e.producerVersion!=null&&Object.hasOwnProperty.call(e,"producerVersion")&&n.uint32(26).string(e.producerVersion),e.domain!=null&&Object.hasOwnProperty.call(e,"domain")&&n.uint32(34).string(e.domain),e.modelVersion!=null&&Object.hasOwnProperty.call(e,"modelVersion")&&n.uint32(40).int64(e.modelVersion),e.docString!=null&&Object.hasOwnProperty.call(e,"docString")&&n.uint32(50).string(e.docString),e.graph!=null&&Object.hasOwnProperty.call(e,"graph")&&c.onnx.GraphProto.encode(e.graph,n.uint32(58).fork()).ldelim(),e.opsetImport!=null&&e.opsetImport.length)for(var o=0;o<e.opsetImport.length;++o)c.onnx.OperatorSetIdProto.encode(e.opsetImport[o],n.uint32(66).fork()).ldelim();if(e.metadataProps!=null&&e.metadataProps.length)for(o=0;o<e.metadataProps.length;++o)c.onnx.StringStringEntryProto.encode(e.metadataProps[o],n.uint32(114).fork()).ldelim();if(e.trainingInfo!=null&&e.trainingInfo.length)for(o=0;o<e.trainingInfo.length;++o)c.onnx.TrainingInfoProto.encode(e.trainingInfo[o],n.uint32(162).fork()).ldelim();if(e.functions!=null&&e.functions.length)for(o=0;o<e.functions.length;++o)c.onnx.FunctionProto.encode(e.functions[o],n.uint32(202).fork()).ldelim();return n},r.encodeDelimited=function(e,n){return this.encode(e,n).ldelim()},r.decode=function(e,n){e instanceof g||(e=g.create(e));for(var o=n===void 0?e.len:e.pos+n,m=new c.onnx.ModelProto;e.pos<o;){var _=e.uint32();switch(_>>>3){case 1:m.irVersion=e.int64();break;case 8:m.opsetImport&&m.opsetImport.length||(m.opsetImport=[]),m.opsetImport.push(c.onnx.OperatorSetIdProto.decode(e,e.uint32()));break;case 2:m.producerName=e.string();break;case 3:m.producerVersion=e.string();break;case 4:m.domain=e.string();break;case 5:m.modelVersion=e.int64();break;case 6:m.docString=e.string();break;case 7:m.graph=c.onnx.GraphProto.decode(e,e.uint32());break;case 14:m.metadataProps&&m.metadataProps.length||(m.metadataProps=[]),m.metadataProps.push(c.onnx.StringStringEntryProto.decode(e,e.uint32()));break;case 20:m.trainingInfo&&m.trainingInfo.length||(m.trainingInfo=[]),m.trainingInfo.push(c.onnx.TrainingInfoProto.decode(e,e.uint32()));break;case 25:m.functions&&m.functions.length||(m.functions=[]),m.functions.push(c.onnx.FunctionProto.decode(e,e.uint32()));break;default:e.skipType(7&_)}}return m},r.decodeDelimited=function(e){return e instanceof g||(e=new g(e)),this.decode(e,e.uint32())},r.verify=function(e){if(typeof e!="object"||e===null)return"object expected";if(e.irVersion!=null&&e.hasOwnProperty("irVersion")&&!(f.isInteger(e.irVersion)||e.irVersion&&f.isInteger(e.irVersion.low)&&f.isInteger(e.irVersion.high)))return"irVersion: integer|Long expected";if(e.opsetImport!=null&&e.hasOwnProperty("opsetImport")){if(!Array.isArray(e.opsetImport))return"opsetImport: array expected";for(var n=0;n<e.opsetImport.length;++n)if(o=c.onnx.OperatorSetIdProto.verify(e.opsetImport[n]))return"opsetImport."+o}if(e.producerName!=null&&e.hasOwnProperty("producerName")&&!f.isString(e.producerName))return"producerName: string expected";if(e.producerVersion!=null&&e.hasOwnProperty("producerVersion")&&!f.isString(e.producerVersion))return"producerVersion: string expected";if(e.domain!=null&&e.hasOwnProperty("domain")&&!f.isString(e.domain))return"domain: string expected";if(e.modelVersion!=null&&e.hasOwnProperty("modelVersion")&&!(f.isInteger(e.modelVersion)||e.modelVersion&&f.isInteger(e.modelVersion.low)&&f.isInteger(e.modelVersion.high)))return"modelVersion: integer|Long expected";if(e.docString!=null&&e.hasOwnProperty("docString")&&!f.isString(e.docString))return"docString: string expected";if(e.graph!=null&&e.hasOwnProperty("graph")&&(o=c.onnx.GraphProto.verify(e.graph)))return"graph."+o;if(e.metadataProps!=null&&e.hasOwnProperty("metadataProps")){if(!Array.isArray(e.metadataProps))return"metadataProps: array expected";for(n=0;n<e.metadataProps.length;++n)if(o=c.onnx.StringStringEntryProto.verify(e.metadataProps[n]))return"metadataProps."+o}if(e.trainingInfo!=null&&e.hasOwnProperty("trainingInfo")){if(!Array.isArray(e.trainingInfo))return"trainingInfo: array expected";for(n=0;n<e.trainingInfo.length;++n)if(o=c.onnx.TrainingInfoProto.verify(e.trainingInfo[n]))return"trainingInfo."+o}if(e.functions!=null&&e.hasOwnProperty("functions")){if(!Array.isArray(e.functions))return"functions: array expected";for(n=0;n<e.functions.length;++n){var o;if(o=c.onnx.FunctionProto.verify(e.functions[n]))return"functions."+o}}return null},r.fromObject=function(e){if(e instanceof c.onnx.ModelProto)return e;var n=new c.onnx.ModelProto;if(e.irVersion!=null&&(f.Long?(n.irVersion=f.Long.fromValue(e.irVersion)).unsigned=!1:typeof e.irVersion=="string"?n.irVersion=parseInt(e.irVersion,10):typeof e.irVersion=="number"?n.irVersion=e.irVersion:typeof e.irVersion=="object"&&(n.irVersion=new f.LongBits(e.irVersion.low>>>0,e.irVersion.high>>>0).toNumber())),e.opsetImport){if(!Array.isArray(e.opsetImport))throw TypeError(".onnx.ModelProto.opsetImport: array expected");n.opsetImport=[];for(var o=0;o<e.opsetImport.length;++o){if(typeof e.opsetImport[o]!="object")throw TypeError(".onnx.ModelProto.opsetImport: object expected");n.opsetImport[o]=c.onnx.OperatorSetIdProto.fromObject(e.opsetImport[o])}}if(e.producerName!=null&&(n.producerName=String(e.producerName)),e.producerVersion!=null&&(n.producerVersion=String(e.producerVersion)),e.domain!=null&&(n.domain=String(e.domain)),e.modelVersion!=null&&(f.Long?(n.modelVersion=f.Long.fromValue(e.modelVersion)).unsigned=!1:typeof e.modelVersion=="string"?n.modelVersion=parseInt(e.modelVersion,10):typeof e.modelVersion=="number"?n.modelVersion=e.modelVersion:typeof e.modelVersion=="object"&&(n.modelVersion=new f.LongBits(e.modelVersion.low>>>0,e.modelVersion.high>>>0).toNumber())),e.docString!=null&&(n.docString=String(e.docString)),e.graph!=null){if(typeof e.graph!="object")throw TypeError(".onnx.ModelProto.graph: object expected");n.graph=c.onnx.GraphProto.fromObject(e.graph)}if(e.metadataProps){if(!Array.isArray(e.metadataProps))throw TypeError(".onnx.ModelProto.metadataProps: array expected");for(n.metadataProps=[],o=0;o<e.metadataProps.length;++o){if(typeof e.metadataProps[o]!="object")throw TypeError(".onnx.ModelProto.metadataProps: object expected");n.metadataProps[o]=c.onnx.StringStringEntryProto.fromObject(e.metadataProps[o])}}if(e.trainingInfo){if(!Array.isArray(e.trainingInfo))throw TypeError(".onnx.ModelProto.trainingInfo: array expected");for(n.trainingInfo=[],o=0;o<e.trainingInfo.length;++o){if(typeof e.trainingInfo[o]!="object")throw TypeError(".onnx.ModelProto.trainingInfo: object expected");n.trainingInfo[o]=c.onnx.TrainingInfoProto.fromObject(e.trainingInfo[o])}}if(e.functions){if(!Array.isArray(e.functions))throw TypeError(".onnx.ModelProto.functions: array expected");for(n.functions=[],o=0;o<e.functions.length;++o){if(typeof e.functions[o]!="object")throw TypeError(".onnx.ModelProto.functions: object expected");n.functions[o]=c.onnx.FunctionProto.fromObject(e.functions[o])}}return n},r.toObject=function(e,n){n||(n={});var o={};if((n.arrays||n.defaults)&&(o.opsetImport=[],o.metadataProps=[],o.trainingInfo=[],o.functions=[]),n.defaults){if(f.Long){var m=new f.Long(0,0,!1);o.irVersion=n.longs===String?m.toString():n.longs===Number?m.toNumber():m}else o.irVersion=n.longs===String?"0":0;o.producerName="",o.producerVersion="",o.domain="",f.Long?(m=new f.Long(0,0,!1),o.modelVersion=n.longs===String?m.toString():n.longs===Number?m.toNumber():m):o.modelVersion=n.longs===String?"0":0,o.docString="",o.graph=null}if(e.irVersion!=null&&e.hasOwnProperty("irVersion")&&(typeof e.irVersion=="number"?o.irVersion=n.longs===String?String(e.irVersion):e.irVersion:o.irVersion=n.longs===String?f.Long.prototype.toString.call(e.irVersion):n.longs===Number?new f.LongBits(e.irVersion.low>>>0,e.irVersion.high>>>0).toNumber():e.irVersion),e.producerName!=null&&e.hasOwnProperty("producerName")&&(o.producerName=e.producerName),e.producerVersion!=null&&e.hasOwnProperty("producerVersion")&&(o.producerVersion=e.producerVersion),e.domain!=null&&e.hasOwnProperty("domain")&&(o.domain=e.domain),e.modelVersion!=null&&e.hasOwnProperty("modelVersion")&&(typeof e.modelVersion=="number"?o.modelVersion=n.longs===String?String(e.modelVersion):e.modelVersion:o.modelVersion=n.longs===String?f.Long.prototype.toString.call(e.modelVersion):n.longs===Number?new f.LongBits(e.modelVersion.low>>>0,e.modelVersion.high>>>0).toNumber():e.modelVersion),e.docString!=null&&e.hasOwnProperty("docString")&&(o.docString=e.docString),e.graph!=null&&e.hasOwnProperty("graph")&&(o.graph=c.onnx.GraphProto.toObject(e.graph,n)),e.opsetImport&&e.opsetImport.length){o.opsetImport=[];for(var _=0;_<e.opsetImport.length;++_)o.opsetImport[_]=c.onnx.OperatorSetIdProto.toObject(e.opsetImport[_],n)}if(e.metadataProps&&e.metadataProps.length)for(o.metadataProps=[],_=0;_<e.metadataProps.length;++_)o.metadataProps[_]=c.onnx.StringStringEntryProto.toObject(e.metadataProps[_],n);if(e.trainingInfo&&e.trainingInfo.length)for(o.trainingInfo=[],_=0;_<e.trainingInfo.length;++_)o.trainingInfo[_]=c.onnx.TrainingInfoProto.toObject(e.trainingInfo[_],n);if(e.functions&&e.functions.length)for(o.functions=[],_=0;_<e.functions.length;++_)o.functions[_]=c.onnx.FunctionProto.toObject(e.functions[_],n);return o},r.prototype.toJSON=function(){return this.constructor.toObject(this,y.util.toJSONOptions)},r.getTypeUrl=function(e){return e===void 0&&(e="type.googleapis.com"),e+"/onnx.ModelProto"},r}(),d.StringStringEntryProto=function(){function r(e){if(e)for(var n=Object.keys(e),o=0;o<n.length;++o)e[n[o]]!=null&&(this[n[o]]=e[n[o]])}return r.prototype.key="",r.prototype.value="",r.create=function(e){return new r(e)},r.encode=function(e,n){return n||(n=v.create()),e.key!=null&&Object.hasOwnProperty.call(e,"key")&&n.uint32(10).string(e.key),e.value!=null&&Object.hasOwnProperty.call(e,"value")&&n.uint32(18).string(e.value),n},r.encodeDelimited=function(e,n){return this.encode(e,n).ldelim()},r.decode=function(e,n){e instanceof g||(e=g.create(e));for(var o=n===void 0?e.len:e.pos+n,m=new c.onnx.StringStringEntryProto;e.pos<o;){var _=e.uint32();switch(_>>>3){case 1:m.key=e.string();break;case 2:m.value=e.string();break;default:e.skipType(7&_)}}return m},r.decodeDelimited=function(e){return e instanceof g||(e=new g(e)),this.decode(e,e.uint32())},r.verify=function(e){return typeof e!="object"||e===null?"object expected":e.key!=null&&e.hasOwnProperty("key")&&!f.isString(e.key)?"key: string expected":e.value!=null&&e.hasOwnProperty("value")&&!f.isString(e.value)?"value: string expected":null},r.fromObject=function(e){if(e instanceof c.onnx.StringStringEntryProto)return e;var n=new c.onnx.StringStringEntryProto;return e.key!=null&&(n.key=String(e.key)),e.value!=null&&(n.value=String(e.value)),n},r.toObject=function(e,n){n||(n={});var o={};return n.defaults&&(o.key="",o.value=""),e.key!=null&&e.hasOwnProperty("key")&&(o.key=e.key),e.value!=null&&e.hasOwnProperty("value")&&(o.value=e.value),o},r.prototype.toJSON=function(){return this.constructor.toObject(this,y.util.toJSONOptions)},r.getTypeUrl=function(e){return e===void 0&&(e="type.googleapis.com"),e+"/onnx.StringStringEntryProto"},r}(),d.TensorAnnotation=function(){function r(e){if(this.quantParameterTensorNames=[],e)for(var n=Object.keys(e),o=0;o<n.length;++o)e[n[o]]!=null&&(this[n[o]]=e[n[o]])}return r.prototype.tensorName="",r.prototype.quantParameterTensorNames=f.emptyArray,r.create=function(e){return new r(e)},r.encode=function(e,n){if(n||(n=v.create()),e.tensorName!=null&&Object.hasOwnProperty.call(e,"tensorName")&&n.uint32(10).string(e.tensorName),e.quantParameterTensorNames!=null&&e.quantParameterTensorNames.length)for(var o=0;o<e.quantParameterTensorNames.length;++o)c.onnx.StringStringEntryProto.encode(e.quantParameterTensorNames[o],n.uint32(18).fork()).ldelim();return n},r.encodeDelimited=function(e,n){return this.encode(e,n).ldelim()},r.decode=function(e,n){e instanceof g||(e=g.create(e));for(var o=n===void 0?e.len:e.pos+n,m=new c.onnx.TensorAnnotation;e.pos<o;){var _=e.uint32();switch(_>>>3){case 1:m.tensorName=e.string();break;case 2:m.quantParameterTensorNames&&m.quantParameterTensorNames.length||(m.quantParameterTensorNames=[]),m.quantParameterTensorNames.push(c.onnx.StringStringEntryProto.decode(e,e.uint32()));break;default:e.skipType(7&_)}}return m},r.decodeDelimited=function(e){return e instanceof g||(e=new g(e)),this.decode(e,e.uint32())},r.verify=function(e){if(typeof e!="object"||e===null)return"object expected";if(e.tensorName!=null&&e.hasOwnProperty("tensorName")&&!f.isString(e.tensorName))return"tensorName: string expected";if(e.quantParameterTensorNames!=null&&e.hasOwnProperty("quantParameterTensorNames")){if(!Array.isArray(e.quantParameterTensorNames))return"quantParameterTensorNames: array expected";for(var n=0;n<e.quantParameterTensorNames.length;++n){var o=c.onnx.StringStringEntryProto.verify(e.quantParameterTensorNames[n]);if(o)return"quantParameterTensorNames."+o}}return null},r.fromObject=function(e){if(e instanceof c.onnx.TensorAnnotation)return e;var n=new c.onnx.TensorAnnotation;if(e.tensorName!=null&&(n.tensorName=String(e.tensorName)),e.quantParameterTensorNames){if(!Array.isArray(e.quantParameterTensorNames))throw TypeError(".onnx.TensorAnnotation.quantParameterTensorNames: array expected");n.quantParameterTensorNames=[];for(var o=0;o<e.quantParameterTensorNames.length;++o){if(typeof e.quantParameterTensorNames[o]!="object")throw TypeError(".onnx.TensorAnnotation.quantParameterTensorNames: object expected");n.quantParameterTensorNames[o]=c.onnx.StringStringEntryProto.fromObject(e.quantParameterTensorNames[o])}}return n},r.toObject=function(e,n){n||(n={});var o={};if((n.arrays||n.defaults)&&(o.quantParameterTensorNames=[]),n.defaults&&(o.tensorName=""),e.tensorName!=null&&e.hasOwnProperty("tensorName")&&(o.tensorName=e.tensorName),e.quantParameterTensorNames&&e.quantParameterTensorNames.length){o.quantParameterTensorNames=[];for(var m=0;m<e.quantParameterTensorNames.length;++m)o.quantParameterTensorNames[m]=c.onnx.StringStringEntryProto.toObject(e.quantParameterTensorNames[m],n)}return o},r.prototype.toJSON=function(){return this.constructor.toObject(this,y.util.toJSONOptions)},r.getTypeUrl=function(e){return e===void 0&&(e="type.googleapis.com"),e+"/onnx.TensorAnnotation"},r}(),d.GraphProto=function(){function r(e){if(this.node=[],this.initializer=[],this.sparseInitializer=[],this.input=[],this.output=[],this.valueInfo=[],this.quantizationAnnotation=[],e)for(var n=Object.keys(e),o=0;o<n.length;++o)e[n[o]]!=null&&(this[n[o]]=e[n[o]])}return r.prototype.node=f.emptyArray,r.prototype.name="",r.prototype.initializer=f.emptyArray,r.prototype.sparseInitializer=f.emptyArray,r.prototype.docString="",r.prototype.input=f.emptyArray,r.prototype.output=f.emptyArray,r.prototype.valueInfo=f.emptyArray,r.prototype.quantizationAnnotation=f.emptyArray,r.create=function(e){return new r(e)},r.encode=function(e,n){if(n||(n=v.create()),e.node!=null&&e.node.length)for(var o=0;o<e.node.length;++o)c.onnx.NodeProto.encode(e.node[o],n.uint32(10).fork()).ldelim();if(e.name!=null&&Object.hasOwnProperty.call(e,"name")&&n.uint32(18).string(e.name),e.initializer!=null&&e.initializer.length)for(o=0;o<e.initializer.length;++o)c.onnx.TensorProto.encode(e.initializer[o],n.uint32(42).fork()).ldelim();if(e.docString!=null&&Object.hasOwnProperty.call(e,"docString")&&n.uint32(82).string(e.docString),e.input!=null&&e.input.length)for(o=0;o<e.input.length;++o)c.onnx.ValueInfoProto.encode(e.input[o],n.uint32(90).fork()).ldelim();if(e.output!=null&&e.output.length)for(o=0;o<e.output.length;++o)c.onnx.ValueInfoProto.encode(e.output[o],n.uint32(98).fork()).ldelim();if(e.valueInfo!=null&&e.valueInfo.length)for(o=0;o<e.valueInfo.length;++o)c.onnx.ValueInfoProto.encode(e.valueInfo[o],n.uint32(106).fork()).ldelim();if(e.quantizationAnnotation!=null&&e.quantizationAnnotation.length)for(o=0;o<e.quantizationAnnotation.length;++o)c.onnx.TensorAnnotation.encode(e.quantizationAnnotation[o],n.uint32(114).fork()).ldelim();if(e.sparseInitializer!=null&&e.sparseInitializer.length)for(o=0;o<e.sparseInitializer.length;++o)c.onnx.SparseTensorProto.encode(e.sparseInitializer[o],n.uint32(122).fork()).ldelim();return n},r.encodeDelimited=function(e,n){return this.encode(e,n).ldelim()},r.decode=function(e,n){e instanceof g||(e=g.create(e));for(var o=n===void 0?e.len:e.pos+n,m=new c.onnx.GraphProto;e.pos<o;){var _=e.uint32();switch(_>>>3){case 1:m.node&&m.node.length||(m.node=[]),m.node.push(c.onnx.NodeProto.decode(e,e.uint32()));break;case 2:m.name=e.string();break;case 5:m.initializer&&m.initializer.length||(m.initializer=[]),m.initializer.push(c.onnx.TensorProto.decode(e,e.uint32()));break;case 15:m.sparseInitializer&&m.sparseInitializer.length||(m.sparseInitializer=[]),m.sparseInitializer.push(c.onnx.SparseTensorProto.decode(e,e.uint32()));break;case 10:m.docString=e.string();break;case 11:m.input&&m.input.length||(m.input=[]),m.input.push(c.onnx.ValueInfoProto.decode(e,e.uint32()));break;case 12:m.output&&m.output.length||(m.output=[]),m.output.push(c.onnx.ValueInfoProto.decode(e,e.uint32()));break;case 13:m.valueInfo&&m.valueInfo.length||(m.valueInfo=[]),m.valueInfo.push(c.onnx.ValueInfoProto.decode(e,e.uint32()));break;case 14:m.quantizationAnnotation&&m.quantizationAnnotation.length||(m.quantizationAnnotation=[]),m.quantizationAnnotation.push(c.onnx.TensorAnnotation.decode(e,e.uint32()));break;default:e.skipType(7&_)}}return m},r.decodeDelimited=function(e){return e instanceof g||(e=new g(e)),this.decode(e,e.uint32())},r.verify=function(e){if(typeof e!="object"||e===null)return"object expected";if(e.node!=null&&e.hasOwnProperty("node")){if(!Array.isArray(e.node))return"node: array expected";for(var n=0;n<e.node.length;++n)if(o=c.onnx.NodeProto.verify(e.node[n]))return"node."+o}if(e.name!=null&&e.hasOwnProperty("name")&&!f.isString(e.name))return"name: string expected";if(e.initializer!=null&&e.hasOwnProperty("initializer")){if(!Array.isArray(e.initializer))return"initializer: array expected";for(n=0;n<e.initializer.length;++n)if(o=c.onnx.TensorProto.verify(e.initializer[n]))return"initializer."+o}if(e.sparseInitializer!=null&&e.hasOwnProperty("sparseInitializer")){if(!Array.isArray(e.sparseInitializer))return"sparseInitializer: array expected";for(n=0;n<e.sparseInitializer.length;++n)if(o=c.onnx.SparseTensorProto.verify(e.sparseInitializer[n]))return"sparseInitializer."+o}if(e.docString!=null&&e.hasOwnProperty("docString")&&!f.isString(e.docString))return"docString: string expected";if(e.input!=null&&e.hasOwnProperty("input")){if(!Array.isArray(e.input))return"input: array expected";for(n=0;n<e.input.length;++n)if(o=c.onnx.ValueInfoProto.verify(e.input[n]))return"input."+o}if(e.output!=null&&e.hasOwnProperty("output")){if(!Array.isArray(e.output))return"output: array expected";for(n=0;n<e.output.length;++n)if(o=c.onnx.ValueInfoProto.verify(e.output[n]))return"output."+o}if(e.valueInfo!=null&&e.hasOwnProperty("valueInfo")){if(!Array.isArray(e.valueInfo))return"valueInfo: array expected";for(n=0;n<e.valueInfo.length;++n)if(o=c.onnx.ValueInfoProto.verify(e.valueInfo[n]))return"valueInfo."+o}if(e.quantizationAnnotation!=null&&e.hasOwnProperty("quantizationAnnotation")){if(!Array.isArray(e.quantizationAnnotation))return"quantizationAnnotation: array expected";for(n=0;n<e.quantizationAnnotation.length;++n){var o;if(o=c.onnx.TensorAnnotation.verify(e.quantizationAnnotation[n]))return"quantizationAnnotation."+o}}return null},r.fromObject=function(e){if(e instanceof c.onnx.GraphProto)return e;var n=new c.onnx.GraphProto;if(e.node){if(!Array.isArray(e.node))throw TypeError(".onnx.GraphProto.node: array expected");n.node=[];for(var o=0;o<e.node.length;++o){if(typeof e.node[o]!="object")throw TypeError(".onnx.GraphProto.node: object expected");n.node[o]=c.onnx.NodeProto.fromObject(e.node[o])}}if(e.name!=null&&(n.name=String(e.name)),e.initializer){if(!Array.isArray(e.initializer))throw TypeError(".onnx.GraphProto.initializer: array expected");for(n.initializer=[],o=0;o<e.initializer.length;++o){if(typeof e.initializer[o]!="object")throw TypeError(".onnx.GraphProto.initializer: object expected");n.initializer[o]=c.onnx.TensorProto.fromObject(e.initializer[o])}}if(e.sparseInitializer){if(!Array.isArray(e.sparseInitializer))throw TypeError(".onnx.GraphProto.sparseInitializer: array expected");for(n.sparseInitializer=[],o=0;o<e.sparseInitializer.length;++o){if(typeof e.sparseInitializer[o]!="object")throw TypeError(".onnx.GraphProto.sparseInitializer: object expected");n.sparseInitializer[o]=c.onnx.SparseTensorProto.fromObject(e.sparseInitializer[o])}}if(e.docString!=null&&(n.docString=String(e.docString)),e.input){if(!Array.isArray(e.input))throw TypeError(".onnx.GraphProto.input: array expected");for(n.input=[],o=0;o<e.input.length;++o){if(typeof e.input[o]!="object")throw TypeError(".onnx.GraphProto.input: object expected");n.input[o]=c.onnx.ValueInfoProto.fromObject(e.input[o])}}if(e.output){if(!Array.isArray(e.output))throw TypeError(".onnx.GraphProto.output: array expected");for(n.output=[],o=0;o<e.output.length;++o){if(typeof e.output[o]!="object")throw TypeError(".onnx.GraphProto.output: object expected");n.output[o]=c.onnx.ValueInfoProto.fromObject(e.output[o])}}if(e.valueInfo){if(!Array.isArray(e.valueInfo))throw TypeError(".onnx.GraphProto.valueInfo: array expected");for(n.valueInfo=[],o=0;o<e.valueInfo.length;++o){if(typeof e.valueInfo[o]!="object")throw TypeError(".onnx.GraphProto.valueInfo: object expected");n.valueInfo[o]=c.onnx.ValueInfoProto.fromObject(e.valueInfo[o])}}if(e.quantizationAnnotation){if(!Array.isArray(e.quantizationAnnotation))throw TypeError(".onnx.GraphProto.quantizationAnnotation: array expected");for(n.quantizationAnnotation=[],o=0;o<e.quantizationAnnotation.length;++o){if(typeof e.quantizationAnnotation[o]!="object")throw TypeError(".onnx.GraphProto.quantizationAnnotation: object expected");n.quantizationAnnotation[o]=c.onnx.TensorAnnotation.fromObject(e.quantizationAnnotation[o])}}return n},r.toObject=function(e,n){n||(n={});var o={};if((n.arrays||n.defaults)&&(o.node=[],o.initializer=[],o.input=[],o.output=[],o.valueInfo=[],o.quantizationAnnotation=[],o.sparseInitializer=[]),n.defaults&&(o.name="",o.docString=""),e.node&&e.node.length){o.node=[];for(var m=0;m<e.node.length;++m)o.node[m]=c.onnx.NodeProto.toObject(e.node[m],n)}if(e.name!=null&&e.hasOwnProperty("name")&&(o.name=e.name),e.initializer&&e.initializer.length)for(o.initializer=[],m=0;m<e.initializer.length;++m)o.initializer[m]=c.onnx.TensorProto.toObject(e.initializer[m],n);if(e.docString!=null&&e.hasOwnProperty("docString")&&(o.docString=e.docString),e.input&&e.input.length)for(o.input=[],m=0;m<e.input.length;++m)o.input[m]=c.onnx.ValueInfoProto.toObject(e.input[m],n);if(e.output&&e.output.length)for(o.output=[],m=0;m<e.output.length;++m)o.output[m]=c.onnx.ValueInfoProto.toObject(e.output[m],n);if(e.valueInfo&&e.valueInfo.length)for(o.valueInfo=[],m=0;m<e.valueInfo.length;++m)o.valueInfo[m]=c.onnx.ValueInfoProto.toObject(e.valueInfo[m],n);if(e.quantizationAnnotation&&e.quantizationAnnotation.length)for(o.quantizationAnnotation=[],m=0;m<e.quantizationAnnotation.length;++m)o.quantizationAnnotation[m]=c.onnx.TensorAnnotation.toObject(e.quantizationAnnotation[m],n);if(e.sparseInitializer&&e.sparseInitializer.length)for(o.sparseInitializer=[],m=0;m<e.sparseInitializer.length;++m)o.sparseInitializer[m]=c.onnx.SparseTensorProto.toObject(e.sparseInitializer[m],n);return o},r.prototype.toJSON=function(){return this.constructor.toObject(this,y.util.toJSONOptions)},r.getTypeUrl=function(e){return e===void 0&&(e="type.googleapis.com"),e+"/onnx.GraphProto"},r}(),d.TensorProto=function(){function r(e){if(this.dims=[],this.floatData=[],this.int32Data=[],this.stringData=[],this.int64Data=[],this.externalData=[],this.doubleData=[],this.uint64Data=[],e)for(var n=Object.keys(e),o=0;o<n.length;++o)e[n[o]]!=null&&(this[n[o]]=e[n[o]])}return r.prototype.dims=f.emptyArray,r.prototype.dataType=0,r.prototype.segment=null,r.prototype.floatData=f.emptyArray,r.prototype.int32Data=f.emptyArray,r.prototype.stringData=f.emptyArray,r.prototype.int64Data=f.emptyArray,r.prototype.name="",r.prototype.docString="",r.prototype.rawData=f.newBuffer([]),r.prototype.externalData=f.emptyArray,r.prototype.dataLocation=0,r.prototype.doubleData=f.emptyArray,r.prototype.uint64Data=f.emptyArray,r.create=function(e){return new r(e)},r.encode=function(e,n){if(n||(n=v.create()),e.dims!=null&&e.dims.length){n.uint32(10).fork();for(var o=0;o<e.dims.length;++o)n.int64(e.dims[o]);n.ldelim()}if(e.dataType!=null&&Object.hasOwnProperty.call(e,"dataType")&&n.uint32(16).int32(e.dataType),e.segment!=null&&Object.hasOwnProperty.call(e,"segment")&&c.onnx.TensorProto.Segment.encode(e.segment,n.uint32(26).fork()).ldelim(),e.floatData!=null&&e.floatData.length){for(n.uint32(34).fork(),o=0;o<e.floatData.length;++o)n.float(e.floatData[o]);n.ldelim()}if(e.int32Data!=null&&e.int32Data.length){for(n.uint32(42).fork(),o=0;o<e.int32Data.length;++o)n.int32(e.int32Data[o]);n.ldelim()}if(e.stringData!=null&&e.stringData.length)for(o=0;o<e.stringData.length;++o)n.uint32(50).bytes(e.stringData[o]);if(e.int64Data!=null&&e.int64Data.length){for(n.uint32(58).fork(),o=0;o<e.int64Data.length;++o)n.int64(e.int64Data[o]);n.ldelim()}if(e.name!=null&&Object.hasOwnProperty.call(e,"name")&&n.uint32(66).string(e.name),e.rawData!=null&&Object.hasOwnProperty.call(e,"rawData")&&n.uint32(74).bytes(e.rawData),e.doubleData!=null&&e.doubleData.length){for(n.uint32(82).fork(),o=0;o<e.doubleData.length;++o)n.double(e.doubleData[o]);n.ldelim()}if(e.uint64Data!=null&&e.uint64Data.length){for(n.uint32(90).fork(),o=0;o<e.uint64Data.length;++o)n.uint64(e.uint64Data[o]);n.ldelim()}if(e.docString!=null&&Object.hasOwnProperty.call(e,"docString")&&n.uint32(98).string(e.docString),e.externalData!=null&&e.externalData.length)for(o=0;o<e.externalData.length;++o)c.onnx.StringStringEntryProto.encode(e.externalData[o],n.uint32(106).fork()).ldelim();return e.dataLocation!=null&&Object.hasOwnProperty.call(e,"dataLocation")&&n.uint32(112).int32(e.dataLocation),n},r.encodeDelimited=function(e,n){return this.encode(e,n).ldelim()},r.decode=function(e,n){e instanceof g||(e=g.create(e));for(var o=n===void 0?e.len:e.pos+n,m=new c.onnx.TensorProto;e.pos<o;){var _=e.uint32();switch(_>>>3){case 1:if(m.dims&&m.dims.length||(m.dims=[]),(7&_)==2)for(var x=e.uint32()+e.pos;e.pos<x;)m.dims.push(e.int64());else m.dims.push(e.int64());break;case 2:m.dataType=e.int32();break;case 3:m.segment=c.onnx.TensorProto.Segment.decode(e,e.uint32());break;case 4:if(m.floatData&&m.floatData.length||(m.floatData=[]),(7&_)==2)for(x=e.uint32()+e.pos;e.pos<x;)m.floatData.push(e.float());else m.floatData.push(e.float());break;case 5:if(m.int32Data&&m.int32Data.length||(m.int32Data=[]),(7&_)==2)for(x=e.uint32()+e.pos;e.pos<x;)m.int32Data.push(e.int32());else m.int32Data.push(e.int32());break;case 6:m.stringData&&m.stringData.length||(m.stringData=[]),m.stringData.push(e.bytes());break;case 7:if(m.int64Data&&m.int64Data.length||(m.int64Data=[]),(7&_)==2)for(x=e.uint32()+e.pos;e.pos<x;)m.int64Data.push(e.int64());else m.int64Data.push(e.int64());break;case 8:m.name=e.string();break;case 12:m.docString=e.string();break;case 9:m.rawData=e.bytes();break;case 13:m.externalData&&m.externalData.length||(m.externalData=[]),m.externalData.push(c.onnx.StringStringEntryProto.decode(e,e.uint32()));break;case 14:m.dataLocation=e.int32();break;case 10:if(m.doubleData&&m.doubleData.length||(m.doubleData=[]),(7&_)==2)for(x=e.uint32()+e.pos;e.pos<x;)m.doubleData.push(e.double());else m.doubleData.push(e.double());break;case 11:if(m.uint64Data&&m.uint64Data.length||(m.uint64Data=[]),(7&_)==2)for(x=e.uint32()+e.pos;e.pos<x;)m.uint64Data.push(e.uint64());else m.uint64Data.push(e.uint64());break;default:e.skipType(7&_)}}return m},r.decodeDelimited=function(e){return e instanceof g||(e=new g(e)),this.decode(e,e.uint32())},r.verify=function(e){if(typeof e!="object"||e===null)return"object expected";if(e.dims!=null&&e.hasOwnProperty("dims")){if(!Array.isArray(e.dims))return"dims: array expected";for(var n=0;n<e.dims.length;++n)if(!(f.isInteger(e.dims[n])||e.dims[n]&&f.isInteger(e.dims[n].low)&&f.isInteger(e.dims[n].high)))return"dims: integer|Long[] expected"}if(e.dataType!=null&&e.hasOwnProperty("dataType")&&!f.isInteger(e.dataType))return"dataType: integer expected";if(e.segment!=null&&e.hasOwnProperty("segment")&&(o=c.onnx.TensorProto.Segment.verify(e.segment)))return"segment."+o;if(e.floatData!=null&&e.hasOwnProperty("floatData")){if(!Array.isArray(e.floatData))return"floatData: array expected";for(n=0;n<e.floatData.length;++n)if(typeof e.floatData[n]!="number")return"floatData: number[] expected"}if(e.int32Data!=null&&e.hasOwnProperty("int32Data")){if(!Array.isArray(e.int32Data))return"int32Data: array expected";for(n=0;n<e.int32Data.length;++n)if(!f.isInteger(e.int32Data[n]))return"int32Data: integer[] expected"}if(e.stringData!=null&&e.hasOwnProperty("stringData")){if(!Array.isArray(e.stringData))return"stringData: array expected";for(n=0;n<e.stringData.length;++n)if(!(e.stringData[n]&&typeof e.stringData[n].length=="number"||f.isString(e.stringData[n])))return"stringData: buffer[] expected"}if(e.int64Data!=null&&e.hasOwnProperty("int64Data")){if(!Array.isArray(e.int64Data))return"int64Data: array expected";for(n=0;n<e.int64Data.length;++n)if(!(f.isInteger(e.int64Data[n])||e.int64Data[n]&&f.isInteger(e.int64Data[n].low)&&f.isInteger(e.int64Data[n].high)))return"int64Data: integer|Long[] expected"}if(e.name!=null&&e.hasOwnProperty("name")&&!f.isString(e.name))return"name: string expected";if(e.docString!=null&&e.hasOwnProperty("docString")&&!f.isString(e.docString))return"docString: string expected";if(e.rawData!=null&&e.hasOwnProperty("rawData")&&!(e.rawData&&typeof e.rawData.length=="number"||f.isString(e.rawData)))return"rawData: buffer expected";if(e.externalData!=null&&e.hasOwnProperty("externalData")){if(!Array.isArray(e.externalData))return"externalData: array expected";for(n=0;n<e.externalData.length;++n){var o;if(o=c.onnx.StringStringEntryProto.verify(e.externalData[n]))return"externalData."+o}}if(e.dataLocation!=null&&e.hasOwnProperty("dataLocation"))switch(e.dataLocation){default:return"dataLocation: enum value expected";case 0:case 1:}if(e.doubleData!=null&&e.hasOwnProperty("doubleData")){if(!Array.isArray(e.doubleData))return"doubleData: array expected";for(n=0;n<e.doubleData.length;++n)if(typeof e.doubleData[n]!="number")return"doubleData: number[] expected"}if(e.uint64Data!=null&&e.hasOwnProperty("uint64Data")){if(!Array.isArray(e.uint64Data))return"uint64Data: array expected";for(n=0;n<e.uint64Data.length;++n)if(!(f.isInteger(e.uint64Data[n])||e.uint64Data[n]&&f.isInteger(e.uint64Data[n].low)&&f.isInteger(e.uint64Data[n].high)))return"uint64Data: integer|Long[] expected"}return null},r.fromObject=function(e){if(e instanceof c.onnx.TensorProto)return e;var n=new c.onnx.TensorProto;if(e.dims){if(!Array.isArray(e.dims))throw TypeError(".onnx.TensorProto.dims: array expected");n.dims=[];for(var o=0;o<e.dims.length;++o)f.Long?(n.dims[o]=f.Long.fromValue(e.dims[o])).unsigned=!1:typeof e.dims[o]=="string"?n.dims[o]=parseInt(e.dims[o],10):typeof e.dims[o]=="number"?n.dims[o]=e.dims[o]:typeof e.dims[o]=="object"&&(n.dims[o]=new f.LongBits(e.dims[o].low>>>0,e.dims[o].high>>>0).toNumber())}if(e.dataType!=null&&(n.dataType=0|e.dataType),e.segment!=null){if(typeof e.segment!="object")throw TypeError(".onnx.TensorProto.segment: object expected");n.segment=c.onnx.TensorProto.Segment.fromObject(e.segment)}if(e.floatData){if(!Array.isArray(e.floatData))throw TypeError(".onnx.TensorProto.floatData: array expected");for(n.floatData=[],o=0;o<e.floatData.length;++o)n.floatData[o]=Number(e.floatData[o])}if(e.int32Data){if(!Array.isArray(e.int32Data))throw TypeError(".onnx.TensorProto.int32Data: array expected");for(n.int32Data=[],o=0;o<e.int32Data.length;++o)n.int32Data[o]=0|e.int32Data[o]}if(e.stringData){if(!Array.isArray(e.stringData))throw TypeError(".onnx.TensorProto.stringData: array expected");for(n.stringData=[],o=0;o<e.stringData.length;++o)typeof e.stringData[o]=="string"?f.base64.decode(e.stringData[o],n.stringData[o]=f.newBuffer(f.base64.length(e.stringData[o])),0):e.stringData[o].length>=0&&(n.stringData[o]=e.stringData[o])}if(e.int64Data){if(!Array.isArray(e.int64Data))throw TypeError(".onnx.TensorProto.int64Data: array expected");for(n.int64Data=[],o=0;o<e.int64Data.length;++o)f.Long?(n.int64Data[o]=f.Long.fromValue(e.int64Data[o])).unsigned=!1:typeof e.int64Data[o]=="string"?n.int64Data[o]=parseInt(e.int64Data[o],10):typeof e.int64Data[o]=="number"?n.int64Data[o]=e.int64Data[o]:typeof e.int64Data[o]=="object"&&(n.int64Data[o]=new f.LongBits(e.int64Data[o].low>>>0,e.int64Data[o].high>>>0).toNumber())}if(e.name!=null&&(n.name=String(e.name)),e.docString!=null&&(n.docString=String(e.docString)),e.rawData!=null&&(typeof e.rawData=="string"?f.base64.decode(e.rawData,n.rawData=f.newBuffer(f.base64.length(e.rawData)),0):e.rawData.length>=0&&(n.rawData=e.rawData)),e.externalData){if(!Array.isArray(e.externalData))throw TypeError(".onnx.TensorProto.externalData: array expected");for(n.externalData=[],o=0;o<e.externalData.length;++o){if(typeof e.externalData[o]!="object")throw TypeError(".onnx.TensorProto.externalData: object expected");n.externalData[o]=c.onnx.StringStringEntryProto.fromObject(e.externalData[o])}}switch(e.dataLocation){default:if(typeof e.dataLocation=="number"){n.dataLocation=e.dataLocation;break}break;case"DEFAULT":case 0:n.dataLocation=0;break;case"EXTERNAL":case 1:n.dataLocation=1}if(e.doubleData){if(!Array.isArray(e.doubleData))throw TypeError(".onnx.TensorProto.doubleData: array expected");for(n.doubleData=[],o=0;o<e.doubleData.length;++o)n.doubleData[o]=Number(e.doubleData[o])}if(e.uint64Data){if(!Array.isArray(e.uint64Data))throw TypeError(".onnx.TensorProto.uint64Data: array expected");for(n.uint64Data=[],o=0;o<e.uint64Data.length;++o)f.Long?(n.uint64Data[o]=f.Long.fromValue(e.uint64Data[o])).unsigned=!0:typeof e.uint64Data[o]=="string"?n.uint64Data[o]=parseInt(e.uint64Data[o],10):typeof e.uint64Data[o]=="number"?n.uint64Data[o]=e.uint64Data[o]:typeof e.uint64Data[o]=="object"&&(n.uint64Data[o]=new f.LongBits(e.uint64Data[o].low>>>0,e.uint64Data[o].high>>>0).toNumber(!0))}return n},r.toObject=function(e,n){n||(n={});var o={};if((n.arrays||n.defaults)&&(o.dims=[],o.floatData=[],o.int32Data=[],o.stringData=[],o.int64Data=[],o.doubleData=[],o.uint64Data=[],o.externalData=[]),n.defaults&&(o.dataType=0,o.segment=null,o.name="",n.bytes===String?o.rawData="":(o.rawData=[],n.bytes!==Array&&(o.rawData=f.newBuffer(o.rawData))),o.docString="",o.dataLocation=n.enums===String?"DEFAULT":0),e.dims&&e.dims.length){o.dims=[];for(var m=0;m<e.dims.length;++m)typeof e.dims[m]=="number"?o.dims[m]=n.longs===String?String(e.dims[m]):e.dims[m]:o.dims[m]=n.longs===String?f.Long.prototype.toString.call(e.dims[m]):n.longs===Number?new f.LongBits(e.dims[m].low>>>0,e.dims[m].high>>>0).toNumber():e.dims[m]}if(e.dataType!=null&&e.hasOwnProperty("dataType")&&(o.dataType=e.dataType),e.segment!=null&&e.hasOwnProperty("segment")&&(o.segment=c.onnx.TensorProto.Segment.toObject(e.segment,n)),e.floatData&&e.floatData.length)for(o.floatData=[],m=0;m<e.floatData.length;++m)o.floatData[m]=n.json&&!isFinite(e.floatData[m])?String(e.floatData[m]):e.floatData[m];if(e.int32Data&&e.int32Data.length)for(o.int32Data=[],m=0;m<e.int32Data.length;++m)o.int32Data[m]=e.int32Data[m];if(e.stringData&&e.stringData.length)for(o.stringData=[],m=0;m<e.stringData.length;++m)o.stringData[m]=n.bytes===String?f.base64.encode(e.stringData[m],0,e.stringData[m].length):n.bytes===Array?Array.prototype.slice.call(e.stringData[m]):e.stringData[m];if(e.int64Data&&e.int64Data.length)for(o.int64Data=[],m=0;m<e.int64Data.length;++m)typeof e.int64Data[m]=="number"?o.int64Data[m]=n.longs===String?String(e.int64Data[m]):e.int64Data[m]:o.int64Data[m]=n.longs===String?f.Long.prototype.toString.call(e.int64Data[m]):n.longs===Number?new f.LongBits(e.int64Data[m].low>>>0,e.int64Data[m].high>>>0).toNumber():e.int64Data[m];if(e.name!=null&&e.hasOwnProperty("name")&&(o.name=e.name),e.rawData!=null&&e.hasOwnProperty("rawData")&&(o.rawData=n.bytes===String?f.base64.encode(e.rawData,0,e.rawData.length):n.bytes===Array?Array.prototype.slice.call(e.rawData):e.rawData),e.doubleData&&e.doubleData.length)for(o.doubleData=[],m=0;m<e.doubleData.length;++m)o.doubleData[m]=n.json&&!isFinite(e.doubleData[m])?String(e.doubleData[m]):e.doubleData[m];if(e.uint64Data&&e.uint64Data.length)for(o.uint64Data=[],m=0;m<e.uint64Data.length;++m)typeof e.uint64Data[m]=="number"?o.uint64Data[m]=n.longs===String?String(e.uint64Data[m]):e.uint64Data[m]:o.uint64Data[m]=n.longs===String?f.Long.prototype.toString.call(e.uint64Data[m]):n.longs===Number?new f.LongBits(e.uint64Data[m].low>>>0,e.uint64Data[m].high>>>0).toNumber(!0):e.uint64Data[m];if(e.docString!=null&&e.hasOwnProperty("docString")&&(o.docString=e.docString),e.externalData&&e.externalData.length)for(o.externalData=[],m=0;m<e.externalData.length;++m)o.externalData[m]=c.onnx.StringStringEntryProto.toObject(e.externalData[m],n);return e.dataLocation!=null&&e.hasOwnProperty("dataLocation")&&(o.dataLocation=n.enums===String?c.onnx.TensorProto.DataLocation[e.dataLocation]===void 0?e.dataLocation:c.onnx.TensorProto.DataLocation[e.dataLocation]:e.dataLocation),o},r.prototype.toJSON=function(){return this.constructor.toObject(this,y.util.toJSONOptions)},r.getTypeUrl=function(e){return e===void 0&&(e="type.googleapis.com"),e+"/onnx.TensorProto"},r.DataType=function(){var e={},n=Object.create(e);return n[e[0]="UNDEFINED"]=0,n[e[1]="FLOAT"]=1,n[e[2]="UINT8"]=2,n[e[3]="INT8"]=3,n[e[4]="UINT16"]=4,n[e[5]="INT16"]=5,n[e[6]="INT32"]=6,n[e[7]="INT64"]=7,n[e[8]="STRING"]=8,n[e[9]="BOOL"]=9,n[e[10]="FLOAT16"]=10,n[e[11]="DOUBLE"]=11,n[e[12]="UINT32"]=12,n[e[13]="UINT64"]=13,n[e[14]="COMPLEX64"]=14,n[e[15]="COMPLEX128"]=15,n[e[16]="BFLOAT16"]=16,n[e[17]="FLOAT8E4M3FN"]=17,n[e[18]="FLOAT8E4M3FNUZ"]=18,n[e[19]="FLOAT8E5M2"]=19,n[e[20]="FLOAT8E5M2FNUZ"]=20,n}(),r.Segment=function(){function e(n){if(n)for(var o=Object.keys(n),m=0;m<o.length;++m)n[o[m]]!=null&&(this[o[m]]=n[o[m]])}return e.prototype.begin=f.Long?f.Long.fromBits(0,0,!1):0,e.prototype.end=f.Long?f.Long.fromBits(0,0,!1):0,e.create=function(n){return new e(n)},e.encode=function(n,o){return o||(o=v.create()),n.begin!=null&&Object.hasOwnProperty.call(n,"begin")&&o.uint32(8).int64(n.begin),n.end!=null&&Object.hasOwnProperty.call(n,"end")&&o.uint32(16).int64(n.end),o},e.encodeDelimited=function(n,o){return this.encode(n,o).ldelim()},e.decode=function(n,o){n instanceof g||(n=g.create(n));for(var m=o===void 0?n.len:n.pos+o,_=new c.onnx.TensorProto.Segment;n.pos<m;){var x=n.uint32();switch(x>>>3){case 1:_.begin=n.int64();break;case 2:_.end=n.int64();break;default:n.skipType(7&x)}}return _},e.decodeDelimited=function(n){return n instanceof g||(n=new g(n)),this.decode(n,n.uint32())},e.verify=function(n){return typeof n!="object"||n===null?"object expected":n.begin!=null&&n.hasOwnProperty("begin")&&!(f.isInteger(n.begin)||n.begin&&f.isInteger(n.begin.low)&&f.isInteger(n.begin.high))?"begin: integer|Long expected":n.end!=null&&n.hasOwnProperty("end")&&!(f.isInteger(n.end)||n.end&&f.isInteger(n.end.low)&&f.isInteger(n.end.high))?"end: integer|Long expected":null},e.fromObject=function(n){if(n instanceof c.onnx.TensorProto.Segment)return n;var o=new c.onnx.TensorProto.Segment;return n.begin!=null&&(f.Long?(o.begin=f.Long.fromValue(n.begin)).unsigned=!1:typeof n.begin=="string"?o.begin=parseInt(n.begin,10):typeof n.begin=="number"?o.begin=n.begin:typeof n.begin=="object"&&(o.begin=new f.LongBits(n.begin.low>>>0,n.begin.high>>>0).toNumber())),n.end!=null&&(f.Long?(o.end=f.Long.fromValue(n.end)).unsigned=!1:typeof n.end=="string"?o.end=parseInt(n.end,10):typeof n.end=="number"?o.end=n.end:typeof n.end=="object"&&(o.end=new f.LongBits(n.end.low>>>0,n.end.high>>>0).toNumber())),o},e.toObject=function(n,o){o||(o={});var m={};if(o.defaults){if(f.Long){var _=new f.Long(0,0,!1);m.begin=o.longs===String?_.toString():o.longs===Number?_.toNumber():_}else m.begin=o.longs===String?"0":0;f.Long?(_=new f.Long(0,0,!1),m.end=o.longs===String?_.toString():o.longs===Number?_.toNumber():_):m.end=o.longs===String?"0":0}return n.begin!=null&&n.hasOwnProperty("begin")&&(typeof n.begin=="number"?m.begin=o.longs===String?String(n.begin):n.begin:m.begin=o.longs===String?f.Long.prototype.toString.call(n.begin):o.longs===Number?new f.LongBits(n.begin.low>>>0,n.begin.high>>>0).toNumber():n.begin),n.end!=null&&n.hasOwnProperty("end")&&(typeof n.end=="number"?m.end=o.longs===String?String(n.end):n.end:m.end=o.longs===String?f.Long.prototype.toString.call(n.end):o.longs===Number?new f.LongBits(n.end.low>>>0,n.end.high>>>0).toNumber():n.end),m},e.prototype.toJSON=function(){return this.constructor.toObject(this,y.util.toJSONOptions)},e.getTypeUrl=function(n){return n===void 0&&(n="type.googleapis.com"),n+"/onnx.TensorProto.Segment"},e}(),r.DataLocation=function(){var e={},n=Object.create(e);return n[e[0]="DEFAULT"]=0,n[e[1]="EXTERNAL"]=1,n}(),r}(),d.SparseTensorProto=function(){function r(e){if(this.dims=[],e)for(var n=Object.keys(e),o=0;o<n.length;++o)e[n[o]]!=null&&(this[n[o]]=e[n[o]])}return r.prototype.values=null,r.prototype.indices=null,r.prototype.dims=f.emptyArray,r.create=function(e){return new r(e)},r.encode=function(e,n){if(n||(n=v.create()),e.values!=null&&Object.hasOwnProperty.call(e,"values")&&c.onnx.TensorProto.encode(e.values,n.uint32(10).fork()).ldelim(),e.indices!=null&&Object.hasOwnProperty.call(e,"indices")&&c.onnx.TensorProto.encode(e.indices,n.uint32(18).fork()).ldelim(),e.dims!=null&&e.dims.length){n.uint32(26).fork();for(var o=0;o<e.dims.length;++o)n.int64(e.dims[o]);n.ldelim()}return n},r.encodeDelimited=function(e,n){return this.encode(e,n).ldelim()},r.decode=function(e,n){e instanceof g||(e=g.create(e));for(var o=n===void 0?e.len:e.pos+n,m=new c.onnx.SparseTensorProto;e.pos<o;){var _=e.uint32();switch(_>>>3){case 1:m.values=c.onnx.TensorProto.decode(e,e.uint32());break;case 2:m.indices=c.onnx.TensorProto.decode(e,e.uint32());break;case 3:if(m.dims&&m.dims.length||(m.dims=[]),(7&_)==2)for(var x=e.uint32()+e.pos;e.pos<x;)m.dims.push(e.int64());else m.dims.push(e.int64());break;default:e.skipType(7&_)}}return m},r.decodeDelimited=function(e){return e instanceof g||(e=new g(e)),this.decode(e,e.uint32())},r.verify=function(e){if(typeof e!="object"||e===null)return"object expected";var n;if(e.values!=null&&e.hasOwnProperty("values")&&(n=c.onnx.TensorProto.verify(e.values)))return"values."+n;if(e.indices!=null&&e.hasOwnProperty("indices")&&(n=c.onnx.TensorProto.verify(e.indices)))return"indices."+n;if(e.dims!=null&&e.hasOwnProperty("dims")){if(!Array.isArray(e.dims))return"dims: array expected";for(var o=0;o<e.dims.length;++o)if(!(f.isInteger(e.dims[o])||e.dims[o]&&f.isInteger(e.dims[o].low)&&f.isInteger(e.dims[o].high)))return"dims: integer|Long[] expected"}return null},r.fromObject=function(e){if(e instanceof c.onnx.SparseTensorProto)return e;var n=new c.onnx.SparseTensorProto;if(e.values!=null){if(typeof e.values!="object")throw TypeError(".onnx.SparseTensorProto.values: object expected");n.values=c.onnx.TensorProto.fromObject(e.values)}if(e.indices!=null){if(typeof e.indices!="object")throw TypeError(".onnx.SparseTensorProto.indices: object expected");n.indices=c.onnx.TensorProto.fromObject(e.indices)}if(e.dims){if(!Array.isArray(e.dims))throw TypeError(".onnx.SparseTensorProto.dims: array expected");n.dims=[];for(var o=0;o<e.dims.length;++o)f.Long?(n.dims[o]=f.Long.fromValue(e.dims[o])).unsigned=!1:typeof e.dims[o]=="string"?n.dims[o]=parseInt(e.dims[o],10):typeof e.dims[o]=="number"?n.dims[o]=e.dims[o]:typeof e.dims[o]=="object"&&(n.dims[o]=new f.LongBits(e.dims[o].low>>>0,e.dims[o].high>>>0).toNumber())}return n},r.toObject=function(e,n){n||(n={});var o={};if((n.arrays||n.defaults)&&(o.dims=[]),n.defaults&&(o.values=null,o.indices=null),e.values!=null&&e.hasOwnProperty("values")&&(o.values=c.onnx.TensorProto.toObject(e.values,n)),e.indices!=null&&e.hasOwnProperty("indices")&&(o.indices=c.onnx.TensorProto.toObject(e.indices,n)),e.dims&&e.dims.length){o.dims=[];for(var m=0;m<e.dims.length;++m)typeof e.dims[m]=="number"?o.dims[m]=n.longs===String?String(e.dims[m]):e.dims[m]:o.dims[m]=n.longs===String?f.Long.prototype.toString.call(e.dims[m]):n.longs===Number?new f.LongBits(e.dims[m].low>>>0,e.dims[m].high>>>0).toNumber():e.dims[m]}return o},r.prototype.toJSON=function(){return this.constructor.toObject(this,y.util.toJSONOptions)},r.getTypeUrl=function(e){return e===void 0&&(e="type.googleapis.com"),e+"/onnx.SparseTensorProto"},r}(),d.TensorShapeProto=function(){function r(e){if(this.dim=[],e)for(var n=Object.keys(e),o=0;o<n.length;++o)e[n[o]]!=null&&(this[n[o]]=e[n[o]])}return r.prototype.dim=f.emptyArray,r.create=function(e){return new r(e)},r.encode=function(e,n){if(n||(n=v.create()),e.dim!=null&&e.dim.length)for(var o=0;o<e.dim.length;++o)c.onnx.TensorShapeProto.Dimension.encode(e.dim[o],n.uint32(10).fork()).ldelim();return n},r.encodeDelimited=function(e,n){return this.encode(e,n).ldelim()},r.decode=function(e,n){e instanceof g||(e=g.create(e));for(var o=n===void 0?e.len:e.pos+n,m=new c.onnx.TensorShapeProto;e.pos<o;){var _=e.uint32();_>>>3==1?(m.dim&&m.dim.length||(m.dim=[]),m.dim.push(c.onnx.TensorShapeProto.Dimension.decode(e,e.uint32()))):e.skipType(7&_)}return m},r.decodeDelimited=function(e){return e instanceof g||(e=new g(e)),this.decode(e,e.uint32())},r.verify=function(e){if(typeof e!="object"||e===null)return"object expected";if(e.dim!=null&&e.hasOwnProperty("dim")){if(!Array.isArray(e.dim))return"dim: array expected";for(var n=0;n<e.dim.length;++n){var o=c.onnx.TensorShapeProto.Dimension.verify(e.dim[n]);if(o)return"dim."+o}}return null},r.fromObject=function(e){if(e instanceof c.onnx.TensorShapeProto)return e;var n=new c.onnx.TensorShapeProto;if(e.dim){if(!Array.isArray(e.dim))throw TypeError(".onnx.TensorShapeProto.dim: array expected");n.dim=[];for(var o=0;o<e.dim.length;++o){if(typeof e.dim[o]!="object")throw TypeError(".onnx.TensorShapeProto.dim: object expected");n.dim[o]=c.onnx.TensorShapeProto.Dimension.fromObject(e.dim[o])}}return n},r.toObject=function(e,n){n||(n={});var o={};if((n.arrays||n.defaults)&&(o.dim=[]),e.dim&&e.dim.length){o.dim=[];for(var m=0;m<e.dim.length;++m)o.dim[m]=c.onnx.TensorShapeProto.Dimension.toObject(e.dim[m],n)}return o},r.prototype.toJSON=function(){return this.constructor.toObject(this,y.util.toJSONOptions)},r.getTypeUrl=function(e){return e===void 0&&(e="type.googleapis.com"),e+"/onnx.TensorShapeProto"},r.Dimension=function(){function e(o){if(o)for(var m=Object.keys(o),_=0;_<m.length;++_)o[m[_]]!=null&&(this[m[_]]=o[m[_]])}var n;return e.prototype.dimValue=null,e.prototype.dimParam=null,e.prototype.denotation="",Object.defineProperty(e.prototype,"value",{get:f.oneOfGetter(n=["dimValue","dimParam"]),set:f.oneOfSetter(n)}),e.create=function(o){return new e(o)},e.encode=function(o,m){return m||(m=v.create()),o.dimValue!=null&&Object.hasOwnProperty.call(o,"dimValue")&&m.uint32(8).int64(o.dimValue),o.dimParam!=null&&Object.hasOwnProperty.call(o,"dimParam")&&m.uint32(18).string(o.dimParam),o.denotation!=null&&Object.hasOwnProperty.call(o,"denotation")&&m.uint32(26).string(o.denotation),m},e.encodeDelimited=function(o,m){return this.encode(o,m).ldelim()},e.decode=function(o,m){o instanceof g||(o=g.create(o));for(var _=m===void 0?o.len:o.pos+m,x=new c.onnx.TensorShapeProto.Dimension;o.pos<_;){var w=o.uint32();switch(w>>>3){case 1:x.dimValue=o.int64();break;case 2:x.dimParam=o.string();break;case 3:x.denotation=o.string();break;default:o.skipType(7&w)}}return x},e.decodeDelimited=function(o){return o instanceof g||(o=new g(o)),this.decode(o,o.uint32())},e.verify=function(o){if(typeof o!="object"||o===null)return"object expected";var m={};if(o.dimValue!=null&&o.hasOwnProperty("dimValue")&&(m.value=1,!(f.isInteger(o.dimValue)||o.dimValue&&f.isInteger(o.dimValue.low)&&f.isInteger(o.dimValue.high))))return"dimValue: integer|Long expected";if(o.dimParam!=null&&o.hasOwnProperty("dimParam")){if(m.value===1)return"value: multiple values";if(m.value=1,!f.isString(o.dimParam))return"dimParam: string expected"}return o.denotation!=null&&o.hasOwnProperty("denotation")&&!f.isString(o.denotation)?"denotation: string expected":null},e.fromObject=function(o){if(o instanceof c.onnx.TensorShapeProto.Dimension)return o;var m=new c.onnx.TensorShapeProto.Dimension;return o.dimValue!=null&&(f.Long?(m.dimValue=f.Long.fromValue(o.dimValue)).unsigned=!1:typeof o.dimValue=="string"?m.dimValue=parseInt(o.dimValue,10):typeof o.dimValue=="number"?m.dimValue=o.dimValue:typeof o.dimValue=="object"&&(m.dimValue=new f.LongBits(o.dimValue.low>>>0,o.dimValue.high>>>0).toNumber())),o.dimParam!=null&&(m.dimParam=String(o.dimParam)),o.denotation!=null&&(m.denotation=String(o.denotation)),m},e.toObject=function(o,m){m||(m={});var _={};return m.defaults&&(_.denotation=""),o.dimValue!=null&&o.hasOwnProperty("dimValue")&&(typeof o.dimValue=="number"?_.dimValue=m.longs===String?String(o.dimValue):o.dimValue:_.dimValue=m.longs===String?f.Long.prototype.toString.call(o.dimValue):m.longs===Number?new f.LongBits(o.dimValue.low>>>0,o.dimValue.high>>>0).toNumber():o.dimValue,m.oneofs&&(_.value="dimValue")),o.dimParam!=null&&o.hasOwnProperty("dimParam")&&(_.dimParam=o.dimParam,m.oneofs&&(_.value="dimParam")),o.denotation!=null&&o.hasOwnProperty("denotation")&&(_.denotation=o.denotation),_},e.prototype.toJSON=function(){return this.constructor.toObject(this,y.util.toJSONOptions)},e.getTypeUrl=function(o){return o===void 0&&(o="type.googleapis.com"),o+"/onnx.TensorShapeProto.Dimension"},e}(),r}(),d.TypeProto=function(){function r(n){if(n)for(var o=Object.keys(n),m=0;m<o.length;++m)n[o[m]]!=null&&(this[o[m]]=n[o[m]])}var e;return r.prototype.tensorType=null,r.prototype.sequenceType=null,r.prototype.mapType=null,r.prototype.optionalType=null,r.prototype.sparseTensorType=null,r.prototype.denotation="",Object.defineProperty(r.prototype,"value",{get:f.oneOfGetter(e=["tensorType","sequenceType","mapType","optionalType","sparseTensorType"]),set:f.oneOfSetter(e)}),r.create=function(n){return new r(n)},r.encode=function(n,o){return o||(o=v.create()),n.tensorType!=null&&Object.hasOwnProperty.call(n,"tensorType")&&c.onnx.TypeProto.Tensor.encode(n.tensorType,o.uint32(10).fork()).ldelim(),n.sequenceType!=null&&Object.hasOwnProperty.call(n,"sequenceType")&&c.onnx.TypeProto.Sequence.encode(n.sequenceType,o.uint32(34).fork()).ldelim(),n.mapType!=null&&Object.hasOwnProperty.call(n,"mapType")&&c.onnx.TypeProto.Map.encode(n.mapType,o.uint32(42).fork()).ldelim(),n.denotation!=null&&Object.hasOwnProperty.call(n,"denotation")&&o.uint32(50).string(n.denotation),n.sparseTensorType!=null&&Object.hasOwnProperty.call(n,"sparseTensorType")&&c.onnx.TypeProto.SparseTensor.encode(n.sparseTensorType,o.uint32(66).fork()).ldelim(),n.optionalType!=null&&Object.hasOwnProperty.call(n,"optionalType")&&c.onnx.TypeProto.Optional.encode(n.optionalType,o.uint32(74).fork()).ldelim(),o},r.encodeDelimited=function(n,o){return this.encode(n,o).ldelim()},r.decode=function(n,o){n instanceof g||(n=g.create(n));for(var m=o===void 0?n.len:n.pos+o,_=new c.onnx.TypeProto;n.pos<m;){var x=n.uint32();switch(x>>>3){case 1:_.tensorType=c.onnx.TypeProto.Tensor.decode(n,n.uint32());break;case 4:_.sequenceType=c.onnx.TypeProto.Sequence.decode(n,n.uint32());break;case 5:_.mapType=c.onnx.TypeProto.Map.decode(n,n.uint32());break;case 9:_.optionalType=c.onnx.TypeProto.Optional.decode(n,n.uint32());break;case 8:_.sparseTensorType=c.onnx.TypeProto.SparseTensor.decode(n,n.uint32());break;case 6:_.denotation=n.string();break;default:n.skipType(7&x)}}return _},r.decodeDelimited=function(n){return n instanceof g||(n=new g(n)),this.decode(n,n.uint32())},r.verify=function(n){if(typeof n!="object"||n===null)return"object expected";var o={};if(n.tensorType!=null&&n.hasOwnProperty("tensorType")&&(o.value=1,m=c.onnx.TypeProto.Tensor.verify(n.tensorType)))return"tensorType."+m;if(n.sequenceType!=null&&n.hasOwnProperty("sequenceType")){if(o.value===1)return"value: multiple values";if(o.value=1,m=c.onnx.TypeProto.Sequence.verify(n.sequenceType))return"sequenceType."+m}if(n.mapType!=null&&n.hasOwnProperty("mapType")){if(o.value===1)return"value: multiple values";if(o.value=1,m=c.onnx.TypeProto.Map.verify(n.mapType))return"mapType."+m}if(n.optionalType!=null&&n.hasOwnProperty("optionalType")){if(o.value===1)return"value: multiple values";if(o.value=1,m=c.onnx.TypeProto.Optional.verify(n.optionalType))return"optionalType."+m}if(n.sparseTensorType!=null&&n.hasOwnProperty("sparseTensorType")){if(o.value===1)return"value: multiple values";var m;if(o.value=1,m=c.onnx.TypeProto.SparseTensor.verify(n.sparseTensorType))return"sparseTensorType."+m}return n.denotation!=null&&n.hasOwnProperty("denotation")&&!f.isString(n.denotation)?"denotation: string expected":null},r.fromObject=function(n){if(n instanceof c.onnx.TypeProto)return n;var o=new c.onnx.TypeProto;if(n.tensorType!=null){if(typeof n.tensorType!="object")throw TypeError(".onnx.TypeProto.tensorType: object expected");o.tensorType=c.onnx.TypeProto.Tensor.fromObject(n.tensorType)}if(n.sequenceType!=null){if(typeof n.sequenceType!="object")throw TypeError(".onnx.TypeProto.sequenceType: object expected");o.sequenceType=c.onnx.TypeProto.Sequence.fromObject(n.sequenceType)}if(n.mapType!=null){if(typeof n.mapType!="object")throw TypeError(".onnx.TypeProto.mapType: object expected");o.mapType=c.onnx.TypeProto.Map.fromObject(n.mapType)}if(n.optionalType!=null){if(typeof n.optionalType!="object")throw TypeError(".onnx.TypeProto.optionalType: object expected");o.optionalType=c.onnx.TypeProto.Optional.fromObject(n.optionalType)}if(n.sparseTensorType!=null){if(typeof n.sparseTensorType!="object")throw TypeError(".onnx.TypeProto.sparseTensorType: object expected");o.sparseTensorType=c.onnx.TypeProto.SparseTensor.fromObject(n.sparseTensorType)}return n.denotation!=null&&(o.denotation=String(n.denotation)),o},r.toObject=function(n,o){o||(o={});var m={};return o.defaults&&(m.denotation=""),n.tensorType!=null&&n.hasOwnProperty("tensorType")&&(m.tensorType=c.onnx.TypeProto.Tensor.toObject(n.tensorType,o),o.oneofs&&(m.value="tensorType")),n.sequenceType!=null&&n.hasOwnProperty("sequenceType")&&(m.sequenceType=c.onnx.TypeProto.Sequence.toObject(n.sequenceType,o),o.oneofs&&(m.value="sequenceType")),n.mapType!=null&&n.hasOwnProperty("mapType")&&(m.mapType=c.onnx.TypeProto.Map.toObject(n.mapType,o),o.oneofs&&(m.value="mapType")),n.denotation!=null&&n.hasOwnProperty("denotation")&&(m.denotation=n.denotation),n.sparseTensorType!=null&&n.hasOwnProperty("sparseTensorType")&&(m.sparseTensorType=c.onnx.TypeProto.SparseTensor.toObject(n.sparseTensorType,o),o.oneofs&&(m.value="sparseTensorType")),n.optionalType!=null&&n.hasOwnProperty("optionalType")&&(m.optionalType=c.onnx.TypeProto.Optional.toObject(n.optionalType,o),o.oneofs&&(m.value="optionalType")),m},r.prototype.toJSON=function(){return this.constructor.toObject(this,y.util.toJSONOptions)},r.getTypeUrl=function(n){return n===void 0&&(n="type.googleapis.com"),n+"/onnx.TypeProto"},r.Tensor=function(){function n(o){if(o)for(var m=Object.keys(o),_=0;_<m.length;++_)o[m[_]]!=null&&(this[m[_]]=o[m[_]])}return n.prototype.elemType=0,n.prototype.shape=null,n.create=function(o){return new n(o)},n.encode=function(o,m){return m||(m=v.create()),o.elemType!=null&&Object.hasOwnProperty.call(o,"elemType")&&m.uint32(8).int32(o.elemType),o.shape!=null&&Object.hasOwnProperty.call(o,"shape")&&c.onnx.TensorShapeProto.encode(o.shape,m.uint32(18).fork()).ldelim(),m},n.encodeDelimited=function(o,m){return this.encode(o,m).ldelim()},n.decode=function(o,m){o instanceof g||(o=g.create(o));for(var _=m===void 0?o.len:o.pos+m,x=new c.onnx.TypeProto.Tensor;o.pos<_;){var w=o.uint32();switch(w>>>3){case 1:x.elemType=o.int32();break;case 2:x.shape=c.onnx.TensorShapeProto.decode(o,o.uint32());break;default:o.skipType(7&w)}}return x},n.decodeDelimited=function(o){return o instanceof g||(o=new g(o)),this.decode(o,o.uint32())},n.verify=function(o){if(typeof o!="object"||o===null)return"object expected";if(o.elemType!=null&&o.hasOwnProperty("elemType")&&!f.isInteger(o.elemType))return"elemType: integer expected";if(o.shape!=null&&o.hasOwnProperty("shape")){var m=c.onnx.TensorShapeProto.verify(o.shape);if(m)return"shape."+m}return null},n.fromObject=function(o){if(o instanceof c.onnx.TypeProto.Tensor)return o;var m=new c.onnx.TypeProto.Tensor;if(o.elemType!=null&&(m.elemType=0|o.elemType),o.shape!=null){if(typeof o.shape!="object")throw TypeError(".onnx.TypeProto.Tensor.shape: object expected");m.shape=c.onnx.TensorShapeProto.fromObject(o.shape)}return m},n.toObject=function(o,m){m||(m={});var _={};return m.defaults&&(_.elemType=0,_.shape=null),o.elemType!=null&&o.hasOwnProperty("elemType")&&(_.elemType=o.elemType),o.shape!=null&&o.hasOwnProperty("shape")&&(_.shape=c.onnx.TensorShapeProto.toObject(o.shape,m)),_},n.prototype.toJSON=function(){return this.constructor.toObject(this,y.util.toJSONOptions)},n.getTypeUrl=function(o){return o===void 0&&(o="type.googleapis.com"),o+"/onnx.TypeProto.Tensor"},n}(),r.Sequence=function(){function n(o){if(o)for(var m=Object.keys(o),_=0;_<m.length;++_)o[m[_]]!=null&&(this[m[_]]=o[m[_]])}return n.prototype.elemType=null,n.create=function(o){return new n(o)},n.encode=function(o,m){return m||(m=v.create()),o.elemType!=null&&Object.hasOwnProperty.call(o,"elemType")&&c.onnx.TypeProto.encode(o.elemType,m.uint32(10).fork()).ldelim(),m},n.encodeDelimited=function(o,m){return this.encode(o,m).ldelim()},n.decode=function(o,m){o instanceof g||(o=g.create(o));for(var _=m===void 0?o.len:o.pos+m,x=new c.onnx.TypeProto.Sequence;o.pos<_;){var w=o.uint32();w>>>3==1?x.elemType=c.onnx.TypeProto.decode(o,o.uint32()):o.skipType(7&w)}return x},n.decodeDelimited=function(o){return o instanceof g||(o=new g(o)),this.decode(o,o.uint32())},n.verify=function(o){if(typeof o!="object"||o===null)return"object expected";if(o.elemType!=null&&o.hasOwnProperty("elemType")){var m=c.onnx.TypeProto.verify(o.elemType);if(m)return"elemType."+m}return null},n.fromObject=function(o){if(o instanceof c.onnx.TypeProto.Sequence)return o;var m=new c.onnx.TypeProto.Sequence;if(o.elemType!=null){if(typeof o.elemType!="object")throw TypeError(".onnx.TypeProto.Sequence.elemType: object expected");m.elemType=c.onnx.TypeProto.fromObject(o.elemType)}return m},n.toObject=function(o,m){m||(m={});var _={};return m.defaults&&(_.elemType=null),o.elemType!=null&&o.hasOwnProperty("elemType")&&(_.elemType=c.onnx.TypeProto.toObject(o.elemType,m)),_},n.prototype.toJSON=function(){return this.constructor.toObject(this,y.util.toJSONOptions)},n.getTypeUrl=function(o){return o===void 0&&(o="type.googleapis.com"),o+"/onnx.TypeProto.Sequence"},n}(),r.Map=function(){function n(o){if(o)for(var m=Object.keys(o),_=0;_<m.length;++_)o[m[_]]!=null&&(this[m[_]]=o[m[_]])}return n.prototype.keyType=0,n.prototype.valueType=null,n.create=function(o){return new n(o)},n.encode=function(o,m){return m||(m=v.create()),o.keyType!=null&&Object.hasOwnProperty.call(o,"keyType")&&m.uint32(8).int32(o.keyType),o.valueType!=null&&Object.hasOwnProperty.call(o,"valueType")&&c.onnx.TypeProto.encode(o.valueType,m.uint32(18).fork()).ldelim(),m},n.encodeDelimited=function(o,m){return this.encode(o,m).ldelim()},n.decode=function(o,m){o instanceof g||(o=g.create(o));for(var _=m===void 0?o.len:o.pos+m,x=new c.onnx.TypeProto.Map;o.pos<_;){var w=o.uint32();switch(w>>>3){case 1:x.keyType=o.int32();break;case 2:x.valueType=c.onnx.TypeProto.decode(o,o.uint32());break;default:o.skipType(7&w)}}return x},n.decodeDelimited=function(o){return o instanceof g||(o=new g(o)),this.decode(o,o.uint32())},n.verify=function(o){if(typeof o!="object"||o===null)return"object expected";if(o.keyType!=null&&o.hasOwnProperty("keyType")&&!f.isInteger(o.keyType))return"keyType: integer expected";if(o.valueType!=null&&o.hasOwnProperty("valueType")){var m=c.onnx.TypeProto.verify(o.valueType);if(m)return"valueType."+m}return null},n.fromObject=function(o){if(o instanceof c.onnx.TypeProto.Map)return o;var m=new c.onnx.TypeProto.Map;if(o.keyType!=null&&(m.keyType=0|o.keyType),o.valueType!=null){if(typeof o.valueType!="object")throw TypeError(".onnx.TypeProto.Map.valueType: object expected");m.valueType=c.onnx.TypeProto.fromObject(o.valueType)}return m},n.toObject=function(o,m){m||(m={});var _={};return m.defaults&&(_.keyType=0,_.valueType=null),o.keyType!=null&&o.hasOwnProperty("keyType")&&(_.keyType=o.keyType),o.valueType!=null&&o.hasOwnProperty("valueType")&&(_.valueType=c.onnx.TypeProto.toObject(o.valueType,m)),_},n.prototype.toJSON=function(){return this.constructor.toObject(this,y.util.toJSONOptions)},n.getTypeUrl=function(o){return o===void 0&&(o="type.googleapis.com"),o+"/onnx.TypeProto.Map"},n}(),r.Optional=function(){function n(o){if(o)for(var m=Object.keys(o),_=0;_<m.length;++_)o[m[_]]!=null&&(this[m[_]]=o[m[_]])}return n.prototype.elemType=null,n.create=function(o){return new n(o)},n.encode=function(o,m){return m||(m=v.create()),o.elemType!=null&&Object.hasOwnProperty.call(o,"elemType")&&c.onnx.TypeProto.encode(o.elemType,m.uint32(10).fork()).ldelim(),m},n.encodeDelimited=function(o,m){return this.encode(o,m).ldelim()},n.decode=function(o,m){o instanceof g||(o=g.create(o));for(var _=m===void 0?o.len:o.pos+m,x=new c.onnx.TypeProto.Optional;o.pos<_;){var w=o.uint32();w>>>3==1?x.elemType=c.onnx.TypeProto.decode(o,o.uint32()):o.skipType(7&w)}return x},n.decodeDelimited=function(o){return o instanceof g||(o=new g(o)),this.decode(o,o.uint32())},n.verify=function(o){if(typeof o!="object"||o===null)return"object expected";if(o.elemType!=null&&o.hasOwnProperty("elemType")){var m=c.onnx.TypeProto.verify(o.elemType);if(m)return"elemType."+m}return null},n.fromObject=function(o){if(o instanceof c.onnx.TypeProto.Optional)return o;var m=new c.onnx.TypeProto.Optional;if(o.elemType!=null){if(typeof o.elemType!="object")throw TypeError(".onnx.TypeProto.Optional.elemType: object expected");m.elemType=c.onnx.TypeProto.fromObject(o.elemType)}return m},n.toObject=function(o,m){m||(m={});var _={};return m.defaults&&(_.elemType=null),o.elemType!=null&&o.hasOwnProperty("elemType")&&(_.elemType=c.onnx.TypeProto.toObject(o.elemType,m)),_},n.prototype.toJSON=function(){return this.constructor.toObject(this,y.util.toJSONOptions)},n.getTypeUrl=function(o){return o===void 0&&(o="type.googleapis.com"),o+"/onnx.TypeProto.Optional"},n}(),r.SparseTensor=function(){function n(o){if(o)for(var m=Object.keys(o),_=0;_<m.length;++_)o[m[_]]!=null&&(this[m[_]]=o[m[_]])}return n.prototype.elemType=0,n.prototype.shape=null,n.create=function(o){return new n(o)},n.encode=function(o,m){return m||(m=v.create()),o.elemType!=null&&Object.hasOwnProperty.call(o,"elemType")&&m.uint32(8).int32(o.elemType),o.shape!=null&&Object.hasOwnProperty.call(o,"shape")&&c.onnx.TensorShapeProto.encode(o.shape,m.uint32(18).fork()).ldelim(),m},n.encodeDelimited=function(o,m){return this.encode(o,m).ldelim()},n.decode=function(o,m){o instanceof g||(o=g.create(o));for(var _=m===void 0?o.len:o.pos+m,x=new c.onnx.TypeProto.SparseTensor;o.pos<_;){var w=o.uint32();switch(w>>>3){case 1:x.elemType=o.int32();break;case 2:x.shape=c.onnx.TensorShapeProto.decode(o,o.uint32());break;default:o.skipType(7&w)}}return x},n.decodeDelimited=function(o){return o instanceof g||(o=new g(o)),this.decode(o,o.uint32())},n.verify=function(o){if(typeof o!="object"||o===null)return"object expected";if(o.elemType!=null&&o.hasOwnProperty("elemType")&&!f.isInteger(o.elemType))return"elemType: integer expected";if(o.shape!=null&&o.hasOwnProperty("shape")){var m=c.onnx.TensorShapeProto.verify(o.shape);if(m)return"shape."+m}return null},n.fromObject=function(o){if(o instanceof c.onnx.TypeProto.SparseTensor)return o;var m=new c.onnx.TypeProto.SparseTensor;if(o.elemType!=null&&(m.elemType=0|o.elemType),o.shape!=null){if(typeof o.shape!="object")throw TypeError(".onnx.TypeProto.SparseTensor.shape: object expected");m.shape=c.onnx.TensorShapeProto.fromObject(o.shape)}return m},n.toObject=function(o,m){m||(m={});var _={};return m.defaults&&(_.elemType=0,_.shape=null),o.elemType!=null&&o.hasOwnProperty("elemType")&&(_.elemType=o.elemType),o.shape!=null&&o.hasOwnProperty("shape")&&(_.shape=c.onnx.TensorShapeProto.toObject(o.shape,m)),_},n.prototype.toJSON=function(){return this.constructor.toObject(this,y.util.toJSONOptions)},n.getTypeUrl=function(o){return o===void 0&&(o="type.googleapis.com"),o+"/onnx.TypeProto.SparseTensor"},n}(),r}(),d.OperatorSetIdProto=function(){function r(e){if(e)for(var n=Object.keys(e),o=0;o<n.length;++o)e[n[o]]!=null&&(this[n[o]]=e[n[o]])}return r.prototype.domain="",r.prototype.version=f.Long?f.Long.fromBits(0,0,!1):0,r.create=function(e){return new r(e)},r.encode=function(e,n){return n||(n=v.create()),e.domain!=null&&Object.hasOwnProperty.call(e,"domain")&&n.uint32(10).string(e.domain),e.version!=null&&Object.hasOwnProperty.call(e,"version")&&n.uint32(16).int64(e.version),n},r.encodeDelimited=function(e,n){return this.encode(e,n).ldelim()},r.decode=function(e,n){e instanceof g||(e=g.create(e));for(var o=n===void 0?e.len:e.pos+n,m=new c.onnx.OperatorSetIdProto;e.pos<o;){var _=e.uint32();switch(_>>>3){case 1:m.domain=e.string();break;case 2:m.version=e.int64();break;default:e.skipType(7&_)}}return m},r.decodeDelimited=function(e){return e instanceof g||(e=new g(e)),this.decode(e,e.uint32())},r.verify=function(e){return typeof e!="object"||e===null?"object expected":e.domain!=null&&e.hasOwnProperty("domain")&&!f.isString(e.domain)?"domain: string expected":e.version!=null&&e.hasOwnProperty("version")&&!(f.isInteger(e.version)||e.version&&f.isInteger(e.version.low)&&f.isInteger(e.version.high))?"version: integer|Long expected":null},r.fromObject=function(e){if(e instanceof c.onnx.OperatorSetIdProto)return e;var n=new c.onnx.OperatorSetIdProto;return e.domain!=null&&(n.domain=String(e.domain)),e.version!=null&&(f.Long?(n.version=f.Long.fromValue(e.version)).unsigned=!1:typeof e.version=="string"?n.version=parseInt(e.version,10):typeof e.version=="number"?n.version=e.version:typeof e.version=="object"&&(n.version=new f.LongBits(e.version.low>>>0,e.version.high>>>0).toNumber())),n},r.toObject=function(e,n){n||(n={});var o={};if(n.defaults)if(o.domain="",f.Long){var m=new f.Long(0,0,!1);o.version=n.longs===String?m.toString():n.longs===Number?m.toNumber():m}else o.version=n.longs===String?"0":0;return e.domain!=null&&e.hasOwnProperty("domain")&&(o.domain=e.domain),e.version!=null&&e.hasOwnProperty("version")&&(typeof e.version=="number"?o.version=n.longs===String?String(e.version):e.version:o.version=n.longs===String?f.Long.prototype.toString.call(e.version):n.longs===Number?new f.LongBits(e.version.low>>>0,e.version.high>>>0).toNumber():e.version),o},r.prototype.toJSON=function(){return this.constructor.toObject(this,y.util.toJSONOptions)},r.getTypeUrl=function(e){return e===void 0&&(e="type.googleapis.com"),e+"/onnx.OperatorSetIdProto"},r}(),d.OperatorStatus=function(){var r={},e=Object.create(r);return e[r[0]="EXPERIMENTAL"]=0,e[r[1]="STABLE"]=1,e}(),d.FunctionProto=function(){function r(e){if(this.input=[],this.output=[],this.attribute=[],this.attributeProto=[],this.node=[],this.opsetImport=[],e)for(var n=Object.keys(e),o=0;o<n.length;++o)e[n[o]]!=null&&(this[n[o]]=e[n[o]])}return r.prototype.name="",r.prototype.input=f.emptyArray,r.prototype.output=f.emptyArray,r.prototype.attribute=f.emptyArray,r.prototype.attributeProto=f.emptyArray,r.prototype.node=f.emptyArray,r.prototype.docString="",r.prototype.opsetImport=f.emptyArray,r.prototype.domain="",r.create=function(e){return new r(e)},r.encode=function(e,n){if(n||(n=v.create()),e.name!=null&&Object.hasOwnProperty.call(e,"name")&&n.uint32(10).string(e.name),e.input!=null&&e.input.length)for(var o=0;o<e.input.length;++o)n.uint32(34).string(e.input[o]);if(e.output!=null&&e.output.length)for(o=0;o<e.output.length;++o)n.uint32(42).string(e.output[o]);if(e.attribute!=null&&e.attribute.length)for(o=0;o<e.attribute.length;++o)n.uint32(50).string(e.attribute[o]);if(e.node!=null&&e.node.length)for(o=0;o<e.node.length;++o)c.onnx.NodeProto.encode(e.node[o],n.uint32(58).fork()).ldelim();if(e.docString!=null&&Object.hasOwnProperty.call(e,"docString")&&n.uint32(66).string(e.docString),e.opsetImport!=null&&e.opsetImport.length)for(o=0;o<e.opsetImport.length;++o)c.onnx.OperatorSetIdProto.encode(e.opsetImport[o],n.uint32(74).fork()).ldelim();if(e.domain!=null&&Object.hasOwnProperty.call(e,"domain")&&n.uint32(82).string(e.domain),e.attributeProto!=null&&e.attributeProto.length)for(o=0;o<e.attributeProto.length;++o)c.onnx.AttributeProto.encode(e.attributeProto[o],n.uint32(90).fork()).ldelim();return n},r.encodeDelimited=function(e,n){return this.encode(e,n).ldelim()},r.decode=function(e,n){e instanceof g||(e=g.create(e));for(var o=n===void 0?e.len:e.pos+n,m=new c.onnx.FunctionProto;e.pos<o;){var _=e.uint32();switch(_>>>3){case 1:m.name=e.string();break;case 4:m.input&&m.input.length||(m.input=[]),m.input.push(e.string());break;case 5:m.output&&m.output.length||(m.output=[]),m.output.push(e.string());break;case 6:m.attribute&&m.attribute.length||(m.attribute=[]),m.attribute.push(e.string());break;case 11:m.attributeProto&&m.attributeProto.length||(m.attributeProto=[]),m.attributeProto.push(c.onnx.AttributeProto.decode(e,e.uint32()));break;case 7:m.node&&m.node.length||(m.node=[]),m.node.push(c.onnx.NodeProto.decode(e,e.uint32()));break;case 8:m.docString=e.string();break;case 9:m.opsetImport&&m.opsetImport.length||(m.opsetImport=[]),m.opsetImport.push(c.onnx.OperatorSetIdProto.decode(e,e.uint32()));break;case 10:m.domain=e.string();break;default:e.skipType(7&_)}}return m},r.decodeDelimited=function(e){return e instanceof g||(e=new g(e)),this.decode(e,e.uint32())},r.verify=function(e){if(typeof e!="object"||e===null)return"object expected";if(e.name!=null&&e.hasOwnProperty("name")&&!f.isString(e.name))return"name: string expected";if(e.input!=null&&e.hasOwnProperty("input")){if(!Array.isArray(e.input))return"input: array expected";for(var n=0;n<e.input.length;++n)if(!f.isString(e.input[n]))return"input: string[] expected"}if(e.output!=null&&e.hasOwnProperty("output")){if(!Array.isArray(e.output))return"output: array expected";for(n=0;n<e.output.length;++n)if(!f.isString(e.output[n]))return"output: string[] expected"}if(e.attribute!=null&&e.hasOwnProperty("attribute")){if(!Array.isArray(e.attribute))return"attribute: array expected";for(n=0;n<e.attribute.length;++n)if(!f.isString(e.attribute[n]))return"attribute: string[] expected"}if(e.attributeProto!=null&&e.hasOwnProperty("attributeProto")){if(!Array.isArray(e.attributeProto))return"attributeProto: array expected";for(n=0;n<e.attributeProto.length;++n)if(o=c.onnx.AttributeProto.verify(e.attributeProto[n]))return"attributeProto."+o}if(e.node!=null&&e.hasOwnProperty("node")){if(!Array.isArray(e.node))return"node: array expected";for(n=0;n<e.node.length;++n)if(o=c.onnx.NodeProto.verify(e.node[n]))return"node."+o}if(e.docString!=null&&e.hasOwnProperty("docString")&&!f.isString(e.docString))return"docString: string expected";if(e.opsetImport!=null&&e.hasOwnProperty("opsetImport")){if(!Array.isArray(e.opsetImport))return"opsetImport: array expected";for(n=0;n<e.opsetImport.length;++n){var o;if(o=c.onnx.OperatorSetIdProto.verify(e.opsetImport[n]))return"opsetImport."+o}}return e.domain!=null&&e.hasOwnProperty("domain")&&!f.isString(e.domain)?"domain: string expected":null},r.fromObject=function(e){if(e instanceof c.onnx.FunctionProto)return e;var n=new c.onnx.FunctionProto;if(e.name!=null&&(n.name=String(e.name)),e.input){if(!Array.isArray(e.input))throw TypeError(".onnx.FunctionProto.input: array expected");n.input=[];for(var o=0;o<e.input.length;++o)n.input[o]=String(e.input[o])}if(e.output){if(!Array.isArray(e.output))throw TypeError(".onnx.FunctionProto.output: array expected");for(n.output=[],o=0;o<e.output.length;++o)n.output[o]=String(e.output[o])}if(e.attribute){if(!Array.isArray(e.attribute))throw TypeError(".onnx.FunctionProto.attribute: array expected");for(n.attribute=[],o=0;o<e.attribute.length;++o)n.attribute[o]=String(e.attribute[o])}if(e.attributeProto){if(!Array.isArray(e.attributeProto))throw TypeError(".onnx.FunctionProto.attributeProto: array expected");for(n.attributeProto=[],o=0;o<e.attributeProto.length;++o){if(typeof e.attributeProto[o]!="object")throw TypeError(".onnx.FunctionProto.attributeProto: object expected");n.attributeProto[o]=c.onnx.AttributeProto.fromObject(e.attributeProto[o])}}if(e.node){if(!Array.isArray(e.node))throw TypeError(".onnx.FunctionProto.node: array expected");for(n.node=[],o=0;o<e.node.length;++o){if(typeof e.node[o]!="object")throw TypeError(".onnx.FunctionProto.node: object expected");n.node[o]=c.onnx.NodeProto.fromObject(e.node[o])}}if(e.docString!=null&&(n.docString=String(e.docString)),e.opsetImport){if(!Array.isArray(e.opsetImport))throw TypeError(".onnx.FunctionProto.opsetImport: array expected");for(n.opsetImport=[],o=0;o<e.opsetImport.length;++o){if(typeof e.opsetImport[o]!="object")throw TypeError(".onnx.FunctionProto.opsetImport: object expected");n.opsetImport[o]=c.onnx.OperatorSetIdProto.fromObject(e.opsetImport[o])}}return e.domain!=null&&(n.domain=String(e.domain)),n},r.toObject=function(e,n){n||(n={});var o={};if((n.arrays||n.defaults)&&(o.input=[],o.output=[],o.attribute=[],o.node=[],o.opsetImport=[],o.attributeProto=[]),n.defaults&&(o.name="",o.docString="",o.domain=""),e.name!=null&&e.hasOwnProperty("name")&&(o.name=e.name),e.input&&e.input.length){o.input=[];for(var m=0;m<e.input.length;++m)o.input[m]=e.input[m]}if(e.output&&e.output.length)for(o.output=[],m=0;m<e.output.length;++m)o.output[m]=e.output[m];if(e.attribute&&e.attribute.length)for(o.attribute=[],m=0;m<e.attribute.length;++m)o.attribute[m]=e.attribute[m];if(e.node&&e.node.length)for(o.node=[],m=0;m<e.node.length;++m)o.node[m]=c.onnx.NodeProto.toObject(e.node[m],n);if(e.docString!=null&&e.hasOwnProperty("docString")&&(o.docString=e.docString),e.opsetImport&&e.opsetImport.length)for(o.opsetImport=[],m=0;m<e.opsetImport.length;++m)o.opsetImport[m]=c.onnx.OperatorSetIdProto.toObject(e.opsetImport[m],n);if(e.domain!=null&&e.hasOwnProperty("domain")&&(o.domain=e.domain),e.attributeProto&&e.attributeProto.length)for(o.attributeProto=[],m=0;m<e.attributeProto.length;++m)o.attributeProto[m]=c.onnx.AttributeProto.toObject(e.attributeProto[m],n);return o},r.prototype.toJSON=function(){return this.constructor.toObject(this,y.util.toJSONOptions)},r.getTypeUrl=function(e){return e===void 0&&(e="type.googleapis.com"),e+"/onnx.FunctionProto"},r}(),d),i.exports=c},3474:(i,t,s)=>{var u,l=(u=typeof document<"u"&&document.currentScript?document.currentScript.src:void 0,typeof __filename<"u"&&(u=u||__filename),function(d={}){function y(){return le.buffer!=Pe.buffer&&it(),Pe}function g(){return le.buffer!=Pe.buffer&&it(),Le}function v(){return le.buffer!=Pe.buffer&&it(),Be}function f(){return le.buffer!=Pe.buffer&&it(),Me}function c(){return le.buffer!=Pe.buffer&&it(),je}var r,e,n=d;n.ready=new Promise((k,B)=>{r=k,e=B});var o,m,_,x=Object.assign({},n),w="./this.program",S=(k,B)=>{throw B},O=typeof window=="object",A=typeof importScripts=="function",I=typeof process=="object"&&typeof process.versions=="object"&&typeof process.versions.node=="string",P=n.ENVIRONMENT_IS_PTHREAD||!1,L="";function U(k){return n.locateFile?n.locateFile(k,L):L+k}if(I){var G=s(1384),te=s(908);let k;L=A?te.dirname(L)+"/":__dirname+"/",o=(B,q)=>(B=B.startsWith("file://")?new URL(B):te.normalize(B),G.readFileSync(B,q?void 0:"utf8")),_=B=>((B=o(B,!0)).buffer||(B=new Uint8Array(B)),B),m=(B,q,ne,ue=!0)=>{B=B.startsWith("file://")?new URL(B):te.normalize(B),G.readFile(B,ue?void 0:"utf8",(Ae,Fe)=>{Ae?ne(Ae):q(ue?Fe.buffer:Fe)})},!n.thisProgram&&1<process.argv.length&&(w=process.argv[1].replace(/\\/g,"/")),process.argv.slice(2),S=(B,q)=>{throw process.exitCode=B,q},n.inspect=()=>"[Emscripten Module object]";try{k=s(9925)}catch(B){throw console.error('The "worker_threads" module is not supported in this node.js build - perhaps a newer version is needed?'),B}commonjsGlobal.Worker=k.Worker}else(O||A)&&(A?L=self.location.href:typeof document<"u"&&document.currentScript&&(L=document.currentScript.src),u&&(L=u),L=L.indexOf("blob:")!==0?L.substr(0,L.replace(/[?#].*/,"").lastIndexOf("/")+1):"",I||(o=k=>{var B=new XMLHttpRequest;return B.open("GET",k,!1),B.send(null),B.responseText},A&&(_=k=>{var B=new XMLHttpRequest;return B.open("GET",k,!1),B.responseType="arraybuffer",B.send(null),new Uint8Array(B.response)}),m=(k,B,q)=>{var ne=new XMLHttpRequest;ne.open("GET",k,!0),ne.responseType="arraybuffer",ne.onload=()=>{ne.status==200||ne.status==0&&ne.response?B(ne.response):q()},ne.onerror=q,ne.send(null)}));I&&typeof performance>"u"&&(commonjsGlobal.performance=s(6953).performance);var Y=console.log.bind(console),F=console.error.bind(console);I&&(Y=(...k)=>G.writeSync(1,k.join(" ")+`
`),F=(...k)=>G.writeSync(2,k.join(" ")+`
`));var re,R=n.print||Y,M=n.printErr||F;Object.assign(n,x),x=null,n.thisProgram&&(w=n.thisProgram),n.quit&&(S=n.quit),n.wasmBinary&&(re=n.wasmBinary);var H=n.noExitRuntime||!0;typeof WebAssembly!="object"&&Oe("no native wasm support detected");var le,he,Ce,we,Pe,Le,Be,Me,je,Je=!1;function it(){var k=le.buffer;n.HEAP8=Pe=new Int8Array(k),n.HEAP16=new Int16Array(k),n.HEAP32=Be=new Int32Array(k),n.HEAPU8=Le=new Uint8Array(k),n.HEAPU16=new Uint16Array(k),n.HEAPU32=Me=new Uint32Array(k),n.HEAPF32=new Float32Array(k),n.HEAPF64=je=new Float64Array(k)}var lt=n.INITIAL_MEMORY||16777216;if(5242880<=lt||Oe("INITIAL_MEMORY should be larger than STACK_SIZE, was "+lt+"! (STACK_SIZE=5242880)"),P)le=n.wasmMemory;else if(n.wasmMemory)le=n.wasmMemory;else if(!((le=new WebAssembly.Memory({initial:lt/65536,maximum:65536,shared:!0})).buffer instanceof SharedArrayBuffer))throw M("requested a shared WebAssembly.Memory but the returned buffer is not a SharedArrayBuffer, indicating that while the browser has SharedArrayBuffer it does not have WebAssembly threads support - you may need to set a flag"),I&&M("(on node you may need: --experimental-wasm-threads --experimental-wasm-bulk-memory and/or recent version)"),Error("bad memory");it(),lt=le.buffer.byteLength;var Dt,ve=[],$=[],V=[],W=0;function Q(){return H||0<W}var ie,ae,xe=0,be=null;function Te(){xe++,n.monitorRunDependencies&&n.monitorRunDependencies(xe)}function pe(){if(xe--,n.monitorRunDependencies&&n.monitorRunDependencies(xe),xe==0&&be){var k=be;be=null,k()}}function Oe(k){throw n.onAbort&&n.onAbort(k),M(k="Aborted("+k+")"),Je=!0,we=1,k=new WebAssembly.RuntimeError(k+". Build with -sASSERTIONS for more info."),e(k),k}function Ee(k){return k.startsWith("data:application/octet-stream;base64,")}function ke(k){if(k==ie&&re)return new Uint8Array(re);if(_)return _(k);throw"both async and sync fetching of the wasm failed"}function Ne(k,B,q){return function(ne){if(!re&&(O||A)){if(typeof fetch=="function"&&!ne.startsWith("file://"))return fetch(ne,{credentials:"same-origin"}).then(ue=>{if(!ue.ok)throw"failed to load wasm binary file at '"+ne+"'";return ue.arrayBuffer()}).catch(()=>ke(ne));if(m)return new Promise((ue,Ae)=>{m(ne,Fe=>ue(new Uint8Array(Fe)),Ae)})}return Promise.resolve().then(()=>ke(ne))}(k).then(ne=>WebAssembly.instantiate(ne,B)).then(ne=>ne).then(q,ne=>{M("failed to asynchronously prepare wasm: "+ne),Oe(ne)})}function Ze(k){this.name="ExitStatus",this.message=`Program terminated with exit(${k})`,this.status=k}function Ke(k){k.terminate(),k.onmessage=()=>{}}function Ye(k){(k=Re.Fa[k])||Oe(),Re.fb(k)}function ut(k){var B=Re.Za();if(!B)return 6;Re.Ia.push(B),Re.Fa[k.Ha]=B,B.Ha=k.Ha;var q={cmd:"run",start_routine:k.gb,arg:k.Ya,pthread_ptr:k.Ha};return I&&B.unref(),B.postMessage(q,k.mb),0}Ee(ie="ort-wasm-threaded.wasm")||(ie=U(ie));var At=typeof TextDecoder<"u"?new TextDecoder("utf8"):void 0,Vt=(k,B,q)=>{var ne=(B>>>=0)+q;for(q=B;k[q]&&!(q>=ne);)++q;if(16<q-B&&k.buffer&&At)return At.decode(k.buffer instanceof SharedArrayBuffer?k.slice(B,q):k.subarray(B,q));for(ne="";B<q;){var ue=k[B++];if(128&ue){var Ae=63&k[B++];if((224&ue)==192)ne+=String.fromCharCode((31&ue)<<6|Ae);else{var Fe=63&k[B++];65536>(ue=(240&ue)==224?(15&ue)<<12|Ae<<6|Fe:(7&ue)<<18|Ae<<12|Fe<<6|63&k[B++])?ne+=String.fromCharCode(ue):(ue-=65536,ne+=String.fromCharCode(55296|ue>>10,56320|1023&ue))}}else ne+=String.fromCharCode(ue)}return ne},jt=(k,B)=>(k>>>=0)?Vt(g(),k,B):"";function Ut(k){if(P)return ht(1,1,k);we=k,Q()||(Re.hb(),n.onExit&&n.onExit(k),Je=!0),S(k,new Ze(k))}var Xt=k=>{if(we=k,P)throw on(k),"unwind";Ut(k)},Re={La:[],Ia:[],Ta:[],Fa:{},Pa:function(){P?Re.ab():Re.$a()},$a:function(){ve.unshift(()=>{Te(),Re.bb(()=>pe())})},ab:function(){Re.receiveObjectTransfer=Re.eb,Re.threadInitTLS=Re.Sa,Re.setExitStatus=Re.Ra,H=!1},Ra:function(k){we=k},rb:["$terminateWorker"],hb:function(){for(var k of Re.Ia)Ke(k);for(k of Re.La)Ke(k);Re.La=[],Re.Ia=[],Re.Fa=[]},fb:function(k){var B=k.Ha;delete Re.Fa[B],Re.La.push(k),Re.Ia.splice(Re.Ia.indexOf(k),1),k.Ha=0,ur(B)},eb:function(){},Sa:function(){Re.Ta.forEach(k=>k())},cb:k=>new Promise(B=>{k.onmessage=ue=>{var Ae=(ue=ue.data).cmd;if(ue.targetThread&&ue.targetThread!=qn()){var Fe=Re.Fa[ue.qb];Fe?Fe.postMessage(ue,ue.transferList):M('Internal error! Worker sent a message "'+Ae+'" to target pthread '+ue.targetThread+", but that thread no longer exists!")}else Ae==="checkMailbox"?ar():Ae==="spawnThread"?ut(ue):Ae==="cleanupThread"?Ye(ue.thread):Ae==="killThread"?(ue=ue.thread,Ae=Re.Fa[ue],delete Re.Fa[ue],Ke(Ae),ur(ue),Re.Ia.splice(Re.Ia.indexOf(Ae),1),Ae.Ha=0):Ae==="cancelThread"?Re.Fa[ue.thread].postMessage({cmd:"cancel"}):Ae==="loaded"?(k.loaded=!0,B(k)):Ae==="alert"?alert("Thread "+ue.threadId+": "+ue.text):ue.target==="setimmediate"?k.postMessage(ue):Ae==="callHandler"?n[ue.handler](...ue.args):Ae&&M("worker sent an unknown command "+Ae)},k.onerror=ue=>{throw M("worker sent an error! "+ue.filename+":"+ue.lineno+": "+ue.message),ue},I&&(k.on("message",function(ue){k.onmessage({data:ue})}),k.on("error",function(ue){k.onerror(ue)}));var q,ne=[];for(q of["onExit","onAbort","print","printErr"])n.hasOwnProperty(q)&&ne.push(q);k.postMessage({cmd:"load",handlers:ne,urlOrBlob:n.mainScriptUrlOrBlob||u,wasmMemory:le,wasmModule:Ce})}),bb:function(k){k()},Xa:function(){var k=U("ort-wasm-threaded.worker.js");k=new Worker(k),Re.La.push(k)},Za:function(){return Re.La.length==0&&(Re.Xa(),Re.cb(Re.La[0])),Re.La.pop()}};n.PThread=Re;var xt=k=>{for(;0<k.length;)k.shift()(n)};function on(k){if(P)return ht(2,0,k);Xt(k)}n.establishStackSpace=function(){var k=qn(),B=v()[k+52>>2>>>0];k=v()[k+56>>2>>>0],cr(B,B-k),gn(B)};var j=[];function ee(k){this.Oa=k-24,this.Wa=function(B){f()[this.Oa+4>>2>>>0]=B},this.Va=function(B){f()[this.Oa+8>>2>>>0]=B},this.Pa=function(B,q){this.Ua(),this.Wa(B),this.Va(q)},this.Ua=function(){f()[this.Oa+16>>2>>>0]=0}}function oe(k,B,q,ne){return P?ht(3,1,k,B,q,ne):ge(k,B,q,ne)}function ge(k,B,q,ne){if(k>>>=0,B>>>=0,q>>>=0,ne>>>=0,typeof SharedArrayBuffer>"u")return M("Current environment does not support SharedArrayBuffer, pthreads are not available!"),6;var ue=[];return P&&ue.length===0?oe(k,B,q,ne):(k={gb:q,Ha:k,Ya:ne,mb:ue},P?(k.ob="spawnThread",postMessage(k,ue),0):ut(k))}function Se(k,B,q){return P?ht(4,1,k,B,q):0}function Ve(k,B){if(P)return ht(5,1,k,B)}n.invokeEntryPoint=function(k,B){var q=j[k];q||(k>=j.length&&(j.length=k+1),j[k]=q=Dt.get(k)),k=q(B),Q()?Re.Ra(k):Yn(k)};var He=k=>{for(var B=0,q=0;q<k.length;++q){var ne=k.charCodeAt(q);127>=ne?B++:2047>=ne?B+=2:55296<=ne&&57343>=ne?(B+=4,++q):B+=3}return B},Tt=(k,B,q,ne)=>{if(!(0<ne))return 0;var ue=q>>>=0;ne=q+ne-1;for(var Ae=0;Ae<k.length;++Ae){var Fe=k.charCodeAt(Ae);if(55296<=Fe&&57343>=Fe&&(Fe=65536+((1023&Fe)<<10)|1023&k.charCodeAt(++Ae)),127>=Fe){if(q>=ne)break;B[q++>>>0]=Fe}else{if(2047>=Fe){if(q+1>=ne)break;B[q++>>>0]=192|Fe>>6}else{if(65535>=Fe){if(q+2>=ne)break;B[q++>>>0]=224|Fe>>12}else{if(q+3>=ne)break;B[q++>>>0]=240|Fe>>18,B[q++>>>0]=128|Fe>>12&63}B[q++>>>0]=128|Fe>>6&63}B[q++>>>0]=128|63&Fe}}return B[q>>>0]=0,q-ue},Et=(k,B,q)=>Tt(k,g(),B,q);function It(k,B){if(P)return ht(6,1,k,B)}function Pt(k,B,q){if(P)return ht(7,1,k,B,q)}function Zn(k,B,q){return P?ht(8,1,k,B,q):0}function Hn(k,B){if(P)return ht(9,1,k,B)}function ce(k,B,q){if(P)return ht(10,1,k,B,q)}function nt(k,B,q,ne){if(P)return ht(11,1,k,B,q,ne)}function ft(k,B,q,ne){if(P)return ht(12,1,k,B,q,ne)}function sn(k,B,q,ne){if(P)return ht(13,1,k,B,q,ne)}function Wn(k){if(P)return ht(14,1,k)}function Qr(k,B){if(P)return ht(15,1,k,B)}function eo(k,B,q){if(P)return ht(16,1,k,B,q)}var ni=k=>{if(!Je)try{if(k(),!Q())try{P?Yn(we):Xt(we)}catch(B){B instanceof Ze||B=="unwind"||S(1,B)}}catch(B){B instanceof Ze||B=="unwind"||S(1,B)}};function Or(k){k>>>=0,typeof Atomics.nb=="function"&&(Atomics.nb(v(),k>>2,k).value.then(ar),k+=128,Atomics.store(v(),k>>2,1))}function ar(){var k=qn();k&&(Or(k),ni(()=>po()))}n.__emscripten_thread_mailbox_await=Or,n.checkMailbox=ar;var Dn=k=>k%4==0&&(k%100!=0||k%400==0),Ar=[0,31,60,91,121,152,182,213,244,274,305,335],to=[0,31,59,90,120,151,181,212,243,273,304,334];function no(k,B,q,ne,ue,Ae,Fe,bt){return P?ht(17,1,k,B,q,ne,ue,Ae,Fe,bt):-52}function ro(k,B,q,ne,ue,Ae,Fe){if(P)return ht(18,1,k,B,q,ne,ue,Ae,Fe)}var oo=k=>{var B=He(k)+1,q=Kn(B);return q&&Et(k,q,B),q},ri=k=>{var B=Xn();return k=k(),gn(B),k};function ht(k,B){var q=arguments.length-2,ne=arguments;return ri(()=>{for(var ue=dr(8*q),Ae=ue>>3,Fe=0;Fe<q;Fe++){var bt=ne[2+Fe];c()[Ae+Fe>>>0]=bt}return Lr(k,q,ue,B)})}var $n,Er=[],Ln={},io=()=>{if(!$n){var k,B={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:(typeof navigator=="object"&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",_:w||"./this.program"};for(k in Ln)Ln[k]===void 0?delete B[k]:B[k]=Ln[k];var q=[];for(k in B)q.push(`${k}=${B[k]}`);$n=q}return $n};function so(k,B){if(P)return ht(19,1,k,B);k>>>=0,B>>>=0;var q=0;return io().forEach(function(ne,ue){var Ae=B+q;for(ue=f()[k+4*ue>>2>>>0]=Ae,Ae=0;Ae<ne.length;++Ae)y()[ue++>>0>>>0]=ne.charCodeAt(Ae);y()[ue>>0>>>0]=0,q+=ne.length+1}),0}function ao(k,B){if(P)return ht(20,1,k,B);k>>>=0,B>>>=0;var q=io();f()[k>>2>>>0]=q.length;var ne=0;return q.forEach(function(ue){ne+=ue.length+1}),f()[B>>2>>>0]=ne,0}function Ir(k){return P?ht(21,1,k):52}function Pr(k,B,q,ne){return P?ht(22,1,k,B,q,ne):52}function Cr(k,B,q,ne,ue){return P?ht(23,1,k,B,q,ne,ue):70}var oi=[null,[],[]];function lo(k,B,q,ne){if(P)return ht(24,1,k,B,q,ne);B>>>=0,q>>>=0,ne>>>=0;for(var ue=0,Ae=0;Ae<q;Ae++){var Fe=f()[B>>2>>>0],bt=f()[B+4>>2>>>0];B+=8;for(var Gt=0;Gt<bt;Gt++){var Ct=g()[Fe+Gt>>>0],Ft=oi[k];Ct===0||Ct===10?((k===1?R:M)(Vt(Ft,0)),Ft.length=0):Ft.push(Ct)}ue+=bt}return f()[ne>>2>>>0]=ue,0}var uo=k=>(uo=(()=>{if(typeof crypto=="object"&&typeof crypto.getRandomValues=="function")return ne=>(ne.set(crypto.getRandomValues(new Uint8Array(ne.byteLength))),ne);if(I)try{var B=s(760);if(B.randomFillSync)return ne=>B.randomFillSync(ne);var q=B.randomBytes;return ne=>(ne.set(q(ne.byteLength)),ne)}catch{}Oe("initRandomDevice")})())(k),co=[31,29,31,30,31,30,31,31,30,31,30,31],kr=[31,28,31,30,31,30,31,31,30,31,30,31],fo=(k,B)=>{y().set(k,B>>>0)};function Rr(k,B,q,ne){function ue(de,st,vt){for(de=typeof de=="number"?de.toString():de||"";de.length<st;)de=vt[0]+de;return de}function Ae(de,st){return ue(de,st,"0")}function Fe(de,st){function vt(mo){return 0>mo?-1:0<mo?1:0}var wn;return(wn=vt(de.getFullYear()-st.getFullYear()))===0&&(wn=vt(de.getMonth()-st.getMonth()))===0&&(wn=vt(de.getDate()-st.getDate())),wn}function bt(de){switch(de.getDay()){case 0:return new Date(de.getFullYear()-1,11,29);case 1:return de;case 2:return new Date(de.getFullYear(),0,3);case 3:return new Date(de.getFullYear(),0,2);case 4:return new Date(de.getFullYear(),0,1);case 5:return new Date(de.getFullYear()-1,11,31);case 6:return new Date(de.getFullYear()-1,11,30)}}function Gt(de){var st=de.Ja;for(de=new Date(new Date(de.Ka+1900,0,1).getTime());0<st;){var vt=de.getMonth(),wn=(Dn(de.getFullYear())?co:kr)[vt];if(!(st>wn-de.getDate())){de.setDate(de.getDate()+st);break}st-=wn-de.getDate()+1,de.setDate(1),11>vt?de.setMonth(vt+1):(de.setMonth(0),de.setFullYear(de.getFullYear()+1))}return vt=new Date(de.getFullYear()+1,0,4),st=bt(new Date(de.getFullYear(),0,4)),vt=bt(vt),0>=Fe(st,de)?0>=Fe(vt,de)?de.getFullYear()+1:de.getFullYear():de.getFullYear()-1}k>>>=0,B>>>=0,q>>>=0,ne>>>=0;var Ct=v()[ne+40>>2>>>0];for(var Ft in ne={kb:v()[ne>>2>>>0],jb:v()[ne+4>>2>>>0],Ma:v()[ne+8>>2>>>0],Qa:v()[ne+12>>2>>>0],Na:v()[ne+16>>2>>>0],Ka:v()[ne+20>>2>>>0],Ga:v()[ne+24>>2>>>0],Ja:v()[ne+28>>2>>>0],sb:v()[ne+32>>2>>>0],ib:v()[ne+36>>2>>>0],lb:Ct?jt(Ct):""},q=jt(q),Ct={"%c":"%a %b %d %H:%M:%S %Y","%D":"%m/%d/%y","%F":"%Y-%m-%d","%h":"%b","%r":"%I:%M:%S %p","%R":"%H:%M","%T":"%H:%M:%S","%x":"%m/%d/%y","%X":"%H:%M:%S","%Ec":"%c","%EC":"%C","%Ex":"%m/%d/%y","%EX":"%H:%M:%S","%Ey":"%y","%EY":"%Y","%Od":"%d","%Oe":"%e","%OH":"%H","%OI":"%I","%Om":"%m","%OM":"%M","%OS":"%S","%Ou":"%u","%OU":"%U","%OV":"%V","%Ow":"%w","%OW":"%W","%Oy":"%y"})q=q.replace(new RegExp(Ft,"g"),Ct[Ft]);var ho="Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),go="January February March April May June July August September October November December".split(" ");for(Ft in Ct={"%a":de=>ho[de.Ga].substring(0,3),"%A":de=>ho[de.Ga],"%b":de=>go[de.Na].substring(0,3),"%B":de=>go[de.Na],"%C":de=>Ae((de.Ka+1900)/100|0,2),"%d":de=>Ae(de.Qa,2),"%e":de=>ue(de.Qa,2," "),"%g":de=>Gt(de).toString().substring(2),"%G":de=>Gt(de),"%H":de=>Ae(de.Ma,2),"%I":de=>((de=de.Ma)==0?de=12:12<de&&(de-=12),Ae(de,2)),"%j":de=>{for(var st=0,vt=0;vt<=de.Na-1;st+=(Dn(de.Ka+1900)?co:kr)[vt++]);return Ae(de.Qa+st,3)},"%m":de=>Ae(de.Na+1,2),"%M":de=>Ae(de.jb,2),"%n":()=>`
`,"%p":de=>0<=de.Ma&&12>de.Ma?"AM":"PM","%S":de=>Ae(de.kb,2),"%t":()=>"	","%u":de=>de.Ga||7,"%U":de=>Ae(Math.floor((de.Ja+7-de.Ga)/7),2),"%V":de=>{var st=Math.floor((de.Ja+7-(de.Ga+6)%7)/7);if(2>=(de.Ga+371-de.Ja-2)%7&&st++,st)st==53&&((vt=(de.Ga+371-de.Ja)%7)==4||vt==3&&Dn(de.Ka)||(st=1));else{st=52;var vt=(de.Ga+7-de.Ja-1)%7;(vt==4||vt==5&&Dn(de.Ka%400-1))&&st++}return Ae(st,2)},"%w":de=>de.Ga,"%W":de=>Ae(Math.floor((de.Ja+7-(de.Ga+6)%7)/7),2),"%y":de=>(de.Ka+1900).toString().substring(2),"%Y":de=>de.Ka+1900,"%z":de=>{var st=0<=(de=de.ib);return de=Math.abs(de)/60,(st?"+":"-")+("0000"+(de/60*100+de%60)).slice(-4)},"%Z":de=>de.lb,"%%":()=>"%"},q=q.replace(/%%/g,"\0\0"),Ct)q.includes(Ft)&&(q=q.replace(new RegExp(Ft,"g"),Ct[Ft](ne)));return Ft=function(de){var st=Array(He(de)+1);return Tt(de,st,0,st.length),st}(q=q.replace(/\0\0/g,"%")),Ft.length>B?0:(fo(Ft,k),Ft.length-1)}Re.Pa();var Dr=[null,Ut,on,oe,Se,Ve,It,Pt,Zn,Hn,ce,nt,ft,sn,Wn,Qr,eo,no,ro,so,ao,Ir,Pr,Cr,lo],ii={b:function(k,B,q){throw new ee(k>>>=0).Pa(B>>>0,q>>>0),k},N:function(k){$r(k>>>0,!A,1,!O,131072,!1),Re.Sa()},k:function(k){k>>>=0,P?postMessage({cmd:"cleanupThread",thread:k}):Ye(k)},I:ge,h:Se,T:Ve,E:It,G:Pt,U:Zn,R:Hn,J:ce,Q:nt,o:ft,F:sn,C:Wn,S:Qr,D:eo,q:()=>!0,A:function(k,B){(k>>>=0)==B>>>0?setTimeout(()=>ar()):P?postMessage({targetThread:k,cmd:"checkMailbox"}):(k=Re.Fa[k])&&k.postMessage({cmd:"checkMailbox"})},L:function(){return-1},M:Or,p:function(k){I&&Re.Fa[k>>>0].ref()},t:function(k,B,q){k=B+2097152>>>0<4194305-!!k?(k>>>0)+4294967296*B:NaN,q>>>=0,k=new Date(1e3*k),v()[q>>2>>>0]=k.getUTCSeconds(),v()[q+4>>2>>>0]=k.getUTCMinutes(),v()[q+8>>2>>>0]=k.getUTCHours(),v()[q+12>>2>>>0]=k.getUTCDate(),v()[q+16>>2>>>0]=k.getUTCMonth(),v()[q+20>>2>>>0]=k.getUTCFullYear()-1900,v()[q+24>>2>>>0]=k.getUTCDay(),k=(k.getTime()-Date.UTC(k.getUTCFullYear(),0,1,0,0,0,0))/864e5|0,v()[q+28>>2>>>0]=k},u:function(k,B,q){k=B+2097152>>>0<4194305-!!k?(k>>>0)+4294967296*B:NaN,q>>>=0,k=new Date(1e3*k),v()[q>>2>>>0]=k.getSeconds(),v()[q+4>>2>>>0]=k.getMinutes(),v()[q+8>>2>>>0]=k.getHours(),v()[q+12>>2>>>0]=k.getDate(),v()[q+16>>2>>>0]=k.getMonth(),v()[q+20>>2>>>0]=k.getFullYear()-1900,v()[q+24>>2>>>0]=k.getDay(),B=(Dn(k.getFullYear())?Ar:to)[k.getMonth()]+k.getDate()-1|0,v()[q+28>>2>>>0]=B,v()[q+36>>2>>>0]=-60*k.getTimezoneOffset(),B=new Date(k.getFullYear(),6,1).getTimezoneOffset();var ne=new Date(k.getFullYear(),0,1).getTimezoneOffset();k=0|(B!=ne&&k.getTimezoneOffset()==Math.min(ne,B)),v()[q+32>>2>>>0]=k},v:function(k){k>>>=0;var B=new Date(v()[k+20>>2>>>0]+1900,v()[k+16>>2>>>0],v()[k+12>>2>>>0],v()[k+8>>2>>>0],v()[k+4>>2>>>0],v()[k>>2>>>0],0),q=v()[k+32>>2>>>0],ne=B.getTimezoneOffset(),ue=new Date(B.getFullYear(),6,1).getTimezoneOffset(),Ae=new Date(B.getFullYear(),0,1).getTimezoneOffset(),Fe=Math.min(Ae,ue);return 0>q?v()[k+32>>2>>>0]=+(ue!=Ae&&Fe==ne):0<q!=(Fe==ne)&&(ue=Math.max(Ae,ue),B.setTime(B.getTime()+6e4*((0<q?Fe:ue)-ne))),v()[k+24>>2>>>0]=B.getDay(),q=(Dn(B.getFullYear())?Ar:to)[B.getMonth()]+B.getDate()-1|0,v()[k+28>>2>>>0]=q,v()[k>>2>>>0]=B.getSeconds(),v()[k+4>>2>>>0]=B.getMinutes(),v()[k+8>>2>>>0]=B.getHours(),v()[k+12>>2>>>0]=B.getDate(),v()[k+16>>2>>>0]=B.getMonth(),v()[k+20>>2>>>0]=B.getYear(),k=B.getTime()/1e3,Nr((ae=k,1<=+Math.abs(ae)?0<ae?+Math.floor(ae/4294967296)>>>0:~~+Math.ceil((ae-+(~~ae>>>0))/4294967296)>>>0:0)),k>>>0},r:no,s:ro,z:function(k,B,q){function ne(Ct){return(Ct=Ct.toTimeString().match(/\(([A-Za-z ]+)\)$/))?Ct[1]:"GMT"}k>>>=0,B>>>=0,q>>>=0;var ue=new Date().getFullYear(),Ae=new Date(ue,0,1),Fe=new Date(ue,6,1);ue=Ae.getTimezoneOffset();var bt=Fe.getTimezoneOffset(),Gt=Math.max(ue,bt);f()[k>>2>>>0]=60*Gt,v()[B>>2>>>0]=+(ue!=bt),k=ne(Ae),B=ne(Fe),k=oo(k),B=oo(B),bt<ue?(f()[q>>2>>>0]=k,f()[q+4>>2>>>0]=B):(f()[q>>2>>>0]=B,f()[q+4>>2>>>0]=k)},c:()=>{Oe("")},l:function(){},i:function(){return Date.now()},V:()=>{throw W+=1,"unwind"},B:function(){return 4294901760},e:()=>performance.timeOrigin+performance.now(),f:function(){return I?s(3993).cpus().length:navigator.hardwareConcurrency},K:function(k,B,q,ne){for(Re.pb=B>>>0,Er.length=q,B=ne>>>0>>3,ne=0;ne<q;ne++)Er[ne]=c()[B+ne>>>0];return Dr[k].apply(null,Er)},y:function(k){k>>>=0;var B=g().length;if(k<=B||4294901760<k)return!1;for(var q=1;4>=q;q*=2){var ne=B*(1+.2/q);ne=Math.min(ne,k+100663296);var ue=Math;ne=Math.max(k,ne);e:{ue=ue.min.call(ue,4294901760,ne+(65536-ne%65536)%65536)-le.buffer.byteLength+65535>>>16;try{le.grow(ue),it();var Ae=1;break e}catch{}Ae=void 0}if(Ae)return!0}return!1},O:so,P:ao,j:Xt,g:Ir,n:Pr,w:Cr,m:lo,x:function(k,B){return k>>>=0,B>>>=0,uo(g().subarray(k>>>0,k+B>>>0)),0},a:le||n.wasmMemory,H:Rr,d:function(k,B,q,ne){return Rr(k>>>0,B>>>0,q>>>0,ne>>>0)}};(function(){function k(q,ne){return q=q.exports,he=q=function(ue){var Ae=bt=>()=>bt()>>>0,Fe=bt=>Gt=>bt(Gt)>>>0;return(ue=Object.assign({},ue)).__errno_location=Ae(ue.__errno_location),ue.pthread_self=Ae(ue.pthread_self),ue.malloc=Fe(ue.malloc),ue.stackSave=Ae(ue.stackSave),ue.stackAlloc=Fe(ue.stackAlloc),ue}(q),Re.Ta.push(he.sa),Dt=he.ta,$.unshift(he.W),Ce=ne,pe(),q}var B={a:ii};if(Te(),n.instantiateWasm)try{return n.instantiateWasm(B,k)}catch(q){M("Module.instantiateWasm callback failed with error: "+q),e(q)}(function(q,ne){var ue=ie;return re||typeof WebAssembly.instantiateStreaming!="function"||Ee(ue)||ue.startsWith("file://")||I||typeof fetch!="function"?Ne(ue,q,ne):fetch(ue,{credentials:"same-origin"}).then(Ae=>WebAssembly.instantiateStreaming(Ae,q).then(ne,function(Fe){return M("wasm streaming compile failed: "+Fe),M("falling back to ArrayBuffer instantiation"),Ne(ue,q,ne)}))})(B,function(q){k(q.instance,q.module)}).catch(e)})(),n._OrtInit=(k,B)=>(n._OrtInit=he.X)(k,B),n._OrtGetLastError=(k,B)=>(n._OrtGetLastError=he.Y)(k,B),n._OrtCreateSessionOptions=(k,B,q,ne,ue,Ae,Fe,bt,Gt,Ct)=>(n._OrtCreateSessionOptions=he.Z)(k,B,q,ne,ue,Ae,Fe,bt,Gt,Ct),n._OrtAppendExecutionProvider=(k,B)=>(n._OrtAppendExecutionProvider=he._)(k,B),n._OrtAddSessionConfigEntry=(k,B,q)=>(n._OrtAddSessionConfigEntry=he.$)(k,B,q),n._OrtReleaseSessionOptions=k=>(n._OrtReleaseSessionOptions=he.aa)(k),n._OrtCreateSession=(k,B,q)=>(n._OrtCreateSession=he.ba)(k,B,q),n._OrtReleaseSession=k=>(n._OrtReleaseSession=he.ca)(k),n._OrtGetInputOutputCount=(k,B,q)=>(n._OrtGetInputOutputCount=he.da)(k,B,q),n._OrtGetInputName=(k,B)=>(n._OrtGetInputName=he.ea)(k,B),n._OrtGetOutputName=(k,B)=>(n._OrtGetOutputName=he.fa)(k,B),n._OrtFree=k=>(n._OrtFree=he.ga)(k),n._OrtCreateTensor=(k,B,q,ne,ue)=>(n._OrtCreateTensor=he.ha)(k,B,q,ne,ue),n._OrtGetTensorData=(k,B,q,ne,ue)=>(n._OrtGetTensorData=he.ia)(k,B,q,ne,ue),n._OrtReleaseTensor=k=>(n._OrtReleaseTensor=he.ja)(k),n._OrtCreateRunOptions=(k,B,q,ne)=>(n._OrtCreateRunOptions=he.ka)(k,B,q,ne),n._OrtAddRunConfigEntry=(k,B,q)=>(n._OrtAddRunConfigEntry=he.la)(k,B,q),n._OrtReleaseRunOptions=k=>(n._OrtReleaseRunOptions=he.ma)(k),n._OrtRun=(k,B,q,ne,ue,Ae,Fe,bt)=>(n._OrtRun=he.na)(k,B,q,ne,ue,Ae,Fe,bt),n._OrtEndProfiling=k=>(n._OrtEndProfiling=he.oa)(k);var qn=n._pthread_self=()=>(qn=n._pthread_self=he.pa)(),Kn=n._malloc=k=>(Kn=n._malloc=he.qa)(k);n._free=k=>(n._free=he.ra)(k),n.__emscripten_tls_init=()=>(n.__emscripten_tls_init=he.sa)();var $r=n.__emscripten_thread_init=(k,B,q,ne,ue,Ae)=>($r=n.__emscripten_thread_init=he.ua)(k,B,q,ne,ue,Ae);n.__emscripten_thread_crashed=()=>(n.__emscripten_thread_crashed=he.va)();var lr,Lr=(k,B,q,ne)=>(Lr=he.wa)(k,B,q,ne),ur=k=>(ur=he.xa)(k),Yn=n.__emscripten_thread_exit=k=>(Yn=n.__emscripten_thread_exit=he.ya)(k),po=n.__emscripten_check_mailbox=()=>(po=n.__emscripten_check_mailbox=he.za)(),Nr=k=>(Nr=he.Aa)(k),cr=(k,B)=>(cr=he.Ba)(k,B),Xn=()=>(Xn=he.Ca)(),gn=k=>(gn=he.Da)(k),dr=k=>(dr=he.Ea)(k);function Vr(){function k(){if(!lr&&(lr=!0,n.calledRun=!0,!Je)&&(P||xt($),r(n),n.onRuntimeInitialized&&n.onRuntimeInitialized(),!P)){if(n.postRun)for(typeof n.postRun=="function"&&(n.postRun=[n.postRun]);n.postRun.length;){var B=n.postRun.shift();V.unshift(B)}xt(V)}}if(!(0<xe))if(P)r(n),P||xt($),startWorker(n);else{if(n.preRun)for(typeof n.preRun=="function"&&(n.preRun=[n.preRun]);n.preRun.length;)ve.unshift(n.preRun.shift());xt(ve),0<xe||(n.setStatus?(n.setStatus("Running..."),setTimeout(function(){setTimeout(function(){n.setStatus("")},1),k()},1)):k())}}if(n.keepRuntimeAlive=Q,n.wasmMemory=le,n.stackAlloc=dr,n.stackSave=Xn,n.stackRestore=gn,n.UTF8ToString=jt,n.stringToUTF8=Et,n.lengthBytesUTF8=He,n.ExitStatus=Ze,n.PThread=Re,be=function k(){lr||Vr(),lr||(be=k)},n.preInit)for(typeof n.preInit=="function"&&(n.preInit=[n.preInit]);0<n.preInit.length;)n.preInit.pop()();return Vr(),d.ready});i.exports=l},932:(i,t,s)=>{var u,l=(u=typeof document<"u"&&document.currentScript?document.currentScript.src:void 0,typeof __filename<"u"&&(u=u||__filename),function(d={}){var y,g,v=d;v.ready=new Promise((j,ee)=>{y=j,g=ee});var f,c,r,e=Object.assign({},v),n="./this.program",o=(j,ee)=>{throw ee},m=typeof window=="object",_=typeof importScripts=="function",x=typeof process=="object"&&typeof process.versions=="object"&&typeof process.versions.node=="string",w="";if(x){var S=s(1384),O=s(908);w=_?O.dirname(w)+"/":__dirname+"/",f=(j,ee)=>(j=j.startsWith("file://")?new URL(j):O.normalize(j),S.readFileSync(j,ee?void 0:"utf8")),r=j=>((j=f(j,!0)).buffer||(j=new Uint8Array(j)),j),c=(j,ee,oe,ge=!0)=>{j=j.startsWith("file://")?new URL(j):O.normalize(j),S.readFile(j,ge?void 0:"utf8",(Se,Ve)=>{Se?oe(Se):ee(ge?Ve.buffer:Ve)})},!v.thisProgram&&1<process.argv.length&&(n=process.argv[1].replace(/\\/g,"/")),process.argv.slice(2),o=(j,ee)=>{throw process.exitCode=j,ee},v.inspect=()=>"[Emscripten Module object]"}else(m||_)&&(_?w=self.location.href:typeof document<"u"&&document.currentScript&&(w=document.currentScript.src),u&&(w=u),w=w.indexOf("blob:")!==0?w.substr(0,w.replace(/[?#].*/,"").lastIndexOf("/")+1):"",f=j=>{var ee=new XMLHttpRequest;return ee.open("GET",j,!1),ee.send(null),ee.responseText},_&&(r=j=>{var ee=new XMLHttpRequest;return ee.open("GET",j,!1),ee.responseType="arraybuffer",ee.send(null),new Uint8Array(ee.response)}),c=(j,ee,oe)=>{var ge=new XMLHttpRequest;ge.open("GET",j,!0),ge.responseType="arraybuffer",ge.onload=()=>{ge.status==200||ge.status==0&&ge.response?ee(ge.response):oe()},ge.onerror=oe,ge.send(null)});var A,I=v.print||console.log.bind(console),P=v.printErr||console.error.bind(console);Object.assign(v,e),e=null,v.thisProgram&&(n=v.thisProgram),v.quit&&(o=v.quit),v.wasmBinary&&(A=v.wasmBinary);var L=v.noExitRuntime||!0;typeof WebAssembly!="object"&&Me("no native wasm support detected");var U,G,te,Y,F,re,R=!1;function M(){var j=U.buffer;v.HEAP8=te=new Int8Array(j),v.HEAP16=new Int16Array(j),v.HEAP32=F=new Int32Array(j),v.HEAPU8=Y=new Uint8Array(j),v.HEAPU16=new Uint16Array(j),v.HEAPU32=re=new Uint32Array(j),v.HEAPF32=new Float32Array(j),v.HEAPF64=new Float64Array(j)}var H=[],le=[],he=[];function Ce(){var j=v.preRun.shift();H.unshift(j)}var we,Pe,Le=0,Be=null;function Me(j){throw v.onAbort&&v.onAbort(j),P(j="Aborted("+j+")"),R=!0,j=new WebAssembly.RuntimeError(j+". Build with -sASSERTIONS for more info."),g(j),j}function je(j){return j.startsWith("data:application/octet-stream;base64,")}if(!je(we="ort-wasm.wasm")){var Je=we;we=v.locateFile?v.locateFile(Je,w):w+Je}function it(j){if(j==we&&A)return new Uint8Array(A);if(r)return r(j);throw"both async and sync fetching of the wasm failed"}function lt(j,ee,oe){return function(ge){if(!A&&(m||_)){if(typeof fetch=="function"&&!ge.startsWith("file://"))return fetch(ge,{credentials:"same-origin"}).then(Se=>{if(!Se.ok)throw"failed to load wasm binary file at '"+ge+"'";return Se.arrayBuffer()}).catch(()=>it(ge));if(c)return new Promise((Se,Ve)=>{c(ge,He=>Se(new Uint8Array(He)),Ve)})}return Promise.resolve().then(()=>it(ge))}(j).then(ge=>WebAssembly.instantiate(ge,ee)).then(ge=>ge).then(oe,ge=>{P("failed to asynchronously prepare wasm: "+ge),Me(ge)})}function Dt(j){this.name="ExitStatus",this.message=`Program terminated with exit(${j})`,this.status=j}var ve=j=>{for(;0<j.length;)j.shift()(v)};function $(j){this.qa=j-24,this.va=function(ee){re[this.qa+4>>2>>>0]=ee},this.ua=function(ee){re[this.qa+8>>2>>>0]=ee},this.sa=function(ee,oe){this.ta(),this.va(ee),this.ua(oe)},this.ta=function(){re[this.qa+16>>2>>>0]=0}}var V,W=typeof TextDecoder<"u"?new TextDecoder("utf8"):void 0,Q=(j,ee,oe)=>{var ge=(ee>>>=0)+oe;for(oe=ee;j[oe]&&!(oe>=ge);)++oe;if(16<oe-ee&&j.buffer&&W)return W.decode(j.subarray(ee,oe));for(ge="";ee<oe;){var Se=j[ee++];if(128&Se){var Ve=63&j[ee++];if((224&Se)==192)ge+=String.fromCharCode((31&Se)<<6|Ve);else{var He=63&j[ee++];65536>(Se=(240&Se)==224?(15&Se)<<12|Ve<<6|He:(7&Se)<<18|Ve<<12|He<<6|63&j[ee++])?ge+=String.fromCharCode(Se):(Se-=65536,ge+=String.fromCharCode(55296|Se>>10,56320|1023&Se))}}else ge+=String.fromCharCode(Se)}return ge},ie=(j,ee)=>(j>>>=0)?Q(Y,j,ee):"",ae=j=>{for(var ee=0,oe=0;oe<j.length;++oe){var ge=j.charCodeAt(oe);127>=ge?ee++:2047>=ge?ee+=2:55296<=ge&&57343>=ge?(ee+=4,++oe):ee+=3}return ee},xe=(j,ee,oe,ge)=>{if(!(0<ge))return 0;var Se=oe>>>=0;ge=oe+ge-1;for(var Ve=0;Ve<j.length;++Ve){var He=j.charCodeAt(Ve);if(55296<=He&&57343>=He&&(He=65536+((1023&He)<<10)|1023&j.charCodeAt(++Ve)),127>=He){if(oe>=ge)break;ee[oe++>>>0]=He}else{if(2047>=He){if(oe+1>=ge)break;ee[oe++>>>0]=192|He>>6}else{if(65535>=He){if(oe+2>=ge)break;ee[oe++>>>0]=224|He>>12}else{if(oe+3>=ge)break;ee[oe++>>>0]=240|He>>18,ee[oe++>>>0]=128|He>>12&63}ee[oe++>>>0]=128|He>>6&63}ee[oe++>>>0]=128|63&He}}return ee[oe>>>0]=0,oe-Se},be=j=>j%4==0&&(j%100!=0||j%400==0),Te=[0,31,60,91,121,152,182,213,244,274,305,335],pe=[0,31,59,90,120,151,181,212,243,273,304,334],Oe=j=>{var ee=ae(j)+1,oe=Vt(ee);return oe&&xe(j,Y,oe,ee),oe},Ee={},ke=()=>{if(!V){var j,ee={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:(typeof navigator=="object"&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",_:n||"./this.program"};for(j in Ee)Ee[j]===void 0?delete ee[j]:ee[j]=Ee[j];var oe=[];for(j in ee)oe.push(`${j}=${ee[j]}`);V=oe}return V},Ne=[null,[],[]],Ze=j=>(Ze=(()=>{if(typeof crypto=="object"&&typeof crypto.getRandomValues=="function")return ge=>crypto.getRandomValues(ge);if(x)try{var ee=s(760);if(ee.randomFillSync)return ge=>ee.randomFillSync(ge);var oe=ee.randomBytes;return ge=>(ge.set(oe(ge.byteLength)),ge)}catch{}Me("initRandomDevice")})())(j),Ke=[31,29,31,30,31,30,31,31,30,31,30,31],Ye=[31,28,31,30,31,30,31,31,30,31,30,31];function ut(j,ee,oe,ge){function Se(ce,nt,ft){for(ce=typeof ce=="number"?ce.toString():ce||"";ce.length<nt;)ce=ft[0]+ce;return ce}function Ve(ce,nt){return Se(ce,nt,"0")}function He(ce,nt){function ft(Wn){return 0>Wn?-1:0<Wn?1:0}var sn;return(sn=ft(ce.getFullYear()-nt.getFullYear()))===0&&(sn=ft(ce.getMonth()-nt.getMonth()))===0&&(sn=ft(ce.getDate()-nt.getDate())),sn}function Tt(ce){switch(ce.getDay()){case 0:return new Date(ce.getFullYear()-1,11,29);case 1:return ce;case 2:return new Date(ce.getFullYear(),0,3);case 3:return new Date(ce.getFullYear(),0,2);case 4:return new Date(ce.getFullYear(),0,1);case 5:return new Date(ce.getFullYear()-1,11,31);case 6:return new Date(ce.getFullYear()-1,11,30)}}function Et(ce){var nt=ce.ma;for(ce=new Date(new Date(ce.na+1900,0,1).getTime());0<nt;){var ft=ce.getMonth(),sn=(be(ce.getFullYear())?Ke:Ye)[ft];if(!(nt>sn-ce.getDate())){ce.setDate(ce.getDate()+nt);break}nt-=sn-ce.getDate()+1,ce.setDate(1),11>ft?ce.setMonth(ft+1):(ce.setMonth(0),ce.setFullYear(ce.getFullYear()+1))}return ft=new Date(ce.getFullYear()+1,0,4),nt=Tt(new Date(ce.getFullYear(),0,4)),ft=Tt(ft),0>=He(nt,ce)?0>=He(ft,ce)?ce.getFullYear()+1:ce.getFullYear():ce.getFullYear()-1}j>>>=0,ee>>>=0,oe>>>=0;var It=F[40+(ge>>>=0)>>2>>>0];for(var Pt in ge={ya:F[ge>>2>>>0],xa:F[ge+4>>2>>>0],oa:F[ge+8>>2>>>0],ra:F[ge+12>>2>>>0],pa:F[ge+16>>2>>>0],na:F[ge+20>>2>>>0],ha:F[ge+24>>2>>>0],ma:F[ge+28>>2>>>0],Aa:F[ge+32>>2>>>0],wa:F[ge+36>>2>>>0],za:It?ie(It):""},oe=ie(oe),It={"%c":"%a %b %d %H:%M:%S %Y","%D":"%m/%d/%y","%F":"%Y-%m-%d","%h":"%b","%r":"%I:%M:%S %p","%R":"%H:%M","%T":"%H:%M:%S","%x":"%m/%d/%y","%X":"%H:%M:%S","%Ec":"%c","%EC":"%C","%Ex":"%m/%d/%y","%EX":"%H:%M:%S","%Ey":"%y","%EY":"%Y","%Od":"%d","%Oe":"%e","%OH":"%H","%OI":"%I","%Om":"%m","%OM":"%M","%OS":"%S","%Ou":"%u","%OU":"%U","%OV":"%V","%Ow":"%w","%OW":"%W","%Oy":"%y"})oe=oe.replace(new RegExp(Pt,"g"),It[Pt]);var Zn="Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),Hn="January February March April May June July August September October November December".split(" ");for(Pt in It={"%a":ce=>Zn[ce.ha].substring(0,3),"%A":ce=>Zn[ce.ha],"%b":ce=>Hn[ce.pa].substring(0,3),"%B":ce=>Hn[ce.pa],"%C":ce=>Ve((ce.na+1900)/100|0,2),"%d":ce=>Ve(ce.ra,2),"%e":ce=>Se(ce.ra,2," "),"%g":ce=>Et(ce).toString().substring(2),"%G":ce=>Et(ce),"%H":ce=>Ve(ce.oa,2),"%I":ce=>((ce=ce.oa)==0?ce=12:12<ce&&(ce-=12),Ve(ce,2)),"%j":ce=>{for(var nt=0,ft=0;ft<=ce.pa-1;nt+=(be(ce.na+1900)?Ke:Ye)[ft++]);return Ve(ce.ra+nt,3)},"%m":ce=>Ve(ce.pa+1,2),"%M":ce=>Ve(ce.xa,2),"%n":()=>`
`,"%p":ce=>0<=ce.oa&&12>ce.oa?"AM":"PM","%S":ce=>Ve(ce.ya,2),"%t":()=>"	","%u":ce=>ce.ha||7,"%U":ce=>Ve(Math.floor((ce.ma+7-ce.ha)/7),2),"%V":ce=>{var nt=Math.floor((ce.ma+7-(ce.ha+6)%7)/7);if(2>=(ce.ha+371-ce.ma-2)%7&&nt++,nt)nt==53&&((ft=(ce.ha+371-ce.ma)%7)==4||ft==3&&be(ce.na)||(nt=1));else{nt=52;var ft=(ce.ha+7-ce.ma-1)%7;(ft==4||ft==5&&be(ce.na%400-1))&&nt++}return Ve(nt,2)},"%w":ce=>ce.ha,"%W":ce=>Ve(Math.floor((ce.ma+7-(ce.ha+6)%7)/7),2),"%y":ce=>(ce.na+1900).toString().substring(2),"%Y":ce=>ce.na+1900,"%z":ce=>{var nt=0<=(ce=ce.wa);return ce=Math.abs(ce)/60,(nt?"+":"-")+("0000"+(ce/60*100+ce%60)).slice(-4)},"%Z":ce=>ce.za,"%%":()=>"%"},oe=oe.replace(/%%/g,"\0\0"),It)oe.includes(Pt)&&(oe=oe.replace(new RegExp(Pt,"g"),It[Pt](ge)));return Pt=function(ce){var nt=Array(ae(ce)+1);return xe(ce,nt,0,nt.length),nt}(oe=oe.replace(/\0\0/g,"%")),Pt.length>ee?0:(te.set(Pt,j>>>0),Pt.length-1)}var At={a:function(j,ee,oe){throw new $(j>>>=0).sa(ee>>>0,oe>>>0),j},e:function(){return 0},I:function(){},y:function(){},A:function(){},K:function(){return 0},G:function(){},B:function(){},F:function(){},g:function(){},z:function(){},w:function(){},H:function(){},x:function(){},k:()=>!0,n:function(j,ee,oe){j=ee+2097152>>>0<4194305-!!j?(j>>>0)+4294967296*ee:NaN,oe>>>=0,j=new Date(1e3*j),F[oe>>2>>>0]=j.getUTCSeconds(),F[oe+4>>2>>>0]=j.getUTCMinutes(),F[oe+8>>2>>>0]=j.getUTCHours(),F[oe+12>>2>>>0]=j.getUTCDate(),F[oe+16>>2>>>0]=j.getUTCMonth(),F[oe+20>>2>>>0]=j.getUTCFullYear()-1900,F[oe+24>>2>>>0]=j.getUTCDay(),F[oe+28>>2>>>0]=(j.getTime()-Date.UTC(j.getUTCFullYear(),0,1,0,0,0,0))/864e5|0},o:function(j,ee,oe){j=ee+2097152>>>0<4194305-!!j?(j>>>0)+4294967296*ee:NaN,oe>>>=0,j=new Date(1e3*j),F[oe>>2>>>0]=j.getSeconds(),F[oe+4>>2>>>0]=j.getMinutes(),F[oe+8>>2>>>0]=j.getHours(),F[oe+12>>2>>>0]=j.getDate(),F[oe+16>>2>>>0]=j.getMonth(),F[oe+20>>2>>>0]=j.getFullYear()-1900,F[oe+24>>2>>>0]=j.getDay(),F[oe+28>>2>>>0]=(be(j.getFullYear())?Te:pe)[j.getMonth()]+j.getDate()-1|0,F[oe+36>>2>>>0]=-60*j.getTimezoneOffset(),ee=new Date(j.getFullYear(),6,1).getTimezoneOffset();var ge=new Date(j.getFullYear(),0,1).getTimezoneOffset();F[oe+32>>2>>>0]=0|(ee!=ge&&j.getTimezoneOffset()==Math.min(ge,ee))},p:function(j){j>>>=0;var ee=new Date(F[j+20>>2>>>0]+1900,F[j+16>>2>>>0],F[j+12>>2>>>0],F[j+8>>2>>>0],F[j+4>>2>>>0],F[j>>2>>>0],0),oe=F[j+32>>2>>>0],ge=ee.getTimezoneOffset(),Se=new Date(ee.getFullYear(),6,1).getTimezoneOffset(),Ve=new Date(ee.getFullYear(),0,1).getTimezoneOffset(),He=Math.min(Ve,Se);return 0>oe?F[j+32>>2>>>0]=+(Se!=Ve&&He==ge):0<oe!=(He==ge)&&(Se=Math.max(Ve,Se),ee.setTime(ee.getTime()+6e4*((0<oe?He:Se)-ge))),F[j+24>>2>>>0]=ee.getDay(),F[j+28>>2>>>0]=(be(ee.getFullYear())?Te:pe)[ee.getMonth()]+ee.getDate()-1|0,F[j>>2>>>0]=ee.getSeconds(),F[j+4>>2>>>0]=ee.getMinutes(),F[j+8>>2>>>0]=ee.getHours(),F[j+12>>2>>>0]=ee.getDate(),F[j+16>>2>>>0]=ee.getMonth(),F[j+20>>2>>>0]=ee.getYear(),j=ee.getTime()/1e3,Ut((Pe=j,1<=+Math.abs(Pe)?0<Pe?+Math.floor(Pe/4294967296)>>>0:~~+Math.ceil((Pe-+(~~Pe>>>0))/4294967296)>>>0:0)),j>>>0},l:function(){return-52},m:function(){},u:function(j,ee,oe){function ge(Et){return(Et=Et.toTimeString().match(/\(([A-Za-z ]+)\)$/))?Et[1]:"GMT"}oe>>>=0;var Se=new Date().getFullYear(),Ve=new Date(Se,0,1),He=new Date(Se,6,1);Se=Ve.getTimezoneOffset();var Tt=He.getTimezoneOffset();re[j>>>0>>2>>>0]=60*Math.max(Se,Tt),F[ee>>>0>>2>>>0]=+(Se!=Tt),j=ge(Ve),ee=ge(He),j=Oe(j),ee=Oe(ee),Tt<Se?(re[oe>>2>>>0]=j,re[oe+4>>2>>>0]=ee):(re[oe>>2>>>0]=ee,re[oe+4>>2>>>0]=j)},d:()=>{Me("")},h:function(){return Date.now()},v:function(){return 4294901760},b:()=>performance.now(),J:function(j,ee,oe){return ee>>>=0,Y.copyWithin(j>>>0>>>0,ee>>>0,ee+(oe>>>0)>>>0)},t:function(j){j>>>=0;var ee=Y.length;if(4294901760<j)return!1;for(var oe=1;4>=oe;oe*=2){var ge=ee*(1+.2/oe);ge=Math.min(ge,j+100663296);var Se=Math;ge=Math.max(j,ge);e:{Se=Se.min.call(Se,4294901760,ge+(65536-ge%65536)%65536)-U.buffer.byteLength+65535>>>16;try{U.grow(Se),M();var Ve=1;break e}catch{}Ve=void 0}if(Ve)return!0}return!1},D:function(j,ee){j>>>=0,ee>>>=0;var oe=0;return ke().forEach(function(ge,Se){var Ve=ee+oe;for(Se=re[j+4*Se>>2>>>0]=Ve,Ve=0;Ve<ge.length;++Ve)te[Se++>>0>>>0]=ge.charCodeAt(Ve);te[Se>>0>>>0]=0,oe+=ge.length+1}),0},E:function(j,ee){j>>>=0,ee>>>=0;var oe=ke();re[j>>2>>>0]=oe.length;var ge=0;return oe.forEach(function(Se){ge+=Se.length+1}),re[ee>>2>>>0]=ge,0},s:j=>{L||(v.onExit&&v.onExit(j),R=!0),o(j,new Dt(j))},f:()=>52,j:function(){return 52},q:function(){return 70},i:function(j,ee,oe,ge){ee>>>=0,oe>>>=0,ge>>>=0;for(var Se=0,Ve=0;Ve<oe;Ve++){var He=re[ee>>2>>>0],Tt=re[ee+4>>2>>>0];ee+=8;for(var Et=0;Et<Tt;Et++){var It=Y[He+Et>>>0],Pt=Ne[j];It===0||It===10?((j===1?I:P)(Q(Pt,0)),Pt.length=0):Pt.push(It)}Se+=Tt}return re[ge>>2>>>0]=Se,0},r:function(j,ee){return j>>>=0,Ze(Y.subarray(j>>>0,j+(ee>>>0)>>>0)),0},C:ut,c:function(j,ee,oe,ge){return ut(j>>>0,ee>>>0,oe>>>0,ge>>>0)}};(function(){function j(oe){if(oe=oe.exports,G=oe=function(Se){var Ve=Tt=>()=>Tt()>>>0,He=Tt=>Et=>Tt(Et)>>>0;return(Se=Object.assign({},Se)).__errno_location=Ve(Se.__errno_location),Se.malloc=He(Se.malloc),Se.stackSave=Ve(Se.stackSave),Se.stackAlloc=He(Se.stackAlloc),Se}(oe),U=G.L,M(),le.unshift(G.M),Le--,v.monitorRunDependencies&&v.monitorRunDependencies(Le),Le==0&&Be){var ge=Be;Be=null,ge()}return oe}var ee={a:At};if(Le++,v.monitorRunDependencies&&v.monitorRunDependencies(Le),v.instantiateWasm)try{return v.instantiateWasm(ee,j)}catch(oe){P("Module.instantiateWasm callback failed with error: "+oe),g(oe)}(function(oe,ge){var Se=we;return A||typeof WebAssembly.instantiateStreaming!="function"||je(Se)||Se.startsWith("file://")||x||typeof fetch!="function"?lt(Se,oe,ge):fetch(Se,{credentials:"same-origin"}).then(Ve=>WebAssembly.instantiateStreaming(Ve,oe).then(ge,function(He){return P("wasm streaming compile failed: "+He),P("falling back to ArrayBuffer instantiation"),lt(Se,oe,ge)}))})(ee,function(oe){j(oe.instance)}).catch(g)})(),v._OrtInit=(j,ee)=>(v._OrtInit=G.N)(j,ee),v._OrtGetLastError=(j,ee)=>(v._OrtGetLastError=G.O)(j,ee),v._OrtCreateSessionOptions=(j,ee,oe,ge,Se,Ve,He,Tt,Et,It)=>(v._OrtCreateSessionOptions=G.P)(j,ee,oe,ge,Se,Ve,He,Tt,Et,It),v._OrtAppendExecutionProvider=(j,ee)=>(v._OrtAppendExecutionProvider=G.Q)(j,ee),v._OrtAddSessionConfigEntry=(j,ee,oe)=>(v._OrtAddSessionConfigEntry=G.R)(j,ee,oe),v._OrtReleaseSessionOptions=j=>(v._OrtReleaseSessionOptions=G.S)(j),v._OrtCreateSession=(j,ee,oe)=>(v._OrtCreateSession=G.T)(j,ee,oe),v._OrtReleaseSession=j=>(v._OrtReleaseSession=G.U)(j),v._OrtGetInputOutputCount=(j,ee,oe)=>(v._OrtGetInputOutputCount=G.V)(j,ee,oe),v._OrtGetInputName=(j,ee)=>(v._OrtGetInputName=G.W)(j,ee),v._OrtGetOutputName=(j,ee)=>(v._OrtGetOutputName=G.X)(j,ee),v._OrtFree=j=>(v._OrtFree=G.Y)(j),v._OrtCreateTensor=(j,ee,oe,ge,Se)=>(v._OrtCreateTensor=G.Z)(j,ee,oe,ge,Se),v._OrtGetTensorData=(j,ee,oe,ge,Se)=>(v._OrtGetTensorData=G._)(j,ee,oe,ge,Se),v._OrtReleaseTensor=j=>(v._OrtReleaseTensor=G.$)(j),v._OrtCreateRunOptions=(j,ee,oe,ge)=>(v._OrtCreateRunOptions=G.aa)(j,ee,oe,ge),v._OrtAddRunConfigEntry=(j,ee,oe)=>(v._OrtAddRunConfigEntry=G.ba)(j,ee,oe),v._OrtReleaseRunOptions=j=>(v._OrtReleaseRunOptions=G.ca)(j),v._OrtRun=(j,ee,oe,ge,Se,Ve,He,Tt)=>(v._OrtRun=G.da)(j,ee,oe,ge,Se,Ve,He,Tt),v._OrtEndProfiling=j=>(v._OrtEndProfiling=G.ea)(j);var Vt=v._malloc=j=>(Vt=v._malloc=G.fa)(j);v._free=j=>(v._free=G.ga)(j);var jt,Ut=j=>(Ut=G.ia)(j),Xt=()=>(Xt=G.ja)(),Re=j=>(Re=G.ka)(j),xt=j=>(xt=G.la)(j);function on(){function j(){if(!jt&&(jt=!0,v.calledRun=!0,!R)){if(ve(le),y(v),v.onRuntimeInitialized&&v.onRuntimeInitialized(),v.postRun)for(typeof v.postRun=="function"&&(v.postRun=[v.postRun]);v.postRun.length;){var ee=v.postRun.shift();he.unshift(ee)}ve(he)}}if(!(0<Le)){if(v.preRun)for(typeof v.preRun=="function"&&(v.preRun=[v.preRun]);v.preRun.length;)Ce();ve(H),0<Le||(v.setStatus?(v.setStatus("Running..."),setTimeout(function(){setTimeout(function(){v.setStatus("")},1),j()},1)):j())}}if(v.stackAlloc=xt,v.stackSave=Xt,v.stackRestore=Re,v.UTF8ToString=ie,v.stringToUTF8=(j,ee,oe)=>xe(j,Y,ee,oe),v.lengthBytesUTF8=ae,Be=function j(){jt||on(),jt||(Be=j)},v.preInit)for(typeof v.preInit=="function"&&(v.preInit=[v.preInit]);0<v.preInit.length;)v.preInit.pop()();return on(),d.ready});i.exports=l},4537:i=>{i.exports=function(t,s){for(var u=new Array(arguments.length-1),l=0,d=2,y=!0;d<arguments.length;)u[l++]=arguments[d++];return new Promise(function(g,v){u[l]=function(f){if(y)if(y=!1,f)v(f);else{for(var c=new Array(arguments.length-1),r=0;r<c.length;)c[r++]=arguments[r];g.apply(null,c)}};try{t.apply(s||null,u)}catch(f){y&&(y=!1,v(f))}})}},7419:(i,t)=>{var s=t;s.length=function(g){var v=g.length;if(!v)return 0;for(var f=0;--v%4>1&&g.charAt(v)==="=";)++f;return Math.ceil(3*g.length)/4-f};for(var u=new Array(64),l=new Array(123),d=0;d<64;)l[u[d]=d<26?d+65:d<52?d+71:d<62?d-4:d-59|43]=d++;s.encode=function(g,v,f){for(var c,r=null,e=[],n=0,o=0;v<f;){var m=g[v++];switch(o){case 0:e[n++]=u[m>>2],c=(3&m)<<4,o=1;break;case 1:e[n++]=u[c|m>>4],c=(15&m)<<2,o=2;break;case 2:e[n++]=u[c|m>>6],e[n++]=u[63&m],o=0}n>8191&&((r||(r=[])).push(String.fromCharCode.apply(String,e)),n=0)}return o&&(e[n++]=u[c],e[n++]=61,o===1&&(e[n++]=61)),r?(n&&r.push(String.fromCharCode.apply(String,e.slice(0,n))),r.join("")):String.fromCharCode.apply(String,e.slice(0,n))};var y="invalid encoding";s.decode=function(g,v,f){for(var c,r=f,e=0,n=0;n<g.length;){var o=g.charCodeAt(n++);if(o===61&&e>1)break;if((o=l[o])===void 0)throw Error(y);switch(e){case 0:c=o,e=1;break;case 1:v[f++]=c<<2|(48&o)>>4,c=o,e=2;break;case 2:v[f++]=(15&c)<<4|(60&o)>>2,c=o,e=3;break;case 3:v[f++]=(3&c)<<6|o,e=0}}if(e===1)throw Error(y);return f-r},s.test=function(g){return/^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/.test(g)}},9211:i=>{function t(){this._listeners={}}i.exports=t,t.prototype.on=function(s,u,l){return(this._listeners[s]||(this._listeners[s]=[])).push({fn:u,ctx:l||this}),this},t.prototype.off=function(s,u){if(s===void 0)this._listeners={};else if(u===void 0)this._listeners[s]=[];else for(var l=this._listeners[s],d=0;d<l.length;)l[d].fn===u?l.splice(d,1):++d;return this},t.prototype.emit=function(s){var u=this._listeners[s];if(u){for(var l=[],d=1;d<arguments.length;)l.push(arguments[d++]);for(d=0;d<u.length;)u[d].fn.apply(u[d++].ctx,l)}return this}},945:i=>{function t(y){return typeof Float32Array<"u"?function(){var g=new Float32Array([-0]),v=new Uint8Array(g.buffer),f=v[3]===128;function c(o,m,_){g[0]=o,m[_]=v[0],m[_+1]=v[1],m[_+2]=v[2],m[_+3]=v[3]}function r(o,m,_){g[0]=o,m[_]=v[3],m[_+1]=v[2],m[_+2]=v[1],m[_+3]=v[0]}function e(o,m){return v[0]=o[m],v[1]=o[m+1],v[2]=o[m+2],v[3]=o[m+3],g[0]}function n(o,m){return v[3]=o[m],v[2]=o[m+1],v[1]=o[m+2],v[0]=o[m+3],g[0]}y.writeFloatLE=f?c:r,y.writeFloatBE=f?r:c,y.readFloatLE=f?e:n,y.readFloatBE=f?n:e}():function(){function g(f,c,r,e){var n=c<0?1:0;if(n&&(c=-c),c===0)f(1/c>0?0:2147483648,r,e);else if(isNaN(c))f(2143289344,r,e);else if(c>34028234663852886e22)f((n<<31|2139095040)>>>0,r,e);else if(c<11754943508222875e-54)f((n<<31|Math.round(c/1401298464324817e-60))>>>0,r,e);else{var o=Math.floor(Math.log(c)/Math.LN2);f((n<<31|o+127<<23|8388607&Math.round(c*Math.pow(2,-o)*8388608))>>>0,r,e)}}function v(f,c,r){var e=f(c,r),n=2*(e>>31)+1,o=e>>>23&255,m=8388607&e;return o===255?m?NaN:n*(1/0):o===0?1401298464324817e-60*n*m:n*Math.pow(2,o-150)*(m+8388608)}y.writeFloatLE=g.bind(null,s),y.writeFloatBE=g.bind(null,u),y.readFloatLE=v.bind(null,l),y.readFloatBE=v.bind(null,d)}(),typeof Float64Array<"u"?function(){var g=new Float64Array([-0]),v=new Uint8Array(g.buffer),f=v[7]===128;function c(o,m,_){g[0]=o,m[_]=v[0],m[_+1]=v[1],m[_+2]=v[2],m[_+3]=v[3],m[_+4]=v[4],m[_+5]=v[5],m[_+6]=v[6],m[_+7]=v[7]}function r(o,m,_){g[0]=o,m[_]=v[7],m[_+1]=v[6],m[_+2]=v[5],m[_+3]=v[4],m[_+4]=v[3],m[_+5]=v[2],m[_+6]=v[1],m[_+7]=v[0]}function e(o,m){return v[0]=o[m],v[1]=o[m+1],v[2]=o[m+2],v[3]=o[m+3],v[4]=o[m+4],v[5]=o[m+5],v[6]=o[m+6],v[7]=o[m+7],g[0]}function n(o,m){return v[7]=o[m],v[6]=o[m+1],v[5]=o[m+2],v[4]=o[m+3],v[3]=o[m+4],v[2]=o[m+5],v[1]=o[m+6],v[0]=o[m+7],g[0]}y.writeDoubleLE=f?c:r,y.writeDoubleBE=f?r:c,y.readDoubleLE=f?e:n,y.readDoubleBE=f?n:e}():function(){function g(f,c,r,e,n,o){var m=e<0?1:0;if(m&&(e=-e),e===0)f(0,n,o+c),f(1/e>0?0:2147483648,n,o+r);else if(isNaN(e))f(0,n,o+c),f(2146959360,n,o+r);else if(e>17976931348623157e292)f(0,n,o+c),f((m<<31|2146435072)>>>0,n,o+r);else{var _;if(e<22250738585072014e-324)f((_=e/5e-324)>>>0,n,o+c),f((m<<31|_/4294967296)>>>0,n,o+r);else{var x=Math.floor(Math.log(e)/Math.LN2);x===1024&&(x=1023),f(4503599627370496*(_=e*Math.pow(2,-x))>>>0,n,o+c),f((m<<31|x+1023<<20|1048576*_&1048575)>>>0,n,o+r)}}}function v(f,c,r,e,n){var o=f(e,n+c),m=f(e,n+r),_=2*(m>>31)+1,x=m>>>20&2047,w=4294967296*(1048575&m)+o;return x===2047?w?NaN:_*(1/0):x===0?5e-324*_*w:_*Math.pow(2,x-1075)*(w+4503599627370496)}y.writeDoubleLE=g.bind(null,s,0,4),y.writeDoubleBE=g.bind(null,u,4,0),y.readDoubleLE=v.bind(null,l,0,4),y.readDoubleBE=v.bind(null,d,4,0)}(),y}function s(y,g,v){g[v]=255&y,g[v+1]=y>>>8&255,g[v+2]=y>>>16&255,g[v+3]=y>>>24}function u(y,g,v){g[v]=y>>>24,g[v+1]=y>>>16&255,g[v+2]=y>>>8&255,g[v+3]=255&y}function l(y,g){return(y[g]|y[g+1]<<8|y[g+2]<<16|y[g+3]<<24)>>>0}function d(y,g){return(y[g]<<24|y[g+1]<<16|y[g+2]<<8|y[g+3])>>>0}i.exports=t(t)},7199:module=>{function inquire(moduleName){try{var mod=eval("quire".replace(/^/,"re"))(moduleName);if(mod&&(mod.length||Object.keys(mod).length))return mod}catch(i){}return null}module.exports=inquire},6662:i=>{i.exports=function(t,s,u){var l=u||8192,d=l>>>1,y=null,g=l;return function(v){if(v<1||v>d)return t(v);g+v>l&&(y=t(l),g=0);var f=s.call(y,g,g+=v);return 7&g&&(g=1+(7|g)),f}}},4997:(i,t)=>{var s=t;s.length=function(u){for(var l=0,d=0,y=0;y<u.length;++y)(d=u.charCodeAt(y))<128?l+=1:d<2048?l+=2:(64512&d)==55296&&(64512&u.charCodeAt(y+1))==56320?(++y,l+=4):l+=3;return l},s.read=function(u,l,d){if(d-l<1)return"";for(var y,g=null,v=[],f=0;l<d;)(y=u[l++])<128?v[f++]=y:y>191&&y<224?v[f++]=(31&y)<<6|63&u[l++]:y>239&&y<365?(y=((7&y)<<18|(63&u[l++])<<12|(63&u[l++])<<6|63&u[l++])-65536,v[f++]=55296+(y>>10),v[f++]=56320+(1023&y)):v[f++]=(15&y)<<12|(63&u[l++])<<6|63&u[l++],f>8191&&((g||(g=[])).push(String.fromCharCode.apply(String,v)),f=0);return g?(f&&g.push(String.fromCharCode.apply(String,v.slice(0,f))),g.join("")):String.fromCharCode.apply(String,v.slice(0,f))},s.write=function(u,l,d){for(var y,g,v=d,f=0;f<u.length;++f)(y=u.charCodeAt(f))<128?l[d++]=y:y<2048?(l[d++]=y>>6|192,l[d++]=63&y|128):(64512&y)==55296&&(64512&(g=u.charCodeAt(f+1)))==56320?(y=65536+((1023&y)<<10)+(1023&g),++f,l[d++]=y>>18|240,l[d++]=y>>12&63|128,l[d++]=y>>6&63|128,l[d++]=63&y|128):(l[d++]=y>>12|224,l[d++]=y>>6&63|128,l[d++]=63&y|128);return d-v}},3442:(i,t)=>{t.__esModule=!0;var s=function(){function u(l){if(!l)throw new TypeError("Invalid argument; `value` has no value.");this.value=u.EMPTY,l&&u.isGuid(l)&&(this.value=l)}return u.isGuid=function(l){var d=l.toString();return l&&(l instanceof u||u.validator.test(d))},u.create=function(){return new u([u.gen(2),u.gen(1),u.gen(1),u.gen(1),u.gen(3)].join("-"))},u.createEmpty=function(){return new u("emptyguid")},u.parse=function(l){return new u(l)},u.raw=function(){return[u.gen(2),u.gen(1),u.gen(1),u.gen(1),u.gen(3)].join("-")},u.gen=function(l){for(var d="",y=0;y<l;y++)d+=(65536*(1+Math.random())|0).toString(16).substring(1);return d},u.prototype.equals=function(l){return u.isGuid(l)&&this.value===l.toString()},u.prototype.isEmpty=function(){return this.value===u.EMPTY},u.prototype.toString=function(){return this.value},u.prototype.toJSON=function(){return{value:this.value}},u.validator=new RegExp("^[a-z0-9]{8}-[a-z0-9]{4}-[a-z0-9]{4}-[a-z0-9]{4}-[a-z0-9]{12}$","i"),u.EMPTY="00000000-0000-0000-0000-000000000000",u}();t.Guid=s},2100:(i,t,s)=>{i.exports=s(9482)},9482:(i,t,s)=>{var u=t;function l(){u.util._configure(),u.Writer._configure(u.BufferWriter),u.Reader._configure(u.BufferReader)}u.build="minimal",u.Writer=s(1173),u.BufferWriter=s(3155),u.Reader=s(1408),u.BufferReader=s(593),u.util=s(9693),u.rpc=s(5994),u.roots=s(5054),u.configure=l,l()},1408:(i,t,s)=>{i.exports=v;var u,l=s(9693),d=l.LongBits,y=l.utf8;function g(m,_){return RangeError("index out of range: "+m.pos+" + "+(_||1)+" > "+m.len)}function v(m){this.buf=m,this.pos=0,this.len=m.length}var f,c=typeof Uint8Array<"u"?function(m){if(m instanceof Uint8Array||Array.isArray(m))return new v(m);throw Error("illegal buffer")}:function(m){if(Array.isArray(m))return new v(m);throw Error("illegal buffer")},r=function(){return l.Buffer?function(m){return(v.create=function(_){return l.Buffer.isBuffer(_)?new u(_):c(_)})(m)}:c};function e(){var m=new d(0,0),_=0;if(!(this.len-this.pos>4)){for(;_<3;++_){if(this.pos>=this.len)throw g(this);if(m.lo=(m.lo|(127&this.buf[this.pos])<<7*_)>>>0,this.buf[this.pos++]<128)return m}return m.lo=(m.lo|(127&this.buf[this.pos++])<<7*_)>>>0,m}for(;_<4;++_)if(m.lo=(m.lo|(127&this.buf[this.pos])<<7*_)>>>0,this.buf[this.pos++]<128)return m;if(m.lo=(m.lo|(127&this.buf[this.pos])<<28)>>>0,m.hi=(m.hi|(127&this.buf[this.pos])>>4)>>>0,this.buf[this.pos++]<128)return m;if(_=0,this.len-this.pos>4){for(;_<5;++_)if(m.hi=(m.hi|(127&this.buf[this.pos])<<7*_+3)>>>0,this.buf[this.pos++]<128)return m}else for(;_<5;++_){if(this.pos>=this.len)throw g(this);if(m.hi=(m.hi|(127&this.buf[this.pos])<<7*_+3)>>>0,this.buf[this.pos++]<128)return m}throw Error("invalid varint encoding")}function n(m,_){return(m[_-4]|m[_-3]<<8|m[_-2]<<16|m[_-1]<<24)>>>0}function o(){if(this.pos+8>this.len)throw g(this,8);return new d(n(this.buf,this.pos+=4),n(this.buf,this.pos+=4))}v.create=r(),v.prototype._slice=l.Array.prototype.subarray||l.Array.prototype.slice,v.prototype.uint32=(f=4294967295,function(){if(f=(127&this.buf[this.pos])>>>0,this.buf[this.pos++]<128||(f=(f|(127&this.buf[this.pos])<<7)>>>0,this.buf[this.pos++]<128)||(f=(f|(127&this.buf[this.pos])<<14)>>>0,this.buf[this.pos++]<128)||(f=(f|(127&this.buf[this.pos])<<21)>>>0,this.buf[this.pos++]<128)||(f=(f|(15&this.buf[this.pos])<<28)>>>0,this.buf[this.pos++]<128))return f;if((this.pos+=5)>this.len)throw this.pos=this.len,g(this,10);return f}),v.prototype.int32=function(){return 0|this.uint32()},v.prototype.sint32=function(){var m=this.uint32();return m>>>1^-(1&m)|0},v.prototype.bool=function(){return this.uint32()!==0},v.prototype.fixed32=function(){if(this.pos+4>this.len)throw g(this,4);return n(this.buf,this.pos+=4)},v.prototype.sfixed32=function(){if(this.pos+4>this.len)throw g(this,4);return 0|n(this.buf,this.pos+=4)},v.prototype.float=function(){if(this.pos+4>this.len)throw g(this,4);var m=l.float.readFloatLE(this.buf,this.pos);return this.pos+=4,m},v.prototype.double=function(){if(this.pos+8>this.len)throw g(this,4);var m=l.float.readDoubleLE(this.buf,this.pos);return this.pos+=8,m},v.prototype.bytes=function(){var m=this.uint32(),_=this.pos,x=this.pos+m;if(x>this.len)throw g(this,m);return this.pos+=m,Array.isArray(this.buf)?this.buf.slice(_,x):_===x?new this.buf.constructor(0):this._slice.call(this.buf,_,x)},v.prototype.string=function(){var m=this.bytes();return y.read(m,0,m.length)},v.prototype.skip=function(m){if(typeof m=="number"){if(this.pos+m>this.len)throw g(this,m);this.pos+=m}else do if(this.pos>=this.len)throw g(this);while(128&this.buf[this.pos++]);return this},v.prototype.skipType=function(m){switch(m){case 0:this.skip();break;case 1:this.skip(8);break;case 2:this.skip(this.uint32());break;case 3:for(;(m=7&this.uint32())!=4;)this.skipType(m);break;case 5:this.skip(4);break;default:throw Error("invalid wire type "+m+" at offset "+this.pos)}return this},v._configure=function(m){u=m,v.create=r(),u._configure();var _=l.Long?"toLong":"toNumber";l.merge(v.prototype,{int64:function(){return e.call(this)[_](!1)},uint64:function(){return e.call(this)[_](!0)},sint64:function(){return e.call(this).zzDecode()[_](!1)},fixed64:function(){return o.call(this)[_](!0)},sfixed64:function(){return o.call(this)[_](!1)}})}},593:(i,t,s)=>{i.exports=d;var u=s(1408);(d.prototype=Object.create(u.prototype)).constructor=d;var l=s(9693);function d(y){u.call(this,y)}d._configure=function(){l.Buffer&&(d.prototype._slice=l.Buffer.prototype.slice)},d.prototype.string=function(){var y=this.uint32();return this.buf.utf8Slice?this.buf.utf8Slice(this.pos,this.pos=Math.min(this.pos+y,this.len)):this.buf.toString("utf-8",this.pos,this.pos=Math.min(this.pos+y,this.len))},d._configure()},5054:i=>{i.exports={}},5994:(i,t,s)=>{t.Service=s(7948)},7948:(i,t,s)=>{i.exports=l;var u=s(9693);function l(d,y,g){if(typeof d!="function")throw TypeError("rpcImpl must be a function");u.EventEmitter.call(this),this.rpcImpl=d,this.requestDelimited=!!y,this.responseDelimited=!!g}(l.prototype=Object.create(u.EventEmitter.prototype)).constructor=l,l.prototype.rpcCall=function d(y,g,v,f,c){if(!f)throw TypeError("request must be specified");var r=this;if(!c)return u.asPromise(d,r,y,g,v,f);if(r.rpcImpl)try{return r.rpcImpl(y,g[r.requestDelimited?"encodeDelimited":"encode"](f).finish(),function(e,n){if(e)return r.emit("error",e,y),c(e);if(n!==null){if(!(n instanceof v))try{n=v[r.responseDelimited?"decodeDelimited":"decode"](n)}catch(o){return r.emit("error",o,y),c(o)}return r.emit("data",n,y),c(null,n)}r.end(!0)})}catch(e){return r.emit("error",e,y),void setTimeout(function(){c(e)},0)}else setTimeout(function(){c(Error("already ended"))},0)},l.prototype.end=function(d){return this.rpcImpl&&(d||this.rpcImpl(null,null,null),this.rpcImpl=null,this.emit("end").off()),this}},1945:(i,t,s)=>{i.exports=l;var u=s(9693);function l(v,f){this.lo=v>>>0,this.hi=f>>>0}var d=l.zero=new l(0,0);d.toNumber=function(){return 0},d.zzEncode=d.zzDecode=function(){return this},d.length=function(){return 1};var y=l.zeroHash="\0\0\0\0\0\0\0\0";l.fromNumber=function(v){if(v===0)return d;var f=v<0;f&&(v=-v);var c=v>>>0,r=(v-c)/4294967296>>>0;return f&&(r=~r>>>0,c=~c>>>0,++c>4294967295&&(c=0,++r>4294967295&&(r=0))),new l(c,r)},l.from=function(v){if(typeof v=="number")return l.fromNumber(v);if(u.isString(v)){if(!u.Long)return l.fromNumber(parseInt(v,10));v=u.Long.fromString(v)}return v.low||v.high?new l(v.low>>>0,v.high>>>0):d},l.prototype.toNumber=function(v){if(!v&&this.hi>>>31){var f=1+~this.lo>>>0,c=~this.hi>>>0;return f||(c=c+1>>>0),-(f+4294967296*c)}return this.lo+4294967296*this.hi},l.prototype.toLong=function(v){return u.Long?new u.Long(0|this.lo,0|this.hi,!!v):{low:0|this.lo,high:0|this.hi,unsigned:!!v}};var g=String.prototype.charCodeAt;l.fromHash=function(v){return v===y?d:new l((g.call(v,0)|g.call(v,1)<<8|g.call(v,2)<<16|g.call(v,3)<<24)>>>0,(g.call(v,4)|g.call(v,5)<<8|g.call(v,6)<<16|g.call(v,7)<<24)>>>0)},l.prototype.toHash=function(){return String.fromCharCode(255&this.lo,this.lo>>>8&255,this.lo>>>16&255,this.lo>>>24,255&this.hi,this.hi>>>8&255,this.hi>>>16&255,this.hi>>>24)},l.prototype.zzEncode=function(){var v=this.hi>>31;return this.hi=((this.hi<<1|this.lo>>>31)^v)>>>0,this.lo=(this.lo<<1^v)>>>0,this},l.prototype.zzDecode=function(){var v=-(1&this.lo);return this.lo=((this.lo>>>1|this.hi<<31)^v)>>>0,this.hi=(this.hi>>>1^v)>>>0,this},l.prototype.length=function(){var v=this.lo,f=(this.lo>>>28|this.hi<<4)>>>0,c=this.hi>>>24;return c===0?f===0?v<16384?v<128?1:2:v<2097152?3:4:f<16384?f<128?5:6:f<2097152?7:8:c<128?9:10}},9693:function(i,t,s){var u=t;function l(y,g,v){for(var f=Object.keys(g),c=0;c<f.length;++c)y[f[c]]!==void 0&&v||(y[f[c]]=g[f[c]]);return y}function d(y){function g(v,f){if(!(this instanceof g))return new g(v,f);Object.defineProperty(this,"message",{get:function(){return v}}),Error.captureStackTrace?Error.captureStackTrace(this,g):Object.defineProperty(this,"stack",{value:new Error().stack||""}),f&&l(this,f)}return g.prototype=Object.create(Error.prototype,{constructor:{value:g,writable:!0,enumerable:!1,configurable:!0},name:{get:function(){return y},set:void 0,enumerable:!1,configurable:!0},toString:{value:function(){return this.name+": "+this.message},writable:!0,enumerable:!1,configurable:!0}}),g}u.asPromise=s(4537),u.base64=s(7419),u.EventEmitter=s(9211),u.float=s(945),u.inquire=s(7199),u.utf8=s(4997),u.pool=s(6662),u.LongBits=s(1945),u.isNode=!!(typeof commonjsGlobal<"u"&&commonjsGlobal&&commonjsGlobal.process&&commonjsGlobal.process.versions&&commonjsGlobal.process.versions.node),u.global=u.isNode&&commonjsGlobal||typeof window<"u"&&window||typeof self<"u"&&self||this,u.emptyArray=Object.freeze?Object.freeze([]):[],u.emptyObject=Object.freeze?Object.freeze({}):{},u.isInteger=Number.isInteger||function(y){return typeof y=="number"&&isFinite(y)&&Math.floor(y)===y},u.isString=function(y){return typeof y=="string"||y instanceof String},u.isObject=function(y){return y&&typeof y=="object"},u.isset=u.isSet=function(y,g){var v=y[g];return!(v==null||!y.hasOwnProperty(g))&&(typeof v!="object"||(Array.isArray(v)?v.length:Object.keys(v).length)>0)},u.Buffer=function(){try{var y=u.inquire("buffer").Buffer;return y.prototype.utf8Write?y:null}catch{return null}}(),u._Buffer_from=null,u._Buffer_allocUnsafe=null,u.newBuffer=function(y){return typeof y=="number"?u.Buffer?u._Buffer_allocUnsafe(y):new u.Array(y):u.Buffer?u._Buffer_from(y):typeof Uint8Array>"u"?y:new Uint8Array(y)},u.Array=typeof Uint8Array<"u"?Uint8Array:Array,u.Long=u.global.dcodeIO&&u.global.dcodeIO.Long||u.global.Long||u.inquire("long"),u.key2Re=/^true|false|0|1$/,u.key32Re=/^-?(?:0|[1-9][0-9]*)$/,u.key64Re=/^(?:[\\x00-\\xff]{8}|-?(?:0|[1-9][0-9]*))$/,u.longToHash=function(y){return y?u.LongBits.from(y).toHash():u.LongBits.zeroHash},u.longFromHash=function(y,g){var v=u.LongBits.fromHash(y);return u.Long?u.Long.fromBits(v.lo,v.hi,g):v.toNumber(!!g)},u.merge=l,u.lcFirst=function(y){return y.charAt(0).toLowerCase()+y.substring(1)},u.newError=d,u.ProtocolError=d("ProtocolError"),u.oneOfGetter=function(y){for(var g={},v=0;v<y.length;++v)g[y[v]]=1;return function(){for(var f=Object.keys(this),c=f.length-1;c>-1;--c)if(g[f[c]]===1&&this[f[c]]!==void 0&&this[f[c]]!==null)return f[c]}},u.oneOfSetter=function(y){return function(g){for(var v=0;v<y.length;++v)y[v]!==g&&delete this[y[v]]}},u.toJSONOptions={longs:String,enums:String,bytes:String,json:!0},u._configure=function(){var y=u.Buffer;y?(u._Buffer_from=y.from!==Uint8Array.from&&y.from||function(g,v){return new y(g,v)},u._Buffer_allocUnsafe=y.allocUnsafe||function(g){return new y(g)}):u._Buffer_from=u._Buffer_allocUnsafe=null}},1173:(i,t,s)=>{i.exports=r;var u,l=s(9693),d=l.LongBits,y=l.base64,g=l.utf8;function v(w,S,O){this.fn=w,this.len=S,this.next=void 0,this.val=O}function f(){}function c(w){this.head=w.head,this.tail=w.tail,this.len=w.len,this.next=w.states}function r(){this.len=0,this.head=new v(f,0,0),this.tail=this.head,this.states=null}var e=function(){return l.Buffer?function(){return(r.create=function(){return new u})()}:function(){return new r}};function n(w,S,O){S[O]=255&w}function o(w,S){this.len=w,this.next=void 0,this.val=S}function m(w,S,O){for(;w.hi;)S[O++]=127&w.lo|128,w.lo=(w.lo>>>7|w.hi<<25)>>>0,w.hi>>>=7;for(;w.lo>127;)S[O++]=127&w.lo|128,w.lo=w.lo>>>7;S[O++]=w.lo}function _(w,S,O){S[O]=255&w,S[O+1]=w>>>8&255,S[O+2]=w>>>16&255,S[O+3]=w>>>24}r.create=e(),r.alloc=function(w){return new l.Array(w)},l.Array!==Array&&(r.alloc=l.pool(r.alloc,l.Array.prototype.subarray)),r.prototype._push=function(w,S,O){return this.tail=this.tail.next=new v(w,S,O),this.len+=S,this},o.prototype=Object.create(v.prototype),o.prototype.fn=function(w,S,O){for(;w>127;)S[O++]=127&w|128,w>>>=7;S[O]=w},r.prototype.uint32=function(w){return this.len+=(this.tail=this.tail.next=new o((w>>>=0)<128?1:w<16384?2:w<2097152?3:w<268435456?4:5,w)).len,this},r.prototype.int32=function(w){return w<0?this._push(m,10,d.fromNumber(w)):this.uint32(w)},r.prototype.sint32=function(w){return this.uint32((w<<1^w>>31)>>>0)},r.prototype.uint64=function(w){var S=d.from(w);return this._push(m,S.length(),S)},r.prototype.int64=r.prototype.uint64,r.prototype.sint64=function(w){var S=d.from(w).zzEncode();return this._push(m,S.length(),S)},r.prototype.bool=function(w){return this._push(n,1,w?1:0)},r.prototype.fixed32=function(w){return this._push(_,4,w>>>0)},r.prototype.sfixed32=r.prototype.fixed32,r.prototype.fixed64=function(w){var S=d.from(w);return this._push(_,4,S.lo)._push(_,4,S.hi)},r.prototype.sfixed64=r.prototype.fixed64,r.prototype.float=function(w){return this._push(l.float.writeFloatLE,4,w)},r.prototype.double=function(w){return this._push(l.float.writeDoubleLE,8,w)};var x=l.Array.prototype.set?function(w,S,O){S.set(w,O)}:function(w,S,O){for(var A=0;A<w.length;++A)S[O+A]=w[A]};r.prototype.bytes=function(w){var S=w.length>>>0;if(!S)return this._push(n,1,0);if(l.isString(w)){var O=r.alloc(S=y.length(w));y.decode(w,O,0),w=O}return this.uint32(S)._push(x,S,w)},r.prototype.string=function(w){var S=g.length(w);return S?this.uint32(S)._push(g.write,S,w):this._push(n,1,0)},r.prototype.fork=function(){return this.states=new c(this),this.head=this.tail=new v(f,0,0),this.len=0,this},r.prototype.reset=function(){return this.states?(this.head=this.states.head,this.tail=this.states.tail,this.len=this.states.len,this.states=this.states.next):(this.head=this.tail=new v(f,0,0),this.len=0),this},r.prototype.ldelim=function(){var w=this.head,S=this.tail,O=this.len;return this.reset().uint32(O),O&&(this.tail.next=w.next,this.tail=S,this.len+=O),this},r.prototype.finish=function(){for(var w=this.head.next,S=this.constructor.alloc(this.len),O=0;w;)w.fn(w.val,S,O),O+=w.len,w=w.next;return S},r._configure=function(w){u=w,r.create=e(),u._configure()}},3155:(i,t,s)=>{i.exports=d;var u=s(1173);(d.prototype=Object.create(u.prototype)).constructor=d;var l=s(9693);function d(){u.call(this)}function y(g,v,f){g.length<40?l.utf8.write(g,v,f):v.utf8Write?v.utf8Write(g,f):v.write(g,f)}d._configure=function(){d.alloc=l._Buffer_allocUnsafe,d.writeBytesBuffer=l.Buffer&&l.Buffer.prototype instanceof Uint8Array&&l.Buffer.prototype.set.name==="set"?function(g,v,f){v.set(g,f)}:function(g,v,f){if(g.copy)g.copy(v,f,0,g.length);else for(var c=0;c<g.length;)v[f++]=g[c++]}},d.prototype.bytes=function(g){l.isString(g)&&(g=l._Buffer_from(g,"base64"));var v=g.length>>>0;return this.uint32(v),v&&this._push(d.writeBytesBuffer,v,g),this},d.prototype.string=function(g){var v=l.Buffer.byteLength(g);return this.uint32(v),v&&this._push(y,v,g),this},d._configure()},4154:i=>{i.exports=`"use strict";var e={},a="object"==typeof process&&"object"==typeof process.versions&&"string"==typeof process.versions.node;if(a){var r=require("worker_threads"),t=r.parentPort;t.on("message",(e=>onmessage({data:e})));var s=require("fs");Object.assign(global,{self:global,require:require,Module:e,location:{href:__filename},Worker:r.Worker,importScripts:e=>(0,eval)(s.readFileSync(e,"utf8")+"//# sourceURL="+e),postMessage:e=>t.postMessage(e),performance:global.performance||{now:Date.now}})}var o=!1,d=function(){var e=Array.prototype.slice.call(arguments).join(" ");a?s.writeSync(2,e+"\\n"):console.error(e)};self.alert=function(){var a=Array.prototype.slice.call(arguments).join(" ");postMessage({cmd:"alert",text:a,threadId:e._pthread_self()})},e.instantiateWasm=(a,r)=>{var t=e.wasmModule;return e.wasmModule=null,r(new WebAssembly.Instance(t,a))},self.onunhandledrejection=e=>{throw e.reason??e},self.onmessage=function a(r){try{if("load"===r.data.cmd){let s=[];self.onmessage=e=>s.push(e),self.startWorker=r=>{e=r,postMessage({cmd:"loaded"});for(let e of s)a(e);self.onmessage=a},e.wasmModule=r.data.wasmModule;for(const a of r.data.handlers)e[a]=(...e)=>{postMessage({cmd:"callHandler",handler:a,args:e})};if(e.wasmMemory=r.data.wasmMemory,e.buffer=e.wasmMemory.buffer,e.ENVIRONMENT_IS_PTHREAD=!0,"string"==typeof r.data.urlOrBlob)importScripts(r.data.urlOrBlob);else{var t=URL.createObjectURL(r.data.urlOrBlob);importScripts(t),URL.revokeObjectURL(t)}ortWasmThreaded(e)}else if("run"===r.data.cmd){e.__emscripten_thread_init(r.data.pthread_ptr,0,0,1),e.__emscripten_thread_mailbox_await(r.data.pthread_ptr),e.establishStackSpace(),e.PThread.receiveObjectTransfer(r.data),e.PThread.threadInitTLS(),o||(o=!0);try{e.invokeEntryPoint(r.data.start_routine,r.data.arg)}catch(e){if("unwind"!=e)throw e}}else"cancel"===r.data.cmd?e._pthread_self()&&e.__emscripten_thread_exit(-1):"setimmediate"===r.data.target||("checkMailbox"===r.data.cmd?o&&e.checkMailbox():r.data.cmd&&(d("worker.js received unknown command "+r.data.cmd),d(r.data)))}catch(a){throw e.__emscripten_thread_crashed&&e.__emscripten_thread_crashed(),a}};
`},7067:()=>{},1296:()=>{},760:()=>{},1384:()=>{},3993:()=>{},908:()=>{},6953:()=>{},9925:()=>{},2806:()=>{},6449:()=>{},2850:()=>{},5381:()=>{},685:(i,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.resolveBackend=t.registerBackend=void 0;const s={},u=[];t.registerBackend=(l,d,y)=>{if(!d||typeof d.init!="function"||typeof d.createSessionHandler!="function")throw new TypeError("not a valid backend");{const g=s[l];if(g===void 0)s[l]={backend:d,priority:y};else{if(g.priority>y)return;if(g.priority===y&&g.backend!==d)throw new Error(`cannot register backend "${l}" using priority ${y}`)}if(y>=0){const v=u.indexOf(l);v!==-1&&u.splice(v,1);for(let f=0;f<u.length;f++)if(s[u[f]].priority<=y)return void u.splice(f,0,l);u.push(l)}}},t.resolveBackend=async l=>{const d=l.length===0?u:l,y=[];for(const g of d){const v=s[g];if(v){if(v.initialized)return v.backend;if(v.aborted)continue;const f=!!v.initPromise;try{return f||(v.initPromise=v.backend.init()),await v.initPromise,v.initialized=!0,v.backend}catch(c){f||y.push({name:g,err:c}),v.aborted=!0}finally{delete v.initPromise}}}throw new Error(`no available backend found. ERR: ${y.map(g=>`[${g.name}] ${g.err}`).join(", ")}`)}},4798:(i,t,s)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.registerBackend=void 0;var u=s(685);Object.defineProperty(t,"registerBackend",{enumerable:!0,get:function(){return u.registerBackend}})},3121:(i,t,s)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.env=void 0;const u=s(9104);let l="warning";t.env={wasm:{},webgl:{},webgpu:{},versions:{common:u.version},set logLevel(d){if(d!==void 0){if(typeof d!="string"||["verbose","info","warning","error","fatal"].indexOf(d)===-1)throw new Error(`Unsupported logging level: ${d}`);l=d}},get logLevel(){return l}},Object.defineProperty(t.env,"logLevel",{enumerable:!0})},2457:(i,t,s)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.env=void 0;const u=s(3121);t.env=u.env},2235:function(i,t,s){var u=this&&this.__createBinding||(Object.create?function(d,y,g,v){v===void 0&&(v=g);var f=Object.getOwnPropertyDescriptor(y,g);f&&!("get"in f?!y.__esModule:f.writable||f.configurable)||(f={enumerable:!0,get:function(){return y[g]}}),Object.defineProperty(d,v,f)}:function(d,y,g,v){v===void 0&&(v=g),d[v]=y[g]}),l=this&&this.__exportStar||function(d,y){for(var g in d)g==="default"||Object.prototype.hasOwnProperty.call(y,g)||u(y,d,g)};Object.defineProperty(t,"__esModule",{value:!0}),l(s(4798),t),l(s(2457),t),l(s(3974),t),l(s(963),t),l(s(7852),t)},8036:(i,t,s)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.InferenceSession=void 0;const u=s(685),l=s(963);class d{constructor(g){this.handler=g}async run(g,v,f){const c={};let r={};if(typeof g!="object"||g===null||g instanceof l.Tensor||Array.isArray(g))throw new TypeError("'feeds' must be an object that use input names as keys and OnnxValue as corresponding values.");let e=!0;if(typeof v=="object"){if(v===null)throw new TypeError("Unexpected argument[1]: cannot be null.");if(v instanceof l.Tensor)throw new TypeError("'fetches' cannot be a Tensor");if(Array.isArray(v)){if(v.length===0)throw new TypeError("'fetches' cannot be an empty array.");e=!1;for(const m of v){if(typeof m!="string")throw new TypeError("'fetches' must be a string array or an object.");if(this.outputNames.indexOf(m)===-1)throw new RangeError(`'fetches' contains invalid output name: ${m}.`);c[m]=null}if(typeof f=="object"&&f!==null)r=f;else if(f!==void 0)throw new TypeError("'options' must be an object.")}else{let m=!1;const _=Object.getOwnPropertyNames(v);for(const x of this.outputNames)if(_.indexOf(x)!==-1){const w=v[x];(w===null||w instanceof l.Tensor)&&(m=!0,e=!1,c[x]=w)}if(m){if(typeof f=="object"&&f!==null)r=f;else if(f!==void 0)throw new TypeError("'options' must be an object.")}else r=v}}else if(v!==void 0)throw new TypeError("Unexpected argument[1]: must be 'fetches' or 'options'.");for(const m of this.inputNames)if(g[m]===void 0)throw new Error(`input '${m}' is missing in 'feeds'.`);if(e)for(const m of this.outputNames)c[m]=null;const n=await this.handler.run(g,c,r),o={};for(const m in n)Object.hasOwnProperty.call(n,m)&&(o[m]=new l.Tensor(n[m].type,n[m].data,n[m].dims));return o}async release(){return this.handler.dispose()}static async create(g,v,f,c){let r,e={};if(typeof g=="string"){if(r=g,typeof v=="object"&&v!==null)e=v;else if(v!==void 0)throw new TypeError("'options' must be an object.")}else if(g instanceof Uint8Array){if(r=g,typeof v=="object"&&v!==null)e=v;else if(v!==void 0)throw new TypeError("'options' must be an object.")}else{if(!(g instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&g instanceof SharedArrayBuffer))throw new TypeError("Unexpected argument[0]: must be 'path' or 'buffer'.");{const _=g;let x=0,w=g.byteLength;if(typeof v=="object"&&v!==null)e=v;else if(typeof v=="number"){if(x=v,!Number.isSafeInteger(x))throw new RangeError("'byteOffset' must be an integer.");if(x<0||x>=_.byteLength)throw new RangeError(`'byteOffset' is out of range [0, ${_.byteLength}).`);if(w=g.byteLength-x,typeof f=="number"){if(w=f,!Number.isSafeInteger(w))throw new RangeError("'byteLength' must be an integer.");if(w<=0||x+w>_.byteLength)throw new RangeError(`'byteLength' is out of range (0, ${_.byteLength-x}].`);if(typeof c=="object"&&c!==null)e=c;else if(c!==void 0)throw new TypeError("'options' must be an object.")}else if(f!==void 0)throw new TypeError("'byteLength' must be a number.")}else if(v!==void 0)throw new TypeError("'options' must be an object.");r=new Uint8Array(_,x,w)}}const n=(e.executionProviders||[]).map(_=>typeof _=="string"?_:_.name),o=await(0,u.resolveBackend)(n),m=await o.createSessionHandler(r,e);return new d(m)}startProfiling(){this.handler.startProfiling()}endProfiling(){this.handler.endProfiling()}get inputNames(){return this.handler.inputNames}get outputNames(){return this.handler.outputNames}}t.InferenceSession=d},3974:(i,t,s)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.InferenceSession=void 0;const u=s(8036);t.InferenceSession=u.InferenceSession},7852:(i,t)=>{Object.defineProperty(t,"__esModule",{value:!0})},2350:(i,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.tensorToImageData=t.tensorToDataURL=void 0,t.tensorToDataURL=(s,u)=>{const l=document.createElement("canvas");l.width=s.dims[3],l.height=s.dims[2];const d=l.getContext("2d");if(d!=null){let y,g;(u==null?void 0:u.tensorLayout)!==void 0&&u.tensorLayout==="NHWC"?(y=s.dims[2],g=s.dims[3]):(y=s.dims[3],g=s.dims[2]);const v=(u==null?void 0:u.format)!==void 0?u.format:"RGB",f=u==null?void 0:u.norm;let c,r;f===void 0||f.mean===void 0?c=[255,255,255,255]:typeof f.mean=="number"?c=[f.mean,f.mean,f.mean,f.mean]:(c=[f.mean[0],f.mean[1],f.mean[2],0],f.mean[3]!==void 0&&(c[3]=f.mean[3])),f===void 0||f.bias===void 0?r=[0,0,0,0]:typeof f.bias=="number"?r=[f.bias,f.bias,f.bias,f.bias]:(r=[f.bias[0],f.bias[1],f.bias[2],0],f.bias[3]!==void 0&&(r[3]=f.bias[3]));const e=g*y;let n=0,o=e,m=2*e,_=-1;v==="RGBA"?(n=0,o=e,m=2*e,_=3*e):v==="RGB"?(n=0,o=e,m=2*e):v==="RBG"&&(n=0,m=e,o=2*e);for(let x=0;x<g;x++)for(let w=0;w<y;w++){const S=(s.data[n++]-r[0])*c[0],O=(s.data[o++]-r[1])*c[1],A=(s.data[m++]-r[2])*c[2],I=_===-1?255:(s.data[_++]-r[3])*c[3];d.fillStyle="rgba("+S+","+O+","+A+","+I+")",d.fillRect(w,x,1,1)}return l.toDataURL()}throw new Error("Can not access image data")},t.tensorToImageData=(s,u)=>{const l=document.createElement("canvas").getContext("2d");let d;if(l==null)throw new Error("Can not access image data");{let y,g,v;(u==null?void 0:u.tensorLayout)!==void 0&&u.tensorLayout==="NHWC"?(y=s.dims[2],g=s.dims[1],v=s.dims[3]):(y=s.dims[3],g=s.dims[2],v=s.dims[1]);const f=u!==void 0&&u.format!==void 0?u.format:"RGB",c=u==null?void 0:u.norm;let r,e;c===void 0||c.mean===void 0?r=[255,255,255,255]:typeof c.mean=="number"?r=[c.mean,c.mean,c.mean,c.mean]:(r=[c.mean[0],c.mean[1],c.mean[2],255],c.mean[3]!==void 0&&(r[3]=c.mean[3])),c===void 0||c.bias===void 0?e=[0,0,0,0]:typeof c.bias=="number"?e=[c.bias,c.bias,c.bias,c.bias]:(e=[c.bias[0],c.bias[1],c.bias[2],0],c.bias[3]!==void 0&&(e[3]=c.bias[3]));const n=g*y;if(u!==void 0&&(u.format!==void 0&&v===4&&u.format!=="RGBA"||v===3&&u.format!=="RGB"&&u.format!=="BGR"))throw new Error("Tensor format doesn't match input tensor dims");const o=4;let m=0,_=1,x=2,w=3,S=0,O=n,A=2*n,I=-1;f==="RGBA"?(S=0,O=n,A=2*n,I=3*n):f==="RGB"?(S=0,O=n,A=2*n):f==="RBG"&&(S=0,A=n,O=2*n),d=l.createImageData(y,g);for(let P=0;P<g*y;m+=o,_+=o,x+=o,w+=o,P++)d.data[m]=(s.data[S++]-e[0])*r[0],d.data[_]=(s.data[O++]-e[1])*r[1],d.data[x]=(s.data[A++]-e[2])*r[2],d.data[w]=I===-1?255:(s.data[I++]-e[3])*r[3]}return d}},4866:(i,t,s)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.tensorFromImage=t.bufferToTensor=void 0;const u=s(963);t.bufferToTensor=(l,d)=>{if(l===void 0)throw new Error("Image buffer must be defined");if(d.height===void 0||d.width===void 0)throw new Error("Image height and width must be defined");if(d.tensorLayout==="NHWC")throw new Error("NHWC Tensor layout is not supported yet");const{height:y,width:g}=d,v=d.norm??{mean:255,bias:0};let f,c;f=typeof v.mean=="number"?[v.mean,v.mean,v.mean,v.mean]:[v.mean[0],v.mean[1],v.mean[2],v.mean[3]??255],c=typeof v.bias=="number"?[v.bias,v.bias,v.bias,v.bias]:[v.bias[0],v.bias[1],v.bias[2],v.bias[3]??0];const r=d.format!==void 0?d.format:"RGBA",e=d.tensorFormat!==void 0&&d.tensorFormat!==void 0?d.tensorFormat:"RGB",n=y*g,o=e==="RGBA"?new Float32Array(4*n):new Float32Array(3*n);let m=4,_=0,x=1,w=2,S=3,O=0,A=n,I=2*n,P=-1;r==="RGB"&&(m=3,_=0,x=1,w=2,S=-1),e==="RGBA"?P=3*n:e==="RBG"?(O=0,I=n,A=2*n):e==="BGR"&&(I=0,A=n,O=2*n);for(let L=0;L<n;L++,_+=m,w+=m,x+=m,S+=m)o[O++]=(l[_]+c[0])/f[0],o[A++]=(l[x]+c[1])/f[1],o[I++]=(l[w]+c[2])/f[2],P!==-1&&S!==-1&&(o[P++]=(l[S]+c[3])/f[3]);return e==="RGBA"?new u.Tensor("float32",o,[1,4,y,g]):new u.Tensor("float32",o,[1,3,y,g])},t.tensorFromImage=async(l,d)=>{const y=typeof HTMLImageElement<"u"&&l instanceof HTMLImageElement,g=typeof ImageData<"u"&&l instanceof ImageData,v=typeof ImageBitmap<"u"&&l instanceof ImageBitmap,f=typeof l=="string";let c,r=d??{};if(y){const e=document.createElement("canvas");e.width=l.width,e.height=l.height;const n=e.getContext("2d");if(n==null)throw new Error("Can not access image data");{let o=l.height,m=l.width;if(d!==void 0&&d.resizedHeight!==void 0&&d.resizedWidth!==void 0&&(o=d.resizedHeight,m=d.resizedWidth),d!==void 0){if(r=d,d.tensorFormat!==void 0)throw new Error("Image input config format must be RGBA for HTMLImageElement");r.tensorFormat="RGBA",r.height=o,r.width=m}else r.tensorFormat="RGBA",r.height=o,r.width=m;n.drawImage(l,0,0),c=n.getImageData(0,0,m,o).data}}else{if(!g){if(v){if(d===void 0)throw new Error("Please provide image config with format for Imagebitmap");const e=document.createElement("canvas");e.width=l.width,e.height=l.height;const n=e.getContext("2d");if(n!=null){const o=l.height,m=l.width;return n.drawImage(l,0,0,m,o),c=n.getImageData(0,0,m,o).data,r.height=o,r.width=m,(0,t.bufferToTensor)(c,r)}throw new Error("Can not access image data")}if(f)return new Promise((e,n)=>{const o=document.createElement("canvas"),m=o.getContext("2d");if(!l||!m)return n();const _=new Image;_.crossOrigin="Anonymous",_.src=l,_.onload=()=>{o.width=_.width,o.height=_.height,m.drawImage(_,0,0,o.width,o.height);const x=m.getImageData(0,0,o.width,o.height);r.height=o.height,r.width=o.width,e((0,t.bufferToTensor)(x.data,r))}});throw new Error("Input data provided is not supported - aborted tensor creation")}{let e,n;if(d!==void 0&&d.resizedWidth!==void 0&&d.resizedHeight!==void 0?(e=d.resizedHeight,n=d.resizedWidth):(e=l.height,n=l.width),d!==void 0&&(r=d),r.format="RGBA",r.height=e,r.width=n,d!==void 0){const o=document.createElement("canvas");o.width=n,o.height=e;const m=o.getContext("2d");if(m==null)throw new Error("Can not access image data");m.putImageData(l,0,0),c=m.getImageData(0,0,n,e).data}else c=l.data}}if(c!==void 0)return(0,t.bufferToTensor)(c,r);throw new Error("Input data provided is not supported - aborted tensor creation")}},5957:(i,t,s)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.Tensor=void 0;const u=s(2350),l=s(4866),d=s(106),y=new Map([["float32",Float32Array],["uint8",Uint8Array],["int8",Int8Array],["uint16",Uint16Array],["float16",Uint16Array],["int16",Int16Array],["int32",Int32Array],["bool",Uint8Array],["float64",Float64Array],["uint32",Uint32Array]]),g=new Map([[Float32Array,"float32"],[Uint8Array,"uint8"],[Int8Array,"int8"],[Uint16Array,"uint16"],[Int16Array,"int16"],[Int32Array,"int32"],[Float64Array,"float64"],[Uint32Array,"uint32"]]);let v=!1;t.Tensor=class{constructor(f,c,r){let e,n,o;if((()=>{if(!v){v=!0;const _=typeof BigInt64Array<"u"&&typeof BigInt64Array.from=="function",x=typeof BigUint64Array<"u"&&typeof BigUint64Array.from=="function";_&&(y.set("int64",BigInt64Array),g.set(BigInt64Array,"int64")),x&&(y.set("uint64",BigUint64Array),g.set(BigUint64Array,"uint64"))}})(),typeof f=="string")if(e=f,o=r,f==="string"){if(!Array.isArray(c))throw new TypeError("A string tensor's data must be a string array.");n=c}else{const _=y.get(f);if(_===void 0)throw new TypeError(`Unsupported tensor type: ${f}.`);if(Array.isArray(c)){if(f==="float16")throw new TypeError("Creating a float16 tensor from number array is not supported. Please use Uint16Array as data.");n=f==="uint64"||f==="int64"?_.from(c,BigInt):_.from(c)}else{if(!(c instanceof _))throw new TypeError(`A ${e} tensor's data must be type of ${_}`);n=c}}else if(o=c,Array.isArray(f)){if(f.length===0)throw new TypeError("Tensor type cannot be inferred from an empty array.");const _=typeof f[0];if(_==="string")e="string",n=f;else{if(_!=="boolean")throw new TypeError(`Invalid element type of data array: ${_}.`);e="bool",n=Uint8Array.from(f)}}else{const _=g.get(f.constructor);if(_===void 0)throw new TypeError(`Unsupported type for tensor data: ${f.constructor}.`);e=_,n=f}if(o===void 0)o=[n.length];else if(!Array.isArray(o))throw new TypeError("A tensor's dims must be a number array");const m=(0,d.calculateSize)(o);if(m!==n.length)throw new Error(`Tensor's size(${m}) does not match data length(${n.length}).`);this.dims=o,this.type=e,this.data=n,this.size=m}static async fromImage(f,c){return(0,l.tensorFromImage)(f,c)}toDataURL(f){return(0,u.tensorToDataURL)(this,f)}toImageData(f){return(0,u.tensorToImageData)(this,f)}reshape(f){return(0,d.tensorReshape)(this,f)}}},106:(i,t,s)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.tensorReshape=t.calculateSize=void 0;const u=s(963);t.calculateSize=l=>{let d=1;for(let y=0;y<l.length;y++){const g=l[y];if(typeof g!="number"||!Number.isSafeInteger(g))throw new TypeError(`dims[${y}] must be an integer, got: ${g}`);if(g<0)throw new RangeError(`dims[${y}] must be a non-negative integer, got: ${g}`);d*=g}return d},t.tensorReshape=(l,d)=>new u.Tensor(l.type,l.data,d)},963:(i,t,s)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.Tensor=void 0;const u=s(5957);t.Tensor=u.Tensor},9104:(i,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.version=void 0,t.version="1.16.3"},1583:(i,t)=>{var s,u=function(l){Object.defineProperty(l,"__esModule",{value:!0}),l.default=void 0;var d=null;try{d=new WebAssembly.Instance(new WebAssembly.Module(new Uint8Array([0,97,115,109,1,0,0,0,1,13,2,96,0,1,127,96,4,127,127,127,127,1,127,3,7,6,0,1,1,1,1,1,6,6,1,127,1,65,0,11,7,50,6,3,109,117,108,0,1,5,100,105,118,95,115,0,2,5,100,105,118,95,117,0,3,5,114,101,109,95,115,0,4,5,114,101,109,95,117,0,5,8,103,101,116,95,104,105,103,104,0,0,10,191,1,6,4,0,35,0,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,126,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,127,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,128,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,129,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,130,34,4,66,32,135,167,36,0,32,4,167,11])),{}).exports}catch{}function y(R,M,H){this.low=0|R,this.high=0|M,this.unsigned=!!H}function g(R){return(R&&R.__isLong__)===!0}function v(R){var M=Math.clz32(R&-R);return R?31-M:M}y.prototype.__isLong__,Object.defineProperty(y.prototype,"__isLong__",{value:!0}),y.isLong=g;var f={},c={};function r(R,M){var H,le,he;return M?(he=0<=(R>>>=0)&&R<256)&&(le=c[R])?le:(H=n(R,0,!0),he&&(c[R]=H),H):(he=-128<=(R|=0)&&R<128)&&(le=f[R])?le:(H=n(R,R<0?-1:0,!1),he&&(f[R]=H),H)}function e(R,M){if(isNaN(R))return M?I:A;if(M){if(R<0)return I;if(R>=w)return te}else{if(R<=-S)return Y;if(R+1>=S)return G}return R<0?e(-R,M).neg():n(R%x|0,R/x|0,M)}function n(R,M,H){return new y(R,M,H)}y.fromInt=r,y.fromNumber=e,y.fromBits=n;var o=Math.pow;function m(R,M,H){if(R.length===0)throw Error("empty string");if(typeof M=="number"?(H=M,M=!1):M=!!M,R==="NaN"||R==="Infinity"||R==="+Infinity"||R==="-Infinity")return M?I:A;if((H=H||10)<2||36<H)throw RangeError("radix");var le;if((le=R.indexOf("-"))>0)throw Error("interior hyphen");if(le===0)return m(R.substring(1),M,H).neg();for(var he=e(o(H,8)),Ce=A,we=0;we<R.length;we+=8){var Pe=Math.min(8,R.length-we),Le=parseInt(R.substring(we,we+Pe),H);if(Pe<8){var Be=e(o(H,Pe));Ce=Ce.mul(Be).add(e(Le))}else Ce=(Ce=Ce.mul(he)).add(e(Le))}return Ce.unsigned=M,Ce}function _(R,M){return typeof R=="number"?e(R,M):typeof R=="string"?m(R,M):n(R.low,R.high,typeof M=="boolean"?M:R.unsigned)}y.fromString=m,y.fromValue=_;var x=4294967296,w=x*x,S=w/2,O=r(1<<24),A=r(0);y.ZERO=A;var I=r(0,!0);y.UZERO=I;var P=r(1);y.ONE=P;var L=r(1,!0);y.UONE=L;var U=r(-1);y.NEG_ONE=U;var G=n(-1,2147483647,!1);y.MAX_VALUE=G;var te=n(-1,-1,!0);y.MAX_UNSIGNED_VALUE=te;var Y=n(0,-2147483648,!1);y.MIN_VALUE=Y;var F=y.prototype;F.toInt=function(){return this.unsigned?this.low>>>0:this.low},F.toNumber=function(){return this.unsigned?(this.high>>>0)*x+(this.low>>>0):this.high*x+(this.low>>>0)},F.toString=function(R){if((R=R||10)<2||36<R)throw RangeError("radix");if(this.isZero())return"0";if(this.isNegative()){if(this.eq(Y)){var M=e(R),H=this.div(M),le=H.mul(M).sub(this);return H.toString(R)+le.toInt().toString(R)}return"-"+this.neg().toString(R)}for(var he=e(o(R,6),this.unsigned),Ce=this,we="";;){var Pe=Ce.div(he),Le=(Ce.sub(Pe.mul(he)).toInt()>>>0).toString(R);if((Ce=Pe).isZero())return Le+we;for(;Le.length<6;)Le="0"+Le;we=""+Le+we}},F.getHighBits=function(){return this.high},F.getHighBitsUnsigned=function(){return this.high>>>0},F.getLowBits=function(){return this.low},F.getLowBitsUnsigned=function(){return this.low>>>0},F.getNumBitsAbs=function(){if(this.isNegative())return this.eq(Y)?64:this.neg().getNumBitsAbs();for(var R=this.high!=0?this.high:this.low,M=31;M>0&&!(R&1<<M);M--);return this.high!=0?M+33:M+1},F.isZero=function(){return this.high===0&&this.low===0},F.eqz=F.isZero,F.isNegative=function(){return!this.unsigned&&this.high<0},F.isPositive=function(){return this.unsigned||this.high>=0},F.isOdd=function(){return(1&this.low)==1},F.isEven=function(){return(1&this.low)==0},F.equals=function(R){return g(R)||(R=_(R)),(this.unsigned===R.unsigned||this.high>>>31!=1||R.high>>>31!=1)&&this.high===R.high&&this.low===R.low},F.eq=F.equals,F.notEquals=function(R){return!this.eq(R)},F.neq=F.notEquals,F.ne=F.notEquals,F.lessThan=function(R){return this.comp(R)<0},F.lt=F.lessThan,F.lessThanOrEqual=function(R){return this.comp(R)<=0},F.lte=F.lessThanOrEqual,F.le=F.lessThanOrEqual,F.greaterThan=function(R){return this.comp(R)>0},F.gt=F.greaterThan,F.greaterThanOrEqual=function(R){return this.comp(R)>=0},F.gte=F.greaterThanOrEqual,F.ge=F.greaterThanOrEqual,F.compare=function(R){if(g(R)||(R=_(R)),this.eq(R))return 0;var M=this.isNegative(),H=R.isNegative();return M&&!H?-1:!M&&H?1:this.unsigned?R.high>>>0>this.high>>>0||R.high===this.high&&R.low>>>0>this.low>>>0?-1:1:this.sub(R).isNegative()?-1:1},F.comp=F.compare,F.negate=function(){return!this.unsigned&&this.eq(Y)?Y:this.not().add(P)},F.neg=F.negate,F.add=function(R){g(R)||(R=_(R));var M=this.high>>>16,H=65535&this.high,le=this.low>>>16,he=65535&this.low,Ce=R.high>>>16,we=65535&R.high,Pe=R.low>>>16,Le=0,Be=0,Me=0,je=0;return Me+=(je+=he+(65535&R.low))>>>16,Be+=(Me+=le+Pe)>>>16,Le+=(Be+=H+we)>>>16,Le+=M+Ce,n((Me&=65535)<<16|(je&=65535),(Le&=65535)<<16|(Be&=65535),this.unsigned)},F.subtract=function(R){return g(R)||(R=_(R)),this.add(R.neg())},F.sub=F.subtract,F.multiply=function(R){if(this.isZero())return this;if(g(R)||(R=_(R)),d)return n(d.mul(this.low,this.high,R.low,R.high),d.get_high(),this.unsigned);if(R.isZero())return this.unsigned?I:A;if(this.eq(Y))return R.isOdd()?Y:A;if(R.eq(Y))return this.isOdd()?Y:A;if(this.isNegative())return R.isNegative()?this.neg().mul(R.neg()):this.neg().mul(R).neg();if(R.isNegative())return this.mul(R.neg()).neg();if(this.lt(O)&&R.lt(O))return e(this.toNumber()*R.toNumber(),this.unsigned);var M=this.high>>>16,H=65535&this.high,le=this.low>>>16,he=65535&this.low,Ce=R.high>>>16,we=65535&R.high,Pe=R.low>>>16,Le=65535&R.low,Be=0,Me=0,je=0,Je=0;return je+=(Je+=he*Le)>>>16,Me+=(je+=le*Le)>>>16,je&=65535,Me+=(je+=he*Pe)>>>16,Be+=(Me+=H*Le)>>>16,Me&=65535,Be+=(Me+=le*Pe)>>>16,Me&=65535,Be+=(Me+=he*we)>>>16,Be+=M*Le+H*Pe+le*we+he*Ce,n((je&=65535)<<16|(Je&=65535),(Be&=65535)<<16|(Me&=65535),this.unsigned)},F.mul=F.multiply,F.divide=function(R){if(g(R)||(R=_(R)),R.isZero())throw Error("division by zero");var M,H,le;if(d)return this.unsigned||this.high!==-2147483648||R.low!==-1||R.high!==-1?n((this.unsigned?d.div_u:d.div_s)(this.low,this.high,R.low,R.high),d.get_high(),this.unsigned):this;if(this.isZero())return this.unsigned?I:A;if(this.unsigned){if(R.unsigned||(R=R.toUnsigned()),R.gt(this))return I;if(R.gt(this.shru(1)))return L;le=I}else{if(this.eq(Y))return R.eq(P)||R.eq(U)?Y:R.eq(Y)?P:(M=this.shr(1).div(R).shl(1)).eq(A)?R.isNegative()?P:U:(H=this.sub(R.mul(M)),le=M.add(H.div(R)));if(R.eq(Y))return this.unsigned?I:A;if(this.isNegative())return R.isNegative()?this.neg().div(R.neg()):this.neg().div(R).neg();if(R.isNegative())return this.div(R.neg()).neg();le=A}for(H=this;H.gte(R);){M=Math.max(1,Math.floor(H.toNumber()/R.toNumber()));for(var he=Math.ceil(Math.log(M)/Math.LN2),Ce=he<=48?1:o(2,he-48),we=e(M),Pe=we.mul(R);Pe.isNegative()||Pe.gt(H);)Pe=(we=e(M-=Ce,this.unsigned)).mul(R);we.isZero()&&(we=P),le=le.add(we),H=H.sub(Pe)}return le},F.div=F.divide,F.modulo=function(R){return g(R)||(R=_(R)),d?n((this.unsigned?d.rem_u:d.rem_s)(this.low,this.high,R.low,R.high),d.get_high(),this.unsigned):this.sub(this.div(R).mul(R))},F.mod=F.modulo,F.rem=F.modulo,F.not=function(){return n(~this.low,~this.high,this.unsigned)},F.countLeadingZeros=function(){return this.high?Math.clz32(this.high):Math.clz32(this.low)+32},F.clz=F.countLeadingZeros,F.countTrailingZeros=function(){return this.low?v(this.low):v(this.high)+32},F.ctz=F.countTrailingZeros,F.and=function(R){return g(R)||(R=_(R)),n(this.low&R.low,this.high&R.high,this.unsigned)},F.or=function(R){return g(R)||(R=_(R)),n(this.low|R.low,this.high|R.high,this.unsigned)},F.xor=function(R){return g(R)||(R=_(R)),n(this.low^R.low,this.high^R.high,this.unsigned)},F.shiftLeft=function(R){return g(R)&&(R=R.toInt()),(R&=63)==0?this:R<32?n(this.low<<R,this.high<<R|this.low>>>32-R,this.unsigned):n(0,this.low<<R-32,this.unsigned)},F.shl=F.shiftLeft,F.shiftRight=function(R){return g(R)&&(R=R.toInt()),(R&=63)==0?this:R<32?n(this.low>>>R|this.high<<32-R,this.high>>R,this.unsigned):n(this.high>>R-32,this.high>=0?0:-1,this.unsigned)},F.shr=F.shiftRight,F.shiftRightUnsigned=function(R){return g(R)&&(R=R.toInt()),(R&=63)==0?this:R<32?n(this.low>>>R|this.high<<32-R,this.high>>>R,this.unsigned):n(R===32?this.high:this.high>>>R-32,0,this.unsigned)},F.shru=F.shiftRightUnsigned,F.shr_u=F.shiftRightUnsigned,F.rotateLeft=function(R){var M;return g(R)&&(R=R.toInt()),(R&=63)==0?this:R===32?n(this.high,this.low,this.unsigned):R<32?(M=32-R,n(this.low<<R|this.high>>>M,this.high<<R|this.low>>>M,this.unsigned)):(M=32-(R-=32),n(this.high<<R|this.low>>>M,this.low<<R|this.high>>>M,this.unsigned))},F.rotl=F.rotateLeft,F.rotateRight=function(R){var M;return g(R)&&(R=R.toInt()),(R&=63)==0?this:R===32?n(this.high,this.low,this.unsigned):R<32?(M=32-R,n(this.high<<M|this.low>>>R,this.low<<M|this.high>>>R,this.unsigned)):(M=32-(R-=32),n(this.low<<M|this.high>>>R,this.high<<M|this.low>>>R,this.unsigned))},F.rotr=F.rotateRight,F.toSigned=function(){return this.unsigned?n(this.low,this.high,!1):this},F.toUnsigned=function(){return this.unsigned?this:n(this.low,this.high,!0)},F.toBytes=function(R){return R?this.toBytesLE():this.toBytesBE()},F.toBytesLE=function(){var R=this.high,M=this.low;return[255&M,M>>>8&255,M>>>16&255,M>>>24,255&R,R>>>8&255,R>>>16&255,R>>>24]},F.toBytesBE=function(){var R=this.high,M=this.low;return[R>>>24,R>>>16&255,R>>>8&255,255&R,M>>>24,M>>>16&255,M>>>8&255,255&M]},y.fromBytes=function(R,M,H){return H?y.fromBytesLE(R,M):y.fromBytesBE(R,M)},y.fromBytesLE=function(R,M){return new y(R[0]|R[1]<<8|R[2]<<16|R[3]<<24,R[4]|R[5]<<8|R[6]<<16|R[7]<<24,M)},y.fromBytesBE=function(R,M){return new y(R[4]<<24|R[5]<<16|R[6]<<8|R[7],R[0]<<24|R[1]<<16|R[2]<<8|R[3],M)};var re=y;return l.default=re,"default"in l?l.default:l}({});(s=(function(){return u}).apply(t,[]))===void 0||(i.exports=s)},5686:(i,t,s)=>{s.r(t),s.d(t,{flatbuffers:()=>u});var u={};u.Offset,u.Table,u.SIZEOF_SHORT=2,u.SIZEOF_INT=4,u.FILE_IDENTIFIER_LENGTH=4,u.SIZE_PREFIX_LENGTH=4,u.Encoding={UTF8_BYTES:1,UTF16_STRING:2},u.int32=new Int32Array(2),u.float32=new Float32Array(u.int32.buffer),u.float64=new Float64Array(u.int32.buffer),u.isLittleEndian=new Uint16Array(new Uint8Array([1,0]).buffer)[0]===1,u.Long=function(l,d){this.low=0|l,this.high=0|d},u.Long.create=function(l,d){return l==0&&d==0?u.Long.ZERO:new u.Long(l,d)},u.Long.prototype.toFloat64=function(){return(this.low>>>0)+4294967296*this.high},u.Long.prototype.equals=function(l){return this.low==l.low&&this.high==l.high},u.Long.ZERO=new u.Long(0,0),u.Builder=function(l){if(l)d=l;else var d=1024;this.bb=u.ByteBuffer.allocate(d),this.space=d,this.minalign=1,this.vtable=null,this.vtable_in_use=0,this.isNested=!1,this.object_start=0,this.vtables=[],this.vector_num_elems=0,this.force_defaults=!1},u.Builder.prototype.clear=function(){this.bb.clear(),this.space=this.bb.capacity(),this.minalign=1,this.vtable=null,this.vtable_in_use=0,this.isNested=!1,this.object_start=0,this.vtables=[],this.vector_num_elems=0,this.force_defaults=!1},u.Builder.prototype.forceDefaults=function(l){this.force_defaults=l},u.Builder.prototype.dataBuffer=function(){return this.bb},u.Builder.prototype.asUint8Array=function(){return this.bb.bytes().subarray(this.bb.position(),this.bb.position()+this.offset())},u.Builder.prototype.prep=function(l,d){l>this.minalign&&(this.minalign=l);for(var y=1+~(this.bb.capacity()-this.space+d)&l-1;this.space<y+l+d;){var g=this.bb.capacity();this.bb=u.Builder.growByteBuffer(this.bb),this.space+=this.bb.capacity()-g}this.pad(y)},u.Builder.prototype.pad=function(l){for(var d=0;d<l;d++)this.bb.writeInt8(--this.space,0)},u.Builder.prototype.writeInt8=function(l){this.bb.writeInt8(this.space-=1,l)},u.Builder.prototype.writeInt16=function(l){this.bb.writeInt16(this.space-=2,l)},u.Builder.prototype.writeInt32=function(l){this.bb.writeInt32(this.space-=4,l)},u.Builder.prototype.writeInt64=function(l){this.bb.writeInt64(this.space-=8,l)},u.Builder.prototype.writeFloat32=function(l){this.bb.writeFloat32(this.space-=4,l)},u.Builder.prototype.writeFloat64=function(l){this.bb.writeFloat64(this.space-=8,l)},u.Builder.prototype.addInt8=function(l){this.prep(1,0),this.writeInt8(l)},u.Builder.prototype.addInt16=function(l){this.prep(2,0),this.writeInt16(l)},u.Builder.prototype.addInt32=function(l){this.prep(4,0),this.writeInt32(l)},u.Builder.prototype.addInt64=function(l){this.prep(8,0),this.writeInt64(l)},u.Builder.prototype.addFloat32=function(l){this.prep(4,0),this.writeFloat32(l)},u.Builder.prototype.addFloat64=function(l){this.prep(8,0),this.writeFloat64(l)},u.Builder.prototype.addFieldInt8=function(l,d,y){(this.force_defaults||d!=y)&&(this.addInt8(d),this.slot(l))},u.Builder.prototype.addFieldInt16=function(l,d,y){(this.force_defaults||d!=y)&&(this.addInt16(d),this.slot(l))},u.Builder.prototype.addFieldInt32=function(l,d,y){(this.force_defaults||d!=y)&&(this.addInt32(d),this.slot(l))},u.Builder.prototype.addFieldInt64=function(l,d,y){!this.force_defaults&&d.equals(y)||(this.addInt64(d),this.slot(l))},u.Builder.prototype.addFieldFloat32=function(l,d,y){(this.force_defaults||d!=y)&&(this.addFloat32(d),this.slot(l))},u.Builder.prototype.addFieldFloat64=function(l,d,y){(this.force_defaults||d!=y)&&(this.addFloat64(d),this.slot(l))},u.Builder.prototype.addFieldOffset=function(l,d,y){(this.force_defaults||d!=y)&&(this.addOffset(d),this.slot(l))},u.Builder.prototype.addFieldStruct=function(l,d,y){d!=y&&(this.nested(d),this.slot(l))},u.Builder.prototype.nested=function(l){if(l!=this.offset())throw new Error("FlatBuffers: struct must be serialized inline.")},u.Builder.prototype.notNested=function(){if(this.isNested)throw new Error("FlatBuffers: object serialization must not be nested.")},u.Builder.prototype.slot=function(l){this.vtable[l]=this.offset()},u.Builder.prototype.offset=function(){return this.bb.capacity()-this.space},u.Builder.growByteBuffer=function(l){var d=l.capacity();if(3221225472&d)throw new Error("FlatBuffers: cannot grow buffer beyond 2 gigabytes.");var y=d<<1,g=u.ByteBuffer.allocate(y);return g.setPosition(y-d),g.bytes().set(l.bytes(),y-d),g},u.Builder.prototype.addOffset=function(l){this.prep(u.SIZEOF_INT,0),this.writeInt32(this.offset()-l+u.SIZEOF_INT)},u.Builder.prototype.startObject=function(l){this.notNested(),this.vtable==null&&(this.vtable=[]),this.vtable_in_use=l;for(var d=0;d<l;d++)this.vtable[d]=0;this.isNested=!0,this.object_start=this.offset()},u.Builder.prototype.endObject=function(){if(this.vtable==null||!this.isNested)throw new Error("FlatBuffers: endObject called without startObject");this.addInt32(0);for(var l=this.offset(),d=this.vtable_in_use-1;d>=0&&this.vtable[d]==0;d--);for(var y=d+1;d>=0;d--)this.addInt16(this.vtable[d]!=0?l-this.vtable[d]:0);this.addInt16(l-this.object_start);var g=(y+2)*u.SIZEOF_SHORT;this.addInt16(g);var v=0,f=this.space;e:for(d=0;d<this.vtables.length;d++){var c=this.bb.capacity()-this.vtables[d];if(g==this.bb.readInt16(c)){for(var r=u.SIZEOF_SHORT;r<g;r+=u.SIZEOF_SHORT)if(this.bb.readInt16(f+r)!=this.bb.readInt16(c+r))continue e;v=this.vtables[d];break}}return v?(this.space=this.bb.capacity()-l,this.bb.writeInt32(this.space,v-l)):(this.vtables.push(this.offset()),this.bb.writeInt32(this.bb.capacity()-l,this.offset()-l)),this.isNested=!1,l},u.Builder.prototype.finish=function(l,d,y){var g=y?u.SIZE_PREFIX_LENGTH:0;if(d){var v=d;if(this.prep(this.minalign,u.SIZEOF_INT+u.FILE_IDENTIFIER_LENGTH+g),v.length!=u.FILE_IDENTIFIER_LENGTH)throw new Error("FlatBuffers: file identifier must be length "+u.FILE_IDENTIFIER_LENGTH);for(var f=u.FILE_IDENTIFIER_LENGTH-1;f>=0;f--)this.writeInt8(v.charCodeAt(f))}this.prep(this.minalign,u.SIZEOF_INT+g),this.addOffset(l),g&&this.addInt32(this.bb.capacity()-this.space),this.bb.setPosition(this.space)},u.Builder.prototype.finishSizePrefixed=function(l,d){this.finish(l,d,!0)},u.Builder.prototype.requiredField=function(l,d){var y=this.bb.capacity()-l,g=y-this.bb.readInt32(y);if(this.bb.readInt16(g+d)==0)throw new Error("FlatBuffers: field "+d+" must be set")},u.Builder.prototype.startVector=function(l,d,y){this.notNested(),this.vector_num_elems=d,this.prep(u.SIZEOF_INT,l*d),this.prep(y,l*d)},u.Builder.prototype.endVector=function(){return this.writeInt32(this.vector_num_elems),this.offset()},u.Builder.prototype.createString=function(l){if(l instanceof Uint8Array)var d=l;else{d=[];for(var y=0;y<l.length;){var g,v=l.charCodeAt(y++);(g=v<55296||v>=56320?v:(v<<10)+l.charCodeAt(y++)+-56613888)<128?d.push(g):(g<2048?d.push(g>>6&31|192):(g<65536?d.push(g>>12&15|224):d.push(g>>18&7|240,g>>12&63|128),d.push(g>>6&63|128)),d.push(63&g|128))}}this.addInt8(0),this.startVector(1,d.length,1),this.bb.setPosition(this.space-=d.length),y=0;for(var f=this.space,c=this.bb.bytes();y<d.length;y++)c[f++]=d[y];return this.endVector()},u.Builder.prototype.createLong=function(l,d){return u.Long.create(l,d)},u.ByteBuffer=function(l){this.bytes_=l,this.position_=0},u.ByteBuffer.allocate=function(l){return new u.ByteBuffer(new Uint8Array(l))},u.ByteBuffer.prototype.clear=function(){this.position_=0},u.ByteBuffer.prototype.bytes=function(){return this.bytes_},u.ByteBuffer.prototype.position=function(){return this.position_},u.ByteBuffer.prototype.setPosition=function(l){this.position_=l},u.ByteBuffer.prototype.capacity=function(){return this.bytes_.length},u.ByteBuffer.prototype.readInt8=function(l){return this.readUint8(l)<<24>>24},u.ByteBuffer.prototype.readUint8=function(l){return this.bytes_[l]},u.ByteBuffer.prototype.readInt16=function(l){return this.readUint16(l)<<16>>16},u.ByteBuffer.prototype.readUint16=function(l){return this.bytes_[l]|this.bytes_[l+1]<<8},u.ByteBuffer.prototype.readInt32=function(l){return this.bytes_[l]|this.bytes_[l+1]<<8|this.bytes_[l+2]<<16|this.bytes_[l+3]<<24},u.ByteBuffer.prototype.readUint32=function(l){return this.readInt32(l)>>>0},u.ByteBuffer.prototype.readInt64=function(l){return new u.Long(this.readInt32(l),this.readInt32(l+4))},u.ByteBuffer.prototype.readUint64=function(l){return new u.Long(this.readUint32(l),this.readUint32(l+4))},u.ByteBuffer.prototype.readFloat32=function(l){return u.int32[0]=this.readInt32(l),u.float32[0]},u.ByteBuffer.prototype.readFloat64=function(l){return u.int32[u.isLittleEndian?0:1]=this.readInt32(l),u.int32[u.isLittleEndian?1:0]=this.readInt32(l+4),u.float64[0]},u.ByteBuffer.prototype.writeInt8=function(l,d){this.bytes_[l]=d},u.ByteBuffer.prototype.writeUint8=function(l,d){this.bytes_[l]=d},u.ByteBuffer.prototype.writeInt16=function(l,d){this.bytes_[l]=d,this.bytes_[l+1]=d>>8},u.ByteBuffer.prototype.writeUint16=function(l,d){this.bytes_[l]=d,this.bytes_[l+1]=d>>8},u.ByteBuffer.prototype.writeInt32=function(l,d){this.bytes_[l]=d,this.bytes_[l+1]=d>>8,this.bytes_[l+2]=d>>16,this.bytes_[l+3]=d>>24},u.ByteBuffer.prototype.writeUint32=function(l,d){this.bytes_[l]=d,this.bytes_[l+1]=d>>8,this.bytes_[l+2]=d>>16,this.bytes_[l+3]=d>>24},u.ByteBuffer.prototype.writeInt64=function(l,d){this.writeInt32(l,d.low),this.writeInt32(l+4,d.high)},u.ByteBuffer.prototype.writeUint64=function(l,d){this.writeUint32(l,d.low),this.writeUint32(l+4,d.high)},u.ByteBuffer.prototype.writeFloat32=function(l,d){u.float32[0]=d,this.writeInt32(l,u.int32[0])},u.ByteBuffer.prototype.writeFloat64=function(l,d){u.float64[0]=d,this.writeInt32(l,u.int32[u.isLittleEndian?0:1]),this.writeInt32(l+4,u.int32[u.isLittleEndian?1:0])},u.ByteBuffer.prototype.getBufferIdentifier=function(){if(this.bytes_.length<this.position_+u.SIZEOF_INT+u.FILE_IDENTIFIER_LENGTH)throw new Error("FlatBuffers: ByteBuffer is too short to contain an identifier.");for(var l="",d=0;d<u.FILE_IDENTIFIER_LENGTH;d++)l+=String.fromCharCode(this.readInt8(this.position_+u.SIZEOF_INT+d));return l},u.ByteBuffer.prototype.__offset=function(l,d){var y=l-this.readInt32(l);return d<this.readInt16(y)?this.readInt16(y+d):0},u.ByteBuffer.prototype.__union=function(l,d){return l.bb_pos=d+this.readInt32(d),l.bb=this,l},u.ByteBuffer.prototype.__string=function(l,d){l+=this.readInt32(l);var y=this.readInt32(l),g="",v=0;if(l+=u.SIZEOF_INT,d===u.Encoding.UTF8_BYTES)return this.bytes_.subarray(l,l+y);for(;v<y;){var f,c=this.readUint8(l+v++);if(c<192)f=c;else{var r=this.readUint8(l+v++);if(c<224)f=(31&c)<<6|63&r;else{var e=this.readUint8(l+v++);f=c<240?(15&c)<<12|(63&r)<<6|63&e:(7&c)<<18|(63&r)<<12|(63&e)<<6|63&this.readUint8(l+v++)}}f<65536?g+=String.fromCharCode(f):(f-=65536,g+=String.fromCharCode(55296+(f>>10),56320+(1023&f)))}return g},u.ByteBuffer.prototype.__indirect=function(l){return l+this.readInt32(l)},u.ByteBuffer.prototype.__vector=function(l){return l+this.readInt32(l)+u.SIZEOF_INT},u.ByteBuffer.prototype.__vector_len=function(l){return this.readInt32(l+this.readInt32(l))},u.ByteBuffer.prototype.__has_identifier=function(l){if(l.length!=u.FILE_IDENTIFIER_LENGTH)throw new Error("FlatBuffers: file identifier must be length "+u.FILE_IDENTIFIER_LENGTH);for(var d=0;d<u.FILE_IDENTIFIER_LENGTH;d++)if(l.charCodeAt(d)!=this.readInt8(this.position_+u.SIZEOF_INT+d))return!1;return!0},u.ByteBuffer.prototype.createLong=function(l,d){return u.Long.create(l,d)}}},__webpack_module_cache__={};function __webpack_require__(i){var t=__webpack_module_cache__[i];if(t!==void 0)return t.exports;var s=__webpack_module_cache__[i]={exports:{}};return __webpack_modules__[i].call(s.exports,s,s.exports,__webpack_require__),s.exports}__webpack_require__.n=i=>{var t=i&&i.__esModule?()=>i.default:()=>i;return __webpack_require__.d(t,{a:t}),t},__webpack_require__.d=(i,t)=>{for(var s in t)__webpack_require__.o(t,s)&&!__webpack_require__.o(i,s)&&Object.defineProperty(i,s,{enumerable:!0,get:t[s]})},__webpack_require__.o=(i,t)=>Object.prototype.hasOwnProperty.call(i,t),__webpack_require__.r=i=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(i,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(i,"__esModule",{value:!0})};var __webpack_exports__=__webpack_require__(1057);return __webpack_exports__})())})(ort_min);var ort_minExports=ort_min.exports,util;(function(i){i.assertEqual=l=>l;function t(l){}i.assertIs=t;function s(l){throw new Error}i.assertNever=s,i.arrayToEnum=l=>{const d={};for(const y of l)d[y]=y;return d},i.getValidEnumValues=l=>{const d=i.objectKeys(l).filter(g=>typeof l[l[g]]!="number"),y={};for(const g of d)y[g]=l[g];return i.objectValues(y)},i.objectValues=l=>i.objectKeys(l).map(function(d){return l[d]}),i.objectKeys=typeof Object.keys=="function"?l=>Object.keys(l):l=>{const d=[];for(const y in l)Object.prototype.hasOwnProperty.call(l,y)&&d.push(y);return d},i.find=(l,d)=>{for(const y of l)if(d(y))return y},i.isInteger=typeof Number.isInteger=="function"?l=>Number.isInteger(l):l=>typeof l=="number"&&isFinite(l)&&Math.floor(l)===l;function u(l,d=" | "){return l.map(y=>typeof y=="string"?`'${y}'`:y).join(d)}i.joinValues=u,i.jsonStringifyReplacer=(l,d)=>typeof d=="bigint"?d.toString():d})(util||(util={}));var objectUtil;(function(i){i.mergeShapes=(t,s)=>({...t,...s})})(objectUtil||(objectUtil={}));const ZodParsedType=util.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),getParsedType=i=>{switch(typeof i){case"undefined":return ZodParsedType.undefined;case"string":return ZodParsedType.string;case"number":return isNaN(i)?ZodParsedType.nan:ZodParsedType.number;case"boolean":return ZodParsedType.boolean;case"function":return ZodParsedType.function;case"bigint":return ZodParsedType.bigint;case"symbol":return ZodParsedType.symbol;case"object":return Array.isArray(i)?ZodParsedType.array:i===null?ZodParsedType.null:i.then&&typeof i.then=="function"&&i.catch&&typeof i.catch=="function"?ZodParsedType.promise:typeof Map<"u"&&i instanceof Map?ZodParsedType.map:typeof Set<"u"&&i instanceof Set?ZodParsedType.set:typeof Date<"u"&&i instanceof Date?ZodParsedType.date:ZodParsedType.object;default:return ZodParsedType.unknown}},ZodIssueCode=util.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]),quotelessJson=i=>JSON.stringify(i,null,2).replace(/"([^"]+)":/g,"$1:");class ZodError extends Error{constructor(t){super(),this.issues=[],this.addIssue=u=>{this.issues=[...this.issues,u]},this.addIssues=(u=[])=>{this.issues=[...this.issues,...u]};const s=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,s):this.__proto__=s,this.name="ZodError",this.issues=t}get errors(){return this.issues}format(t){const s=t||function(d){return d.message},u={_errors:[]},l=d=>{for(const y of d.issues)if(y.code==="invalid_union")y.unionErrors.map(l);else if(y.code==="invalid_return_type")l(y.returnTypeError);else if(y.code==="invalid_arguments")l(y.argumentsError);else if(y.path.length===0)u._errors.push(s(y));else{let g=u,v=0;for(;v<y.path.length;){const f=y.path[v];v===y.path.length-1?(g[f]=g[f]||{_errors:[]},g[f]._errors.push(s(y))):g[f]=g[f]||{_errors:[]},g=g[f],v++}}};return l(this),u}toString(){return this.message}get message(){return JSON.stringify(this.issues,util.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(t=s=>s.message){const s={},u=[];for(const l of this.issues)l.path.length>0?(s[l.path[0]]=s[l.path[0]]||[],s[l.path[0]].push(t(l))):u.push(t(l));return{formErrors:u,fieldErrors:s}}get formErrors(){return this.flatten()}}ZodError.create=i=>new ZodError(i);const errorMap=(i,t)=>{let s;switch(i.code){case ZodIssueCode.invalid_type:i.received===ZodParsedType.undefined?s="Required":s=`Expected ${i.expected}, received ${i.received}`;break;case ZodIssueCode.invalid_literal:s=`Invalid literal value, expected ${JSON.stringify(i.expected,util.jsonStringifyReplacer)}`;break;case ZodIssueCode.unrecognized_keys:s=`Unrecognized key(s) in object: ${util.joinValues(i.keys,", ")}`;break;case ZodIssueCode.invalid_union:s="Invalid input";break;case ZodIssueCode.invalid_union_discriminator:s=`Invalid discriminator value. Expected ${util.joinValues(i.options)}`;break;case ZodIssueCode.invalid_enum_value:s=`Invalid enum value. Expected ${util.joinValues(i.options)}, received '${i.received}'`;break;case ZodIssueCode.invalid_arguments:s="Invalid function arguments";break;case ZodIssueCode.invalid_return_type:s="Invalid function return type";break;case ZodIssueCode.invalid_date:s="Invalid date";break;case ZodIssueCode.invalid_string:typeof i.validation=="object"?"includes"in i.validation?(s=`Invalid input: must include "${i.validation.includes}"`,typeof i.validation.position=="number"&&(s=`${s} at one or more positions greater than or equal to ${i.validation.position}`)):"startsWith"in i.validation?s=`Invalid input: must start with "${i.validation.startsWith}"`:"endsWith"in i.validation?s=`Invalid input: must end with "${i.validation.endsWith}"`:util.assertNever(i.validation):i.validation!=="regex"?s=`Invalid ${i.validation}`:s="Invalid";break;case ZodIssueCode.too_small:i.type==="array"?s=`Array must contain ${i.exact?"exactly":i.inclusive?"at least":"more than"} ${i.minimum} element(s)`:i.type==="string"?s=`String must contain ${i.exact?"exactly":i.inclusive?"at least":"over"} ${i.minimum} character(s)`:i.type==="number"?s=`Number must be ${i.exact?"exactly equal to ":i.inclusive?"greater than or equal to ":"greater than "}${i.minimum}`:i.type==="date"?s=`Date must be ${i.exact?"exactly equal to ":i.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(i.minimum))}`:s="Invalid input";break;case ZodIssueCode.too_big:i.type==="array"?s=`Array must contain ${i.exact?"exactly":i.inclusive?"at most":"less than"} ${i.maximum} element(s)`:i.type==="string"?s=`String must contain ${i.exact?"exactly":i.inclusive?"at most":"under"} ${i.maximum} character(s)`:i.type==="number"?s=`Number must be ${i.exact?"exactly":i.inclusive?"less than or equal to":"less than"} ${i.maximum}`:i.type==="bigint"?s=`BigInt must be ${i.exact?"exactly":i.inclusive?"less than or equal to":"less than"} ${i.maximum}`:i.type==="date"?s=`Date must be ${i.exact?"exactly":i.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(i.maximum))}`:s="Invalid input";break;case ZodIssueCode.custom:s="Invalid input";break;case ZodIssueCode.invalid_intersection_types:s="Intersection results could not be merged";break;case ZodIssueCode.not_multiple_of:s=`Number must be a multiple of ${i.multipleOf}`;break;case ZodIssueCode.not_finite:s="Number must be finite";break;default:s=t.defaultError,util.assertNever(i)}return{message:s}};let overrideErrorMap=errorMap;function setErrorMap(i){overrideErrorMap=i}function getErrorMap(){return overrideErrorMap}const makeIssue=i=>{const{data:t,path:s,errorMaps:u,issueData:l}=i,d=[...s,...l.path||[]],y={...l,path:d};let g="";const v=u.filter(f=>!!f).slice().reverse();for(const f of v)g=f(y,{data:t,defaultError:g}).message;return{...l,path:d,message:l.message||g}},EMPTY_PATH=[];function addIssueToContext(i,t){const s=makeIssue({issueData:t,data:i.data,path:i.path,errorMaps:[i.common.contextualErrorMap,i.schemaErrorMap,getErrorMap(),errorMap].filter(u=>!!u)});i.common.issues.push(s)}class ParseStatus{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(t,s){const u=[];for(const l of s){if(l.status==="aborted")return INVALID;l.status==="dirty"&&t.dirty(),u.push(l.value)}return{status:t.value,value:u}}static async mergeObjectAsync(t,s){const u=[];for(const l of s)u.push({key:await l.key,value:await l.value});return ParseStatus.mergeObjectSync(t,u)}static mergeObjectSync(t,s){const u={};for(const l of s){const{key:d,value:y}=l;if(d.status==="aborted"||y.status==="aborted")return INVALID;d.status==="dirty"&&t.dirty(),y.status==="dirty"&&t.dirty(),d.value!=="__proto__"&&(typeof y.value<"u"||l.alwaysSet)&&(u[d.value]=y.value)}return{status:t.value,value:u}}}const INVALID=Object.freeze({status:"aborted"}),DIRTY=i=>({status:"dirty",value:i}),OK=i=>({status:"valid",value:i}),isAborted=i=>i.status==="aborted",isDirty=i=>i.status==="dirty",isValid=i=>i.status==="valid",isAsync=i=>typeof Promise<"u"&&i instanceof Promise;var errorUtil;(function(i){i.errToObj=t=>typeof t=="string"?{message:t}:t||{},i.toString=t=>typeof t=="string"?t:t==null?void 0:t.message})(errorUtil||(errorUtil={}));class ParseInputLazyPath{constructor(t,s,u,l){this._cachedPath=[],this.parent=t,this.data=s,this._path=u,this._key=l}get path(){return this._cachedPath.length||(this._key instanceof Array?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const handleResult=(i,t)=>{if(isValid(t))return{success:!0,data:t.value};if(!i.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const s=new ZodError(i.common.issues);return this._error=s,this._error}}};function processCreateParams(i){if(!i)return{};const{errorMap:t,invalid_type_error:s,required_error:u,description:l}=i;if(t&&(s||u))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return t?{errorMap:t,description:l}:{errorMap:(y,g)=>y.code!=="invalid_type"?{message:g.defaultError}:typeof g.data>"u"?{message:u??g.defaultError}:{message:s??g.defaultError},description:l}}class ZodType{constructor(t){this.spa=this.safeParseAsync,this._def=t,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this)}get description(){return this._def.description}_getType(t){return getParsedType(t.data)}_getOrReturnCtx(t,s){return s||{common:t.parent.common,data:t.data,parsedType:getParsedType(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}_processInputParams(t){return{status:new ParseStatus,ctx:{common:t.parent.common,data:t.data,parsedType:getParsedType(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}}_parseSync(t){const s=this._parse(t);if(isAsync(s))throw new Error("Synchronous parse encountered promise.");return s}_parseAsync(t){const s=this._parse(t);return Promise.resolve(s)}parse(t,s){const u=this.safeParse(t,s);if(u.success)return u.data;throw u.error}safeParse(t,s){var u;const l={common:{issues:[],async:(u=s==null?void 0:s.async)!==null&&u!==void 0?u:!1,contextualErrorMap:s==null?void 0:s.errorMap},path:(s==null?void 0:s.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:getParsedType(t)},d=this._parseSync({data:t,path:l.path,parent:l});return handleResult(l,d)}async parseAsync(t,s){const u=await this.safeParseAsync(t,s);if(u.success)return u.data;throw u.error}async safeParseAsync(t,s){const u={common:{issues:[],contextualErrorMap:s==null?void 0:s.errorMap,async:!0},path:(s==null?void 0:s.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:getParsedType(t)},l=this._parse({data:t,path:u.path,parent:u}),d=await(isAsync(l)?l:Promise.resolve(l));return handleResult(u,d)}refine(t,s){const u=l=>typeof s=="string"||typeof s>"u"?{message:s}:typeof s=="function"?s(l):s;return this._refinement((l,d)=>{const y=t(l),g=()=>d.addIssue({code:ZodIssueCode.custom,...u(l)});return typeof Promise<"u"&&y instanceof Promise?y.then(v=>v?!0:(g(),!1)):y?!0:(g(),!1)})}refinement(t,s){return this._refinement((u,l)=>t(u)?!0:(l.addIssue(typeof s=="function"?s(u,l):s),!1))}_refinement(t){return new ZodEffects({schema:this,typeName:ZodFirstPartyTypeKind.ZodEffects,effect:{type:"refinement",refinement:t}})}superRefine(t){return this._refinement(t)}optional(){return ZodOptional.create(this,this._def)}nullable(){return ZodNullable.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return ZodArray.create(this,this._def)}promise(){return ZodPromise.create(this,this._def)}or(t){return ZodUnion.create([this,t],this._def)}and(t){return ZodIntersection.create(this,t,this._def)}transform(t){return new ZodEffects({...processCreateParams(this._def),schema:this,typeName:ZodFirstPartyTypeKind.ZodEffects,effect:{type:"transform",transform:t}})}default(t){const s=typeof t=="function"?t:()=>t;return new ZodDefault({...processCreateParams(this._def),innerType:this,defaultValue:s,typeName:ZodFirstPartyTypeKind.ZodDefault})}brand(){return new ZodBranded({typeName:ZodFirstPartyTypeKind.ZodBranded,type:this,...processCreateParams(this._def)})}catch(t){const s=typeof t=="function"?t:()=>t;return new ZodCatch({...processCreateParams(this._def),innerType:this,catchValue:s,typeName:ZodFirstPartyTypeKind.ZodCatch})}describe(t){const s=this.constructor;return new s({...this._def,description:t})}pipe(t){return ZodPipeline.create(this,t)}readonly(){return ZodReadonly.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const cuidRegex=/^c[^\s-]{8,}$/i,cuid2Regex=/^[a-z][a-z0-9]*$/,ulidRegex=/^[0-9A-HJKMNP-TV-Z]{26}$/,uuidRegex=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,emailRegex=/^(?!\.)(?!.*\.\.)([A-Z0-9_+-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,_emojiRegex="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let emojiRegex;const ipv4Regex=/^(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))$/,ipv6Regex=/^(([a-f0-9]{1,4}:){7}|::([a-f0-9]{1,4}:){0,6}|([a-f0-9]{1,4}:){1}:([a-f0-9]{1,4}:){0,5}|([a-f0-9]{1,4}:){2}:([a-f0-9]{1,4}:){0,4}|([a-f0-9]{1,4}:){3}:([a-f0-9]{1,4}:){0,3}|([a-f0-9]{1,4}:){4}:([a-f0-9]{1,4}:){0,2}|([a-f0-9]{1,4}:){5}:([a-f0-9]{1,4}:){0,1})([a-f0-9]{1,4}|(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2})))$/,datetimeRegex=i=>i.precision?i.offset?new RegExp(`^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}\\.\\d{${i.precision}}(([+-]\\d{2}(:?\\d{2})?)|Z)$`):new RegExp(`^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}\\.\\d{${i.precision}}Z$`):i.precision===0?i.offset?new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(([+-]\\d{2}(:?\\d{2})?)|Z)$"):new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}Z$"):i.offset?new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(\\.\\d+)?(([+-]\\d{2}(:?\\d{2})?)|Z)$"):new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(\\.\\d+)?Z$");function isValidIP(i,t){return!!((t==="v4"||!t)&&ipv4Regex.test(i)||(t==="v6"||!t)&&ipv6Regex.test(i))}class ZodString extends ZodType{_parse(t){if(this._def.coerce&&(t.data=String(t.data)),this._getType(t)!==ZodParsedType.string){const d=this._getOrReturnCtx(t);return addIssueToContext(d,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.string,received:d.parsedType}),INVALID}const u=new ParseStatus;let l;for(const d of this._def.checks)if(d.kind==="min")t.data.length<d.value&&(l=this._getOrReturnCtx(t,l),addIssueToContext(l,{code:ZodIssueCode.too_small,minimum:d.value,type:"string",inclusive:!0,exact:!1,message:d.message}),u.dirty());else if(d.kind==="max")t.data.length>d.value&&(l=this._getOrReturnCtx(t,l),addIssueToContext(l,{code:ZodIssueCode.too_big,maximum:d.value,type:"string",inclusive:!0,exact:!1,message:d.message}),u.dirty());else if(d.kind==="length"){const y=t.data.length>d.value,g=t.data.length<d.value;(y||g)&&(l=this._getOrReturnCtx(t,l),y?addIssueToContext(l,{code:ZodIssueCode.too_big,maximum:d.value,type:"string",inclusive:!0,exact:!0,message:d.message}):g&&addIssueToContext(l,{code:ZodIssueCode.too_small,minimum:d.value,type:"string",inclusive:!0,exact:!0,message:d.message}),u.dirty())}else if(d.kind==="email")emailRegex.test(t.data)||(l=this._getOrReturnCtx(t,l),addIssueToContext(l,{validation:"email",code:ZodIssueCode.invalid_string,message:d.message}),u.dirty());else if(d.kind==="emoji")emojiRegex||(emojiRegex=new RegExp(_emojiRegex,"u")),emojiRegex.test(t.data)||(l=this._getOrReturnCtx(t,l),addIssueToContext(l,{validation:"emoji",code:ZodIssueCode.invalid_string,message:d.message}),u.dirty());else if(d.kind==="uuid")uuidRegex.test(t.data)||(l=this._getOrReturnCtx(t,l),addIssueToContext(l,{validation:"uuid",code:ZodIssueCode.invalid_string,message:d.message}),u.dirty());else if(d.kind==="cuid")cuidRegex.test(t.data)||(l=this._getOrReturnCtx(t,l),addIssueToContext(l,{validation:"cuid",code:ZodIssueCode.invalid_string,message:d.message}),u.dirty());else if(d.kind==="cuid2")cuid2Regex.test(t.data)||(l=this._getOrReturnCtx(t,l),addIssueToContext(l,{validation:"cuid2",code:ZodIssueCode.invalid_string,message:d.message}),u.dirty());else if(d.kind==="ulid")ulidRegex.test(t.data)||(l=this._getOrReturnCtx(t,l),addIssueToContext(l,{validation:"ulid",code:ZodIssueCode.invalid_string,message:d.message}),u.dirty());else if(d.kind==="url")try{new URL(t.data)}catch{l=this._getOrReturnCtx(t,l),addIssueToContext(l,{validation:"url",code:ZodIssueCode.invalid_string,message:d.message}),u.dirty()}else d.kind==="regex"?(d.regex.lastIndex=0,d.regex.test(t.data)||(l=this._getOrReturnCtx(t,l),addIssueToContext(l,{validation:"regex",code:ZodIssueCode.invalid_string,message:d.message}),u.dirty())):d.kind==="trim"?t.data=t.data.trim():d.kind==="includes"?t.data.includes(d.value,d.position)||(l=this._getOrReturnCtx(t,l),addIssueToContext(l,{code:ZodIssueCode.invalid_string,validation:{includes:d.value,position:d.position},message:d.message}),u.dirty()):d.kind==="toLowerCase"?t.data=t.data.toLowerCase():d.kind==="toUpperCase"?t.data=t.data.toUpperCase():d.kind==="startsWith"?t.data.startsWith(d.value)||(l=this._getOrReturnCtx(t,l),addIssueToContext(l,{code:ZodIssueCode.invalid_string,validation:{startsWith:d.value},message:d.message}),u.dirty()):d.kind==="endsWith"?t.data.endsWith(d.value)||(l=this._getOrReturnCtx(t,l),addIssueToContext(l,{code:ZodIssueCode.invalid_string,validation:{endsWith:d.value},message:d.message}),u.dirty()):d.kind==="datetime"?datetimeRegex(d).test(t.data)||(l=this._getOrReturnCtx(t,l),addIssueToContext(l,{code:ZodIssueCode.invalid_string,validation:"datetime",message:d.message}),u.dirty()):d.kind==="ip"?isValidIP(t.data,d.version)||(l=this._getOrReturnCtx(t,l),addIssueToContext(l,{validation:"ip",code:ZodIssueCode.invalid_string,message:d.message}),u.dirty()):util.assertNever(d);return{status:u.value,value:t.data}}_regex(t,s,u){return this.refinement(l=>t.test(l),{validation:s,code:ZodIssueCode.invalid_string,...errorUtil.errToObj(u)})}_addCheck(t){return new ZodString({...this._def,checks:[...this._def.checks,t]})}email(t){return this._addCheck({kind:"email",...errorUtil.errToObj(t)})}url(t){return this._addCheck({kind:"url",...errorUtil.errToObj(t)})}emoji(t){return this._addCheck({kind:"emoji",...errorUtil.errToObj(t)})}uuid(t){return this._addCheck({kind:"uuid",...errorUtil.errToObj(t)})}cuid(t){return this._addCheck({kind:"cuid",...errorUtil.errToObj(t)})}cuid2(t){return this._addCheck({kind:"cuid2",...errorUtil.errToObj(t)})}ulid(t){return this._addCheck({kind:"ulid",...errorUtil.errToObj(t)})}ip(t){return this._addCheck({kind:"ip",...errorUtil.errToObj(t)})}datetime(t){var s;return typeof t=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,message:t}):this._addCheck({kind:"datetime",precision:typeof(t==null?void 0:t.precision)>"u"?null:t==null?void 0:t.precision,offset:(s=t==null?void 0:t.offset)!==null&&s!==void 0?s:!1,...errorUtil.errToObj(t==null?void 0:t.message)})}regex(t,s){return this._addCheck({kind:"regex",regex:t,...errorUtil.errToObj(s)})}includes(t,s){return this._addCheck({kind:"includes",value:t,position:s==null?void 0:s.position,...errorUtil.errToObj(s==null?void 0:s.message)})}startsWith(t,s){return this._addCheck({kind:"startsWith",value:t,...errorUtil.errToObj(s)})}endsWith(t,s){return this._addCheck({kind:"endsWith",value:t,...errorUtil.errToObj(s)})}min(t,s){return this._addCheck({kind:"min",value:t,...errorUtil.errToObj(s)})}max(t,s){return this._addCheck({kind:"max",value:t,...errorUtil.errToObj(s)})}length(t,s){return this._addCheck({kind:"length",value:t,...errorUtil.errToObj(s)})}nonempty(t){return this.min(1,errorUtil.errToObj(t))}trim(){return new ZodString({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new ZodString({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new ZodString({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(t=>t.kind==="datetime")}get isEmail(){return!!this._def.checks.find(t=>t.kind==="email")}get isURL(){return!!this._def.checks.find(t=>t.kind==="url")}get isEmoji(){return!!this._def.checks.find(t=>t.kind==="emoji")}get isUUID(){return!!this._def.checks.find(t=>t.kind==="uuid")}get isCUID(){return!!this._def.checks.find(t=>t.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(t=>t.kind==="cuid2")}get isULID(){return!!this._def.checks.find(t=>t.kind==="ulid")}get isIP(){return!!this._def.checks.find(t=>t.kind==="ip")}get minLength(){let t=null;for(const s of this._def.checks)s.kind==="min"&&(t===null||s.value>t)&&(t=s.value);return t}get maxLength(){let t=null;for(const s of this._def.checks)s.kind==="max"&&(t===null||s.value<t)&&(t=s.value);return t}}ZodString.create=i=>{var t;return new ZodString({checks:[],typeName:ZodFirstPartyTypeKind.ZodString,coerce:(t=i==null?void 0:i.coerce)!==null&&t!==void 0?t:!1,...processCreateParams(i)})};function floatSafeRemainder(i,t){const s=(i.toString().split(".")[1]||"").length,u=(t.toString().split(".")[1]||"").length,l=s>u?s:u,d=parseInt(i.toFixed(l).replace(".","")),y=parseInt(t.toFixed(l).replace(".",""));return d%y/Math.pow(10,l)}class ZodNumber extends ZodType{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(t){if(this._def.coerce&&(t.data=Number(t.data)),this._getType(t)!==ZodParsedType.number){const d=this._getOrReturnCtx(t);return addIssueToContext(d,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.number,received:d.parsedType}),INVALID}let u;const l=new ParseStatus;for(const d of this._def.checks)d.kind==="int"?util.isInteger(t.data)||(u=this._getOrReturnCtx(t,u),addIssueToContext(u,{code:ZodIssueCode.invalid_type,expected:"integer",received:"float",message:d.message}),l.dirty()):d.kind==="min"?(d.inclusive?t.data<d.value:t.data<=d.value)&&(u=this._getOrReturnCtx(t,u),addIssueToContext(u,{code:ZodIssueCode.too_small,minimum:d.value,type:"number",inclusive:d.inclusive,exact:!1,message:d.message}),l.dirty()):d.kind==="max"?(d.inclusive?t.data>d.value:t.data>=d.value)&&(u=this._getOrReturnCtx(t,u),addIssueToContext(u,{code:ZodIssueCode.too_big,maximum:d.value,type:"number",inclusive:d.inclusive,exact:!1,message:d.message}),l.dirty()):d.kind==="multipleOf"?floatSafeRemainder(t.data,d.value)!==0&&(u=this._getOrReturnCtx(t,u),addIssueToContext(u,{code:ZodIssueCode.not_multiple_of,multipleOf:d.value,message:d.message}),l.dirty()):d.kind==="finite"?Number.isFinite(t.data)||(u=this._getOrReturnCtx(t,u),addIssueToContext(u,{code:ZodIssueCode.not_finite,message:d.message}),l.dirty()):util.assertNever(d);return{status:l.value,value:t.data}}gte(t,s){return this.setLimit("min",t,!0,errorUtil.toString(s))}gt(t,s){return this.setLimit("min",t,!1,errorUtil.toString(s))}lte(t,s){return this.setLimit("max",t,!0,errorUtil.toString(s))}lt(t,s){return this.setLimit("max",t,!1,errorUtil.toString(s))}setLimit(t,s,u,l){return new ZodNumber({...this._def,checks:[...this._def.checks,{kind:t,value:s,inclusive:u,message:errorUtil.toString(l)}]})}_addCheck(t){return new ZodNumber({...this._def,checks:[...this._def.checks,t]})}int(t){return this._addCheck({kind:"int",message:errorUtil.toString(t)})}positive(t){return this._addCheck({kind:"min",value:0,inclusive:!1,message:errorUtil.toString(t)})}negative(t){return this._addCheck({kind:"max",value:0,inclusive:!1,message:errorUtil.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:0,inclusive:!0,message:errorUtil.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:0,inclusive:!0,message:errorUtil.toString(t)})}multipleOf(t,s){return this._addCheck({kind:"multipleOf",value:t,message:errorUtil.toString(s)})}finite(t){return this._addCheck({kind:"finite",message:errorUtil.toString(t)})}safe(t){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:errorUtil.toString(t)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:errorUtil.toString(t)})}get minValue(){let t=null;for(const s of this._def.checks)s.kind==="min"&&(t===null||s.value>t)&&(t=s.value);return t}get maxValue(){let t=null;for(const s of this._def.checks)s.kind==="max"&&(t===null||s.value<t)&&(t=s.value);return t}get isInt(){return!!this._def.checks.find(t=>t.kind==="int"||t.kind==="multipleOf"&&util.isInteger(t.value))}get isFinite(){let t=null,s=null;for(const u of this._def.checks){if(u.kind==="finite"||u.kind==="int"||u.kind==="multipleOf")return!0;u.kind==="min"?(s===null||u.value>s)&&(s=u.value):u.kind==="max"&&(t===null||u.value<t)&&(t=u.value)}return Number.isFinite(s)&&Number.isFinite(t)}}ZodNumber.create=i=>new ZodNumber({checks:[],typeName:ZodFirstPartyTypeKind.ZodNumber,coerce:(i==null?void 0:i.coerce)||!1,...processCreateParams(i)});class ZodBigInt extends ZodType{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(t){if(this._def.coerce&&(t.data=BigInt(t.data)),this._getType(t)!==ZodParsedType.bigint){const d=this._getOrReturnCtx(t);return addIssueToContext(d,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.bigint,received:d.parsedType}),INVALID}let u;const l=new ParseStatus;for(const d of this._def.checks)d.kind==="min"?(d.inclusive?t.data<d.value:t.data<=d.value)&&(u=this._getOrReturnCtx(t,u),addIssueToContext(u,{code:ZodIssueCode.too_small,type:"bigint",minimum:d.value,inclusive:d.inclusive,message:d.message}),l.dirty()):d.kind==="max"?(d.inclusive?t.data>d.value:t.data>=d.value)&&(u=this._getOrReturnCtx(t,u),addIssueToContext(u,{code:ZodIssueCode.too_big,type:"bigint",maximum:d.value,inclusive:d.inclusive,message:d.message}),l.dirty()):d.kind==="multipleOf"?t.data%d.value!==BigInt(0)&&(u=this._getOrReturnCtx(t,u),addIssueToContext(u,{code:ZodIssueCode.not_multiple_of,multipleOf:d.value,message:d.message}),l.dirty()):util.assertNever(d);return{status:l.value,value:t.data}}gte(t,s){return this.setLimit("min",t,!0,errorUtil.toString(s))}gt(t,s){return this.setLimit("min",t,!1,errorUtil.toString(s))}lte(t,s){return this.setLimit("max",t,!0,errorUtil.toString(s))}lt(t,s){return this.setLimit("max",t,!1,errorUtil.toString(s))}setLimit(t,s,u,l){return new ZodBigInt({...this._def,checks:[...this._def.checks,{kind:t,value:s,inclusive:u,message:errorUtil.toString(l)}]})}_addCheck(t){return new ZodBigInt({...this._def,checks:[...this._def.checks,t]})}positive(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:errorUtil.toString(t)})}negative(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:errorUtil.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:errorUtil.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:errorUtil.toString(t)})}multipleOf(t,s){return this._addCheck({kind:"multipleOf",value:t,message:errorUtil.toString(s)})}get minValue(){let t=null;for(const s of this._def.checks)s.kind==="min"&&(t===null||s.value>t)&&(t=s.value);return t}get maxValue(){let t=null;for(const s of this._def.checks)s.kind==="max"&&(t===null||s.value<t)&&(t=s.value);return t}}ZodBigInt.create=i=>{var t;return new ZodBigInt({checks:[],typeName:ZodFirstPartyTypeKind.ZodBigInt,coerce:(t=i==null?void 0:i.coerce)!==null&&t!==void 0?t:!1,...processCreateParams(i)})};class ZodBoolean extends ZodType{_parse(t){if(this._def.coerce&&(t.data=!!t.data),this._getType(t)!==ZodParsedType.boolean){const u=this._getOrReturnCtx(t);return addIssueToContext(u,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.boolean,received:u.parsedType}),INVALID}return OK(t.data)}}ZodBoolean.create=i=>new ZodBoolean({typeName:ZodFirstPartyTypeKind.ZodBoolean,coerce:(i==null?void 0:i.coerce)||!1,...processCreateParams(i)});class ZodDate extends ZodType{_parse(t){if(this._def.coerce&&(t.data=new Date(t.data)),this._getType(t)!==ZodParsedType.date){const d=this._getOrReturnCtx(t);return addIssueToContext(d,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.date,received:d.parsedType}),INVALID}if(isNaN(t.data.getTime())){const d=this._getOrReturnCtx(t);return addIssueToContext(d,{code:ZodIssueCode.invalid_date}),INVALID}const u=new ParseStatus;let l;for(const d of this._def.checks)d.kind==="min"?t.data.getTime()<d.value&&(l=this._getOrReturnCtx(t,l),addIssueToContext(l,{code:ZodIssueCode.too_small,message:d.message,inclusive:!0,exact:!1,minimum:d.value,type:"date"}),u.dirty()):d.kind==="max"?t.data.getTime()>d.value&&(l=this._getOrReturnCtx(t,l),addIssueToContext(l,{code:ZodIssueCode.too_big,message:d.message,inclusive:!0,exact:!1,maximum:d.value,type:"date"}),u.dirty()):util.assertNever(d);return{status:u.value,value:new Date(t.data.getTime())}}_addCheck(t){return new ZodDate({...this._def,checks:[...this._def.checks,t]})}min(t,s){return this._addCheck({kind:"min",value:t.getTime(),message:errorUtil.toString(s)})}max(t,s){return this._addCheck({kind:"max",value:t.getTime(),message:errorUtil.toString(s)})}get minDate(){let t=null;for(const s of this._def.checks)s.kind==="min"&&(t===null||s.value>t)&&(t=s.value);return t!=null?new Date(t):null}get maxDate(){let t=null;for(const s of this._def.checks)s.kind==="max"&&(t===null||s.value<t)&&(t=s.value);return t!=null?new Date(t):null}}ZodDate.create=i=>new ZodDate({checks:[],coerce:(i==null?void 0:i.coerce)||!1,typeName:ZodFirstPartyTypeKind.ZodDate,...processCreateParams(i)});class ZodSymbol extends ZodType{_parse(t){if(this._getType(t)!==ZodParsedType.symbol){const u=this._getOrReturnCtx(t);return addIssueToContext(u,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.symbol,received:u.parsedType}),INVALID}return OK(t.data)}}ZodSymbol.create=i=>new ZodSymbol({typeName:ZodFirstPartyTypeKind.ZodSymbol,...processCreateParams(i)});class ZodUndefined extends ZodType{_parse(t){if(this._getType(t)!==ZodParsedType.undefined){const u=this._getOrReturnCtx(t);return addIssueToContext(u,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.undefined,received:u.parsedType}),INVALID}return OK(t.data)}}ZodUndefined.create=i=>new ZodUndefined({typeName:ZodFirstPartyTypeKind.ZodUndefined,...processCreateParams(i)});class ZodNull extends ZodType{_parse(t){if(this._getType(t)!==ZodParsedType.null){const u=this._getOrReturnCtx(t);return addIssueToContext(u,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.null,received:u.parsedType}),INVALID}return OK(t.data)}}ZodNull.create=i=>new ZodNull({typeName:ZodFirstPartyTypeKind.ZodNull,...processCreateParams(i)});class ZodAny extends ZodType{constructor(){super(...arguments),this._any=!0}_parse(t){return OK(t.data)}}ZodAny.create=i=>new ZodAny({typeName:ZodFirstPartyTypeKind.ZodAny,...processCreateParams(i)});class ZodUnknown extends ZodType{constructor(){super(...arguments),this._unknown=!0}_parse(t){return OK(t.data)}}ZodUnknown.create=i=>new ZodUnknown({typeName:ZodFirstPartyTypeKind.ZodUnknown,...processCreateParams(i)});class ZodNever extends ZodType{_parse(t){const s=this._getOrReturnCtx(t);return addIssueToContext(s,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.never,received:s.parsedType}),INVALID}}ZodNever.create=i=>new ZodNever({typeName:ZodFirstPartyTypeKind.ZodNever,...processCreateParams(i)});class ZodVoid extends ZodType{_parse(t){if(this._getType(t)!==ZodParsedType.undefined){const u=this._getOrReturnCtx(t);return addIssueToContext(u,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.void,received:u.parsedType}),INVALID}return OK(t.data)}}ZodVoid.create=i=>new ZodVoid({typeName:ZodFirstPartyTypeKind.ZodVoid,...processCreateParams(i)});class ZodArray extends ZodType{_parse(t){const{ctx:s,status:u}=this._processInputParams(t),l=this._def;if(s.parsedType!==ZodParsedType.array)return addIssueToContext(s,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.array,received:s.parsedType}),INVALID;if(l.exactLength!==null){const y=s.data.length>l.exactLength.value,g=s.data.length<l.exactLength.value;(y||g)&&(addIssueToContext(s,{code:y?ZodIssueCode.too_big:ZodIssueCode.too_small,minimum:g?l.exactLength.value:void 0,maximum:y?l.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:l.exactLength.message}),u.dirty())}if(l.minLength!==null&&s.data.length<l.minLength.value&&(addIssueToContext(s,{code:ZodIssueCode.too_small,minimum:l.minLength.value,type:"array",inclusive:!0,exact:!1,message:l.minLength.message}),u.dirty()),l.maxLength!==null&&s.data.length>l.maxLength.value&&(addIssueToContext(s,{code:ZodIssueCode.too_big,maximum:l.maxLength.value,type:"array",inclusive:!0,exact:!1,message:l.maxLength.message}),u.dirty()),s.common.async)return Promise.all([...s.data].map((y,g)=>l.type._parseAsync(new ParseInputLazyPath(s,y,s.path,g)))).then(y=>ParseStatus.mergeArray(u,y));const d=[...s.data].map((y,g)=>l.type._parseSync(new ParseInputLazyPath(s,y,s.path,g)));return ParseStatus.mergeArray(u,d)}get element(){return this._def.type}min(t,s){return new ZodArray({...this._def,minLength:{value:t,message:errorUtil.toString(s)}})}max(t,s){return new ZodArray({...this._def,maxLength:{value:t,message:errorUtil.toString(s)}})}length(t,s){return new ZodArray({...this._def,exactLength:{value:t,message:errorUtil.toString(s)}})}nonempty(t){return this.min(1,t)}}ZodArray.create=(i,t)=>new ZodArray({type:i,minLength:null,maxLength:null,exactLength:null,typeName:ZodFirstPartyTypeKind.ZodArray,...processCreateParams(t)});function deepPartialify(i){if(i instanceof ZodObject){const t={};for(const s in i.shape){const u=i.shape[s];t[s]=ZodOptional.create(deepPartialify(u))}return new ZodObject({...i._def,shape:()=>t})}else return i instanceof ZodArray?new ZodArray({...i._def,type:deepPartialify(i.element)}):i instanceof ZodOptional?ZodOptional.create(deepPartialify(i.unwrap())):i instanceof ZodNullable?ZodNullable.create(deepPartialify(i.unwrap())):i instanceof ZodTuple?ZodTuple.create(i.items.map(t=>deepPartialify(t))):i}class ZodObject extends ZodType{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const t=this._def.shape(),s=util.objectKeys(t);return this._cached={shape:t,keys:s}}_parse(t){if(this._getType(t)!==ZodParsedType.object){const f=this._getOrReturnCtx(t);return addIssueToContext(f,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.object,received:f.parsedType}),INVALID}const{status:u,ctx:l}=this._processInputParams(t),{shape:d,keys:y}=this._getCached(),g=[];if(!(this._def.catchall instanceof ZodNever&&this._def.unknownKeys==="strip"))for(const f in l.data)y.includes(f)||g.push(f);const v=[];for(const f of y){const c=d[f],r=l.data[f];v.push({key:{status:"valid",value:f},value:c._parse(new ParseInputLazyPath(l,r,l.path,f)),alwaysSet:f in l.data})}if(this._def.catchall instanceof ZodNever){const f=this._def.unknownKeys;if(f==="passthrough")for(const c of g)v.push({key:{status:"valid",value:c},value:{status:"valid",value:l.data[c]}});else if(f==="strict")g.length>0&&(addIssueToContext(l,{code:ZodIssueCode.unrecognized_keys,keys:g}),u.dirty());else if(f!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const f=this._def.catchall;for(const c of g){const r=l.data[c];v.push({key:{status:"valid",value:c},value:f._parse(new ParseInputLazyPath(l,r,l.path,c)),alwaysSet:c in l.data})}}return l.common.async?Promise.resolve().then(async()=>{const f=[];for(const c of v){const r=await c.key;f.push({key:r,value:await c.value,alwaysSet:c.alwaysSet})}return f}).then(f=>ParseStatus.mergeObjectSync(u,f)):ParseStatus.mergeObjectSync(u,v)}get shape(){return this._def.shape()}strict(t){return errorUtil.errToObj,new ZodObject({...this._def,unknownKeys:"strict",...t!==void 0?{errorMap:(s,u)=>{var l,d,y,g;const v=(y=(d=(l=this._def).errorMap)===null||d===void 0?void 0:d.call(l,s,u).message)!==null&&y!==void 0?y:u.defaultError;return s.code==="unrecognized_keys"?{message:(g=errorUtil.errToObj(t).message)!==null&&g!==void 0?g:v}:{message:v}}}:{}})}strip(){return new ZodObject({...this._def,unknownKeys:"strip"})}passthrough(){return new ZodObject({...this._def,unknownKeys:"passthrough"})}extend(t){return new ZodObject({...this._def,shape:()=>({...this._def.shape(),...t})})}merge(t){return new ZodObject({unknownKeys:t._def.unknownKeys,catchall:t._def.catchall,shape:()=>({...this._def.shape(),...t._def.shape()}),typeName:ZodFirstPartyTypeKind.ZodObject})}setKey(t,s){return this.augment({[t]:s})}catchall(t){return new ZodObject({...this._def,catchall:t})}pick(t){const s={};return util.objectKeys(t).forEach(u=>{t[u]&&this.shape[u]&&(s[u]=this.shape[u])}),new ZodObject({...this._def,shape:()=>s})}omit(t){const s={};return util.objectKeys(this.shape).forEach(u=>{t[u]||(s[u]=this.shape[u])}),new ZodObject({...this._def,shape:()=>s})}deepPartial(){return deepPartialify(this)}partial(t){const s={};return util.objectKeys(this.shape).forEach(u=>{const l=this.shape[u];t&&!t[u]?s[u]=l:s[u]=l.optional()}),new ZodObject({...this._def,shape:()=>s})}required(t){const s={};return util.objectKeys(this.shape).forEach(u=>{if(t&&!t[u])s[u]=this.shape[u];else{let d=this.shape[u];for(;d instanceof ZodOptional;)d=d._def.innerType;s[u]=d}}),new ZodObject({...this._def,shape:()=>s})}keyof(){return createZodEnum(util.objectKeys(this.shape))}}ZodObject.create=(i,t)=>new ZodObject({shape:()=>i,unknownKeys:"strip",catchall:ZodNever.create(),typeName:ZodFirstPartyTypeKind.ZodObject,...processCreateParams(t)});ZodObject.strictCreate=(i,t)=>new ZodObject({shape:()=>i,unknownKeys:"strict",catchall:ZodNever.create(),typeName:ZodFirstPartyTypeKind.ZodObject,...processCreateParams(t)});ZodObject.lazycreate=(i,t)=>new ZodObject({shape:i,unknownKeys:"strip",catchall:ZodNever.create(),typeName:ZodFirstPartyTypeKind.ZodObject,...processCreateParams(t)});class ZodUnion extends ZodType{_parse(t){const{ctx:s}=this._processInputParams(t),u=this._def.options;function l(d){for(const g of d)if(g.result.status==="valid")return g.result;for(const g of d)if(g.result.status==="dirty")return s.common.issues.push(...g.ctx.common.issues),g.result;const y=d.map(g=>new ZodError(g.ctx.common.issues));return addIssueToContext(s,{code:ZodIssueCode.invalid_union,unionErrors:y}),INVALID}if(s.common.async)return Promise.all(u.map(async d=>{const y={...s,common:{...s.common,issues:[]},parent:null};return{result:await d._parseAsync({data:s.data,path:s.path,parent:y}),ctx:y}})).then(l);{let d;const y=[];for(const v of u){const f={...s,common:{...s.common,issues:[]},parent:null},c=v._parseSync({data:s.data,path:s.path,parent:f});if(c.status==="valid")return c;c.status==="dirty"&&!d&&(d={result:c,ctx:f}),f.common.issues.length&&y.push(f.common.issues)}if(d)return s.common.issues.push(...d.ctx.common.issues),d.result;const g=y.map(v=>new ZodError(v));return addIssueToContext(s,{code:ZodIssueCode.invalid_union,unionErrors:g}),INVALID}}get options(){return this._def.options}}ZodUnion.create=(i,t)=>new ZodUnion({options:i,typeName:ZodFirstPartyTypeKind.ZodUnion,...processCreateParams(t)});const getDiscriminator=i=>i instanceof ZodLazy?getDiscriminator(i.schema):i instanceof ZodEffects?getDiscriminator(i.innerType()):i instanceof ZodLiteral?[i.value]:i instanceof ZodEnum?i.options:i instanceof ZodNativeEnum?Object.keys(i.enum):i instanceof ZodDefault?getDiscriminator(i._def.innerType):i instanceof ZodUndefined?[void 0]:i instanceof ZodNull?[null]:null;class ZodDiscriminatedUnion extends ZodType{_parse(t){const{ctx:s}=this._processInputParams(t);if(s.parsedType!==ZodParsedType.object)return addIssueToContext(s,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.object,received:s.parsedType}),INVALID;const u=this.discriminator,l=s.data[u],d=this.optionsMap.get(l);return d?s.common.async?d._parseAsync({data:s.data,path:s.path,parent:s}):d._parseSync({data:s.data,path:s.path,parent:s}):(addIssueToContext(s,{code:ZodIssueCode.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[u]}),INVALID)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(t,s,u){const l=new Map;for(const d of s){const y=getDiscriminator(d.shape[t]);if(!y)throw new Error(`A discriminator value for key \`${t}\` could not be extracted from all schema options`);for(const g of y){if(l.has(g))throw new Error(`Discriminator property ${String(t)} has duplicate value ${String(g)}`);l.set(g,d)}}return new ZodDiscriminatedUnion({typeName:ZodFirstPartyTypeKind.ZodDiscriminatedUnion,discriminator:t,options:s,optionsMap:l,...processCreateParams(u)})}}function mergeValues(i,t){const s=getParsedType(i),u=getParsedType(t);if(i===t)return{valid:!0,data:i};if(s===ZodParsedType.object&&u===ZodParsedType.object){const l=util.objectKeys(t),d=util.objectKeys(i).filter(g=>l.indexOf(g)!==-1),y={...i,...t};for(const g of d){const v=mergeValues(i[g],t[g]);if(!v.valid)return{valid:!1};y[g]=v.data}return{valid:!0,data:y}}else if(s===ZodParsedType.array&&u===ZodParsedType.array){if(i.length!==t.length)return{valid:!1};const l=[];for(let d=0;d<i.length;d++){const y=i[d],g=t[d],v=mergeValues(y,g);if(!v.valid)return{valid:!1};l.push(v.data)}return{valid:!0,data:l}}else return s===ZodParsedType.date&&u===ZodParsedType.date&&+i==+t?{valid:!0,data:i}:{valid:!1}}class ZodIntersection extends ZodType{_parse(t){const{status:s,ctx:u}=this._processInputParams(t),l=(d,y)=>{if(isAborted(d)||isAborted(y))return INVALID;const g=mergeValues(d.value,y.value);return g.valid?((isDirty(d)||isDirty(y))&&s.dirty(),{status:s.value,value:g.data}):(addIssueToContext(u,{code:ZodIssueCode.invalid_intersection_types}),INVALID)};return u.common.async?Promise.all([this._def.left._parseAsync({data:u.data,path:u.path,parent:u}),this._def.right._parseAsync({data:u.data,path:u.path,parent:u})]).then(([d,y])=>l(d,y)):l(this._def.left._parseSync({data:u.data,path:u.path,parent:u}),this._def.right._parseSync({data:u.data,path:u.path,parent:u}))}}ZodIntersection.create=(i,t,s)=>new ZodIntersection({left:i,right:t,typeName:ZodFirstPartyTypeKind.ZodIntersection,...processCreateParams(s)});class ZodTuple extends ZodType{_parse(t){const{status:s,ctx:u}=this._processInputParams(t);if(u.parsedType!==ZodParsedType.array)return addIssueToContext(u,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.array,received:u.parsedType}),INVALID;if(u.data.length<this._def.items.length)return addIssueToContext(u,{code:ZodIssueCode.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),INVALID;!this._def.rest&&u.data.length>this._def.items.length&&(addIssueToContext(u,{code:ZodIssueCode.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),s.dirty());const d=[...u.data].map((y,g)=>{const v=this._def.items[g]||this._def.rest;return v?v._parse(new ParseInputLazyPath(u,y,u.path,g)):null}).filter(y=>!!y);return u.common.async?Promise.all(d).then(y=>ParseStatus.mergeArray(s,y)):ParseStatus.mergeArray(s,d)}get items(){return this._def.items}rest(t){return new ZodTuple({...this._def,rest:t})}}ZodTuple.create=(i,t)=>{if(!Array.isArray(i))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new ZodTuple({items:i,typeName:ZodFirstPartyTypeKind.ZodTuple,rest:null,...processCreateParams(t)})};class ZodRecord extends ZodType{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(t){const{status:s,ctx:u}=this._processInputParams(t);if(u.parsedType!==ZodParsedType.object)return addIssueToContext(u,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.object,received:u.parsedType}),INVALID;const l=[],d=this._def.keyType,y=this._def.valueType;for(const g in u.data)l.push({key:d._parse(new ParseInputLazyPath(u,g,u.path,g)),value:y._parse(new ParseInputLazyPath(u,u.data[g],u.path,g))});return u.common.async?ParseStatus.mergeObjectAsync(s,l):ParseStatus.mergeObjectSync(s,l)}get element(){return this._def.valueType}static create(t,s,u){return s instanceof ZodType?new ZodRecord({keyType:t,valueType:s,typeName:ZodFirstPartyTypeKind.ZodRecord,...processCreateParams(u)}):new ZodRecord({keyType:ZodString.create(),valueType:t,typeName:ZodFirstPartyTypeKind.ZodRecord,...processCreateParams(s)})}}class ZodMap extends ZodType{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(t){const{status:s,ctx:u}=this._processInputParams(t);if(u.parsedType!==ZodParsedType.map)return addIssueToContext(u,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.map,received:u.parsedType}),INVALID;const l=this._def.keyType,d=this._def.valueType,y=[...u.data.entries()].map(([g,v],f)=>({key:l._parse(new ParseInputLazyPath(u,g,u.path,[f,"key"])),value:d._parse(new ParseInputLazyPath(u,v,u.path,[f,"value"]))}));if(u.common.async){const g=new Map;return Promise.resolve().then(async()=>{for(const v of y){const f=await v.key,c=await v.value;if(f.status==="aborted"||c.status==="aborted")return INVALID;(f.status==="dirty"||c.status==="dirty")&&s.dirty(),g.set(f.value,c.value)}return{status:s.value,value:g}})}else{const g=new Map;for(const v of y){const f=v.key,c=v.value;if(f.status==="aborted"||c.status==="aborted")return INVALID;(f.status==="dirty"||c.status==="dirty")&&s.dirty(),g.set(f.value,c.value)}return{status:s.value,value:g}}}}ZodMap.create=(i,t,s)=>new ZodMap({valueType:t,keyType:i,typeName:ZodFirstPartyTypeKind.ZodMap,...processCreateParams(s)});class ZodSet extends ZodType{_parse(t){const{status:s,ctx:u}=this._processInputParams(t);if(u.parsedType!==ZodParsedType.set)return addIssueToContext(u,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.set,received:u.parsedType}),INVALID;const l=this._def;l.minSize!==null&&u.data.size<l.minSize.value&&(addIssueToContext(u,{code:ZodIssueCode.too_small,minimum:l.minSize.value,type:"set",inclusive:!0,exact:!1,message:l.minSize.message}),s.dirty()),l.maxSize!==null&&u.data.size>l.maxSize.value&&(addIssueToContext(u,{code:ZodIssueCode.too_big,maximum:l.maxSize.value,type:"set",inclusive:!0,exact:!1,message:l.maxSize.message}),s.dirty());const d=this._def.valueType;function y(v){const f=new Set;for(const c of v){if(c.status==="aborted")return INVALID;c.status==="dirty"&&s.dirty(),f.add(c.value)}return{status:s.value,value:f}}const g=[...u.data.values()].map((v,f)=>d._parse(new ParseInputLazyPath(u,v,u.path,f)));return u.common.async?Promise.all(g).then(v=>y(v)):y(g)}min(t,s){return new ZodSet({...this._def,minSize:{value:t,message:errorUtil.toString(s)}})}max(t,s){return new ZodSet({...this._def,maxSize:{value:t,message:errorUtil.toString(s)}})}size(t,s){return this.min(t,s).max(t,s)}nonempty(t){return this.min(1,t)}}ZodSet.create=(i,t)=>new ZodSet({valueType:i,minSize:null,maxSize:null,typeName:ZodFirstPartyTypeKind.ZodSet,...processCreateParams(t)});class ZodFunction extends ZodType{constructor(){super(...arguments),this.validate=this.implement}_parse(t){const{ctx:s}=this._processInputParams(t);if(s.parsedType!==ZodParsedType.function)return addIssueToContext(s,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.function,received:s.parsedType}),INVALID;function u(g,v){return makeIssue({data:g,path:s.path,errorMaps:[s.common.contextualErrorMap,s.schemaErrorMap,getErrorMap(),errorMap].filter(f=>!!f),issueData:{code:ZodIssueCode.invalid_arguments,argumentsError:v}})}function l(g,v){return makeIssue({data:g,path:s.path,errorMaps:[s.common.contextualErrorMap,s.schemaErrorMap,getErrorMap(),errorMap].filter(f=>!!f),issueData:{code:ZodIssueCode.invalid_return_type,returnTypeError:v}})}const d={errorMap:s.common.contextualErrorMap},y=s.data;if(this._def.returns instanceof ZodPromise){const g=this;return OK(async function(...v){const f=new ZodError([]),c=await g._def.args.parseAsync(v,d).catch(n=>{throw f.addIssue(u(v,n)),f}),r=await Reflect.apply(y,this,c);return await g._def.returns._def.type.parseAsync(r,d).catch(n=>{throw f.addIssue(l(r,n)),f})})}else{const g=this;return OK(function(...v){const f=g._def.args.safeParse(v,d);if(!f.success)throw new ZodError([u(v,f.error)]);const c=Reflect.apply(y,this,f.data),r=g._def.returns.safeParse(c,d);if(!r.success)throw new ZodError([l(c,r.error)]);return r.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...t){return new ZodFunction({...this._def,args:ZodTuple.create(t).rest(ZodUnknown.create())})}returns(t){return new ZodFunction({...this._def,returns:t})}implement(t){return this.parse(t)}strictImplement(t){return this.parse(t)}static create(t,s,u){return new ZodFunction({args:t||ZodTuple.create([]).rest(ZodUnknown.create()),returns:s||ZodUnknown.create(),typeName:ZodFirstPartyTypeKind.ZodFunction,...processCreateParams(u)})}}class ZodLazy extends ZodType{get schema(){return this._def.getter()}_parse(t){const{ctx:s}=this._processInputParams(t);return this._def.getter()._parse({data:s.data,path:s.path,parent:s})}}ZodLazy.create=(i,t)=>new ZodLazy({getter:i,typeName:ZodFirstPartyTypeKind.ZodLazy,...processCreateParams(t)});class ZodLiteral extends ZodType{_parse(t){if(t.data!==this._def.value){const s=this._getOrReturnCtx(t);return addIssueToContext(s,{received:s.data,code:ZodIssueCode.invalid_literal,expected:this._def.value}),INVALID}return{status:"valid",value:t.data}}get value(){return this._def.value}}ZodLiteral.create=(i,t)=>new ZodLiteral({value:i,typeName:ZodFirstPartyTypeKind.ZodLiteral,...processCreateParams(t)});function createZodEnum(i,t){return new ZodEnum({values:i,typeName:ZodFirstPartyTypeKind.ZodEnum,...processCreateParams(t)})}class ZodEnum extends ZodType{_parse(t){if(typeof t.data!="string"){const s=this._getOrReturnCtx(t),u=this._def.values;return addIssueToContext(s,{expected:util.joinValues(u),received:s.parsedType,code:ZodIssueCode.invalid_type}),INVALID}if(this._def.values.indexOf(t.data)===-1){const s=this._getOrReturnCtx(t),u=this._def.values;return addIssueToContext(s,{received:s.data,code:ZodIssueCode.invalid_enum_value,options:u}),INVALID}return OK(t.data)}get options(){return this._def.values}get enum(){const t={};for(const s of this._def.values)t[s]=s;return t}get Values(){const t={};for(const s of this._def.values)t[s]=s;return t}get Enum(){const t={};for(const s of this._def.values)t[s]=s;return t}extract(t){return ZodEnum.create(t)}exclude(t){return ZodEnum.create(this.options.filter(s=>!t.includes(s)))}}ZodEnum.create=createZodEnum;class ZodNativeEnum extends ZodType{_parse(t){const s=util.getValidEnumValues(this._def.values),u=this._getOrReturnCtx(t);if(u.parsedType!==ZodParsedType.string&&u.parsedType!==ZodParsedType.number){const l=util.objectValues(s);return addIssueToContext(u,{expected:util.joinValues(l),received:u.parsedType,code:ZodIssueCode.invalid_type}),INVALID}if(s.indexOf(t.data)===-1){const l=util.objectValues(s);return addIssueToContext(u,{received:u.data,code:ZodIssueCode.invalid_enum_value,options:l}),INVALID}return OK(t.data)}get enum(){return this._def.values}}ZodNativeEnum.create=(i,t)=>new ZodNativeEnum({values:i,typeName:ZodFirstPartyTypeKind.ZodNativeEnum,...processCreateParams(t)});class ZodPromise extends ZodType{unwrap(){return this._def.type}_parse(t){const{ctx:s}=this._processInputParams(t);if(s.parsedType!==ZodParsedType.promise&&s.common.async===!1)return addIssueToContext(s,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.promise,received:s.parsedType}),INVALID;const u=s.parsedType===ZodParsedType.promise?s.data:Promise.resolve(s.data);return OK(u.then(l=>this._def.type.parseAsync(l,{path:s.path,errorMap:s.common.contextualErrorMap})))}}ZodPromise.create=(i,t)=>new ZodPromise({type:i,typeName:ZodFirstPartyTypeKind.ZodPromise,...processCreateParams(t)});class ZodEffects extends ZodType{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===ZodFirstPartyTypeKind.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(t){const{status:s,ctx:u}=this._processInputParams(t),l=this._def.effect||null,d={addIssue:y=>{addIssueToContext(u,y),y.fatal?s.abort():s.dirty()},get path(){return u.path}};if(d.addIssue=d.addIssue.bind(d),l.type==="preprocess"){const y=l.transform(u.data,d);return u.common.issues.length?{status:"dirty",value:u.data}:u.common.async?Promise.resolve(y).then(g=>this._def.schema._parseAsync({data:g,path:u.path,parent:u})):this._def.schema._parseSync({data:y,path:u.path,parent:u})}if(l.type==="refinement"){const y=g=>{const v=l.refinement(g,d);if(u.common.async)return Promise.resolve(v);if(v instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return g};if(u.common.async===!1){const g=this._def.schema._parseSync({data:u.data,path:u.path,parent:u});return g.status==="aborted"?INVALID:(g.status==="dirty"&&s.dirty(),y(g.value),{status:s.value,value:g.value})}else return this._def.schema._parseAsync({data:u.data,path:u.path,parent:u}).then(g=>g.status==="aborted"?INVALID:(g.status==="dirty"&&s.dirty(),y(g.value).then(()=>({status:s.value,value:g.value}))))}if(l.type==="transform")if(u.common.async===!1){const y=this._def.schema._parseSync({data:u.data,path:u.path,parent:u});if(!isValid(y))return y;const g=l.transform(y.value,d);if(g instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:s.value,value:g}}else return this._def.schema._parseAsync({data:u.data,path:u.path,parent:u}).then(y=>isValid(y)?Promise.resolve(l.transform(y.value,d)).then(g=>({status:s.value,value:g})):y);util.assertNever(l)}}ZodEffects.create=(i,t,s)=>new ZodEffects({schema:i,typeName:ZodFirstPartyTypeKind.ZodEffects,effect:t,...processCreateParams(s)});ZodEffects.createWithPreprocess=(i,t,s)=>new ZodEffects({schema:t,effect:{type:"preprocess",transform:i},typeName:ZodFirstPartyTypeKind.ZodEffects,...processCreateParams(s)});class ZodOptional extends ZodType{_parse(t){return this._getType(t)===ZodParsedType.undefined?OK(void 0):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}}ZodOptional.create=(i,t)=>new ZodOptional({innerType:i,typeName:ZodFirstPartyTypeKind.ZodOptional,...processCreateParams(t)});class ZodNullable extends ZodType{_parse(t){return this._getType(t)===ZodParsedType.null?OK(null):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}}ZodNullable.create=(i,t)=>new ZodNullable({innerType:i,typeName:ZodFirstPartyTypeKind.ZodNullable,...processCreateParams(t)});class ZodDefault extends ZodType{_parse(t){const{ctx:s}=this._processInputParams(t);let u=s.data;return s.parsedType===ZodParsedType.undefined&&(u=this._def.defaultValue()),this._def.innerType._parse({data:u,path:s.path,parent:s})}removeDefault(){return this._def.innerType}}ZodDefault.create=(i,t)=>new ZodDefault({innerType:i,typeName:ZodFirstPartyTypeKind.ZodDefault,defaultValue:typeof t.default=="function"?t.default:()=>t.default,...processCreateParams(t)});class ZodCatch extends ZodType{_parse(t){const{ctx:s}=this._processInputParams(t),u={...s,common:{...s.common,issues:[]}},l=this._def.innerType._parse({data:u.data,path:u.path,parent:{...u}});return isAsync(l)?l.then(d=>({status:"valid",value:d.status==="valid"?d.value:this._def.catchValue({get error(){return new ZodError(u.common.issues)},input:u.data})})):{status:"valid",value:l.status==="valid"?l.value:this._def.catchValue({get error(){return new ZodError(u.common.issues)},input:u.data})}}removeCatch(){return this._def.innerType}}ZodCatch.create=(i,t)=>new ZodCatch({innerType:i,typeName:ZodFirstPartyTypeKind.ZodCatch,catchValue:typeof t.catch=="function"?t.catch:()=>t.catch,...processCreateParams(t)});class ZodNaN extends ZodType{_parse(t){if(this._getType(t)!==ZodParsedType.nan){const u=this._getOrReturnCtx(t);return addIssueToContext(u,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.nan,received:u.parsedType}),INVALID}return{status:"valid",value:t.data}}}ZodNaN.create=i=>new ZodNaN({typeName:ZodFirstPartyTypeKind.ZodNaN,...processCreateParams(i)});const BRAND=Symbol("zod_brand");class ZodBranded extends ZodType{_parse(t){const{ctx:s}=this._processInputParams(t),u=s.data;return this._def.type._parse({data:u,path:s.path,parent:s})}unwrap(){return this._def.type}}class ZodPipeline extends ZodType{_parse(t){const{status:s,ctx:u}=this._processInputParams(t);if(u.common.async)return(async()=>{const d=await this._def.in._parseAsync({data:u.data,path:u.path,parent:u});return d.status==="aborted"?INVALID:d.status==="dirty"?(s.dirty(),DIRTY(d.value)):this._def.out._parseAsync({data:d.value,path:u.path,parent:u})})();{const l=this._def.in._parseSync({data:u.data,path:u.path,parent:u});return l.status==="aborted"?INVALID:l.status==="dirty"?(s.dirty(),{status:"dirty",value:l.value}):this._def.out._parseSync({data:l.value,path:u.path,parent:u})}}static create(t,s){return new ZodPipeline({in:t,out:s,typeName:ZodFirstPartyTypeKind.ZodPipeline})}}class ZodReadonly extends ZodType{_parse(t){const s=this._def.innerType._parse(t);return isValid(s)&&(s.value=Object.freeze(s.value)),s}}ZodReadonly.create=(i,t)=>new ZodReadonly({innerType:i,typeName:ZodFirstPartyTypeKind.ZodReadonly,...processCreateParams(t)});const custom=(i,t={},s)=>i?ZodAny.create().superRefine((u,l)=>{var d,y;if(!i(u)){const g=typeof t=="function"?t(u):typeof t=="string"?{message:t}:t,v=(y=(d=g.fatal)!==null&&d!==void 0?d:s)!==null&&y!==void 0?y:!0,f=typeof g=="string"?{message:g}:g;l.addIssue({code:"custom",...f,fatal:v})}}):ZodAny.create(),late={object:ZodObject.lazycreate};var ZodFirstPartyTypeKind;(function(i){i.ZodString="ZodString",i.ZodNumber="ZodNumber",i.ZodNaN="ZodNaN",i.ZodBigInt="ZodBigInt",i.ZodBoolean="ZodBoolean",i.ZodDate="ZodDate",i.ZodSymbol="ZodSymbol",i.ZodUndefined="ZodUndefined",i.ZodNull="ZodNull",i.ZodAny="ZodAny",i.ZodUnknown="ZodUnknown",i.ZodNever="ZodNever",i.ZodVoid="ZodVoid",i.ZodArray="ZodArray",i.ZodObject="ZodObject",i.ZodUnion="ZodUnion",i.ZodDiscriminatedUnion="ZodDiscriminatedUnion",i.ZodIntersection="ZodIntersection",i.ZodTuple="ZodTuple",i.ZodRecord="ZodRecord",i.ZodMap="ZodMap",i.ZodSet="ZodSet",i.ZodFunction="ZodFunction",i.ZodLazy="ZodLazy",i.ZodLiteral="ZodLiteral",i.ZodEnum="ZodEnum",i.ZodEffects="ZodEffects",i.ZodNativeEnum="ZodNativeEnum",i.ZodOptional="ZodOptional",i.ZodNullable="ZodNullable",i.ZodDefault="ZodDefault",i.ZodCatch="ZodCatch",i.ZodPromise="ZodPromise",i.ZodBranded="ZodBranded",i.ZodPipeline="ZodPipeline",i.ZodReadonly="ZodReadonly"})(ZodFirstPartyTypeKind||(ZodFirstPartyTypeKind={}));const instanceOfType=(i,t={message:`Input not instance of ${i.name}`})=>custom(s=>s instanceof i,t),stringType=ZodString.create,numberType=ZodNumber.create,nanType=ZodNaN.create,bigIntType=ZodBigInt.create,booleanType=ZodBoolean.create,dateType=ZodDate.create,symbolType=ZodSymbol.create,undefinedType=ZodUndefined.create,nullType=ZodNull.create,anyType=ZodAny.create,unknownType=ZodUnknown.create,neverType=ZodNever.create,voidType=ZodVoid.create,arrayType=ZodArray.create,objectType=ZodObject.create,strictObjectType=ZodObject.strictCreate,unionType=ZodUnion.create,discriminatedUnionType=ZodDiscriminatedUnion.create,intersectionType=ZodIntersection.create,tupleType=ZodTuple.create,recordType=ZodRecord.create,mapType=ZodMap.create,setType=ZodSet.create,functionType=ZodFunction.create,lazyType=ZodLazy.create,literalType=ZodLiteral.create,enumType=ZodEnum.create,nativeEnumType=ZodNativeEnum.create,promiseType=ZodPromise.create,effectsType=ZodEffects.create,optionalType=ZodOptional.create,nullableType=ZodNullable.create,preprocessType=ZodEffects.createWithPreprocess,pipelineType=ZodPipeline.create,ostring=()=>stringType().optional(),onumber=()=>numberType().optional(),oboolean=()=>booleanType().optional(),coerce={string:i=>ZodString.create({...i,coerce:!0}),number:i=>ZodNumber.create({...i,coerce:!0}),boolean:i=>ZodBoolean.create({...i,coerce:!0}),bigint:i=>ZodBigInt.create({...i,coerce:!0}),date:i=>ZodDate.create({...i,coerce:!0})},NEVER=INVALID;var z=Object.freeze({__proto__:null,defaultErrorMap:errorMap,setErrorMap,getErrorMap,makeIssue,EMPTY_PATH,addIssueToContext,ParseStatus,INVALID,DIRTY,OK,isAborted,isDirty,isValid,isAsync,get util(){return util},get objectUtil(){return objectUtil},ZodParsedType,getParsedType,ZodType,ZodString,ZodNumber,ZodBigInt,ZodBoolean,ZodDate,ZodSymbol,ZodUndefined,ZodNull,ZodAny,ZodUnknown,ZodNever,ZodVoid,ZodArray,ZodObject,ZodUnion,ZodDiscriminatedUnion,ZodIntersection,ZodTuple,ZodRecord,ZodMap,ZodSet,ZodFunction,ZodLazy,ZodLiteral,ZodEnum,ZodNativeEnum,ZodPromise,ZodEffects,ZodTransformer:ZodEffects,ZodOptional,ZodNullable,ZodDefault,ZodCatch,ZodNaN,BRAND,ZodBranded,ZodPipeline,ZodReadonly,custom,Schema:ZodType,ZodSchema:ZodType,late,get ZodFirstPartyTypeKind(){return ZodFirstPartyTypeKind},coerce,any:anyType,array:arrayType,bigint:bigIntType,boolean:booleanType,date:dateType,discriminatedUnion:discriminatedUnionType,effect:effectsType,enum:enumType,function:functionType,instanceof:instanceOfType,intersection:intersectionType,lazy:lazyType,literal:literalType,map:mapType,nan:nanType,nativeEnum:nativeEnumType,never:neverType,null:nullType,nullable:nullableType,number:numberType,object:objectType,oboolean,onumber,optional:optionalType,ostring,pipeline:pipelineType,preprocess:preprocessType,promise:promiseType,record:recordType,set:setType,strictObject:strictObjectType,string:stringType,symbol:symbolType,transformer:effectsType,tuple:tupleType,undefined:undefinedType,union:unionType,unknown:unknownType,void:voidType,NEVER,ZodIssueCode,quotelessJson,ZodError}),lodash={exports:{}};/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */lodash.exports;(function(i,t){(function(){var s,u="4.17.21",l=200,d="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",y="Expected a function",g="Invalid `variable` option passed into `_.template`",v="__lodash_hash_undefined__",f=500,c="__lodash_placeholder__",r=1,e=2,n=4,o=1,m=2,_=1,x=2,w=4,S=8,O=16,A=32,I=64,P=128,L=256,U=512,G=30,te="...",Y=800,F=16,re=1,R=2,M=3,H=1/0,le=9007199254740991,he=17976931348623157e292,Ce=0/0,we=4294967295,Pe=we-1,Le=we>>>1,Be=[["ary",P],["bind",_],["bindKey",x],["curry",S],["curryRight",O],["flip",U],["partial",A],["partialRight",I],["rearg",L]],Me="[object Arguments]",je="[object Array]",Je="[object AsyncFunction]",it="[object Boolean]",lt="[object Date]",Dt="[object DOMException]",ve="[object Error]",$="[object Function]",V="[object GeneratorFunction]",W="[object Map]",Q="[object Number]",ie="[object Null]",ae="[object Object]",xe="[object Promise]",be="[object Proxy]",Te="[object RegExp]",pe="[object Set]",Oe="[object String]",Ee="[object Symbol]",ke="[object Undefined]",Ne="[object WeakMap]",Ze="[object WeakSet]",Ke="[object ArrayBuffer]",Ye="[object DataView]",ut="[object Float32Array]",At="[object Float64Array]",Vt="[object Int8Array]",jt="[object Int16Array]",Ut="[object Int32Array]",Xt="[object Uint8Array]",Re="[object Uint8ClampedArray]",xt="[object Uint16Array]",on="[object Uint32Array]",j=/\b__p \+= '';/g,ee=/\b(__p \+=) '' \+/g,oe=/(__e\(.*?\)|\b__t\)) \+\n'';/g,ge=/&(?:amp|lt|gt|quot|#39);/g,Se=/[&<>"']/g,Ve=RegExp(ge.source),He=RegExp(Se.source),Tt=/<%-([\s\S]+?)%>/g,Et=/<%([\s\S]+?)%>/g,It=/<%=([\s\S]+?)%>/g,Pt=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Zn=/^\w*$/,Hn=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,ce=/[\\^$.*+?()[\]{}|]/g,nt=RegExp(ce.source),ft=/^\s+/,sn=/\s/,Wn=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,Qr=/\{\n\/\* \[wrapped with (.+)\] \*/,eo=/,? & /,ni=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,Or=/[()=,{}\[\]\/\s]/,ar=/\\(\\)?/g,Dn=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,Ar=/\w*$/,to=/^[-+]0x[0-9a-f]+$/i,no=/^0b[01]+$/i,ro=/^\[object .+?Constructor\]$/,oo=/^0o[0-7]+$/i,ri=/^(?:0|[1-9]\d*)$/,ht=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,$n=/($^)/,Er=/['\n\r\u2028\u2029\\]/g,Ln="\\ud800-\\udfff",io="\\u0300-\\u036f",so="\\ufe20-\\ufe2f",ao="\\u20d0-\\u20ff",Ir=io+so+ao,Pr="\\u2700-\\u27bf",Cr="a-z\\xdf-\\xf6\\xf8-\\xff",oi="\\xac\\xb1\\xd7\\xf7",lo="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",uo="\\u2000-\\u206f",co=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",kr="A-Z\\xc0-\\xd6\\xd8-\\xde",fo="\\ufe0e\\ufe0f",Rr=oi+lo+uo+co,Dr="['’]",ii="["+Ln+"]",qn="["+Rr+"]",Kn="["+Ir+"]",$r="\\d+",lr="["+Pr+"]",Lr="["+Cr+"]",ur="[^"+Ln+Rr+$r+Pr+Cr+kr+"]",Yn="\\ud83c[\\udffb-\\udfff]",po="(?:"+Kn+"|"+Yn+")",Nr="[^"+Ln+"]",cr="(?:\\ud83c[\\udde6-\\uddff]){2}",Xn="[\\ud800-\\udbff][\\udc00-\\udfff]",gn="["+kr+"]",dr="\\u200d",Vr="(?:"+Lr+"|"+ur+")",k="(?:"+gn+"|"+ur+")",B="(?:"+Dr+"(?:d|ll|m|re|s|t|ve))?",q="(?:"+Dr+"(?:D|LL|M|RE|S|T|VE))?",ne=po+"?",ue="["+fo+"]?",Ae="(?:"+dr+"(?:"+[Nr,cr,Xn].join("|")+")"+ue+ne+")*",Fe="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",bt="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",Gt=ue+ne+Ae,Ct="(?:"+[lr,cr,Xn].join("|")+")"+Gt,Ft="(?:"+[Nr+Kn+"?",Kn,cr,Xn,ii].join("|")+")",ho=RegExp(Dr,"g"),go=RegExp(Kn,"g"),de=RegExp(Yn+"(?="+Yn+")|"+Ft+Gt,"g"),st=RegExp([gn+"?"+Lr+"+"+B+"(?="+[qn,gn,"$"].join("|")+")",k+"+"+q+"(?="+[qn,gn+Vr,"$"].join("|")+")",gn+"?"+Vr+"+"+B,gn+"+"+q,bt,Fe,$r,Ct].join("|"),"g"),vt=RegExp("["+dr+Ln+Ir+fo+"]"),wn=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,mo=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],bl=-1,mt={};mt[ut]=mt[At]=mt[Vt]=mt[jt]=mt[Ut]=mt[Xt]=mt[Re]=mt[xt]=mt[on]=!0,mt[Me]=mt[je]=mt[Ke]=mt[it]=mt[Ye]=mt[lt]=mt[ve]=mt[$]=mt[W]=mt[Q]=mt[ae]=mt[Te]=mt[pe]=mt[Oe]=mt[Ne]=!1;var gt={};gt[Me]=gt[je]=gt[Ke]=gt[Ye]=gt[it]=gt[lt]=gt[ut]=gt[At]=gt[Vt]=gt[jt]=gt[Ut]=gt[W]=gt[Q]=gt[ae]=gt[Te]=gt[pe]=gt[Oe]=gt[Ee]=gt[Xt]=gt[Re]=gt[xt]=gt[on]=!0,gt[ve]=gt[$]=gt[Ne]=!1;var vl={À:"A",Á:"A",Â:"A",Ã:"A",Ä:"A",Å:"A",à:"a",á:"a",â:"a",ã:"a",ä:"a",å:"a",Ç:"C",ç:"c",Ð:"D",ð:"d",È:"E",É:"E",Ê:"E",Ë:"E",è:"e",é:"e",ê:"e",ë:"e",Ì:"I",Í:"I",Î:"I",Ï:"I",ì:"i",í:"i",î:"i",ï:"i",Ñ:"N",ñ:"n",Ò:"O",Ó:"O",Ô:"O",Õ:"O",Ö:"O",Ø:"O",ò:"o",ó:"o",ô:"o",õ:"o",ö:"o",ø:"o",Ù:"U",Ú:"U",Û:"U",Ü:"U",ù:"u",ú:"u",û:"u",ü:"u",Ý:"Y",ý:"y",ÿ:"y",Æ:"Ae",æ:"ae",Þ:"Th",þ:"th",ß:"ss",Ā:"A",Ă:"A",Ą:"A",ā:"a",ă:"a",ą:"a",Ć:"C",Ĉ:"C",Ċ:"C",Č:"C",ć:"c",ĉ:"c",ċ:"c",č:"c",Ď:"D",Đ:"D",ď:"d",đ:"d",Ē:"E",Ĕ:"E",Ė:"E",Ę:"E",Ě:"E",ē:"e",ĕ:"e",ė:"e",ę:"e",ě:"e",Ĝ:"G",Ğ:"G",Ġ:"G",Ģ:"G",ĝ:"g",ğ:"g",ġ:"g",ģ:"g",Ĥ:"H",Ħ:"H",ĥ:"h",ħ:"h",Ĩ:"I",Ī:"I",Ĭ:"I",Į:"I",İ:"I",ĩ:"i",ī:"i",ĭ:"i",į:"i",ı:"i",Ĵ:"J",ĵ:"j",Ķ:"K",ķ:"k",ĸ:"k",Ĺ:"L",Ļ:"L",Ľ:"L",Ŀ:"L",Ł:"L",ĺ:"l",ļ:"l",ľ:"l",ŀ:"l",ł:"l",Ń:"N",Ņ:"N",Ň:"N",Ŋ:"N",ń:"n",ņ:"n",ň:"n",ŋ:"n",Ō:"O",Ŏ:"O",Ő:"O",ō:"o",ŏ:"o",ő:"o",Ŕ:"R",Ŗ:"R",Ř:"R",ŕ:"r",ŗ:"r",ř:"r",Ś:"S",Ŝ:"S",Ş:"S",Š:"S",ś:"s",ŝ:"s",ş:"s",š:"s",Ţ:"T",Ť:"T",Ŧ:"T",ţ:"t",ť:"t",ŧ:"t",Ũ:"U",Ū:"U",Ŭ:"U",Ů:"U",Ű:"U",Ų:"U",ũ:"u",ū:"u",ŭ:"u",ů:"u",ű:"u",ų:"u",Ŵ:"W",ŵ:"w",Ŷ:"Y",ŷ:"y",Ÿ:"Y",Ź:"Z",Ż:"Z",Ž:"Z",ź:"z",ż:"z",ž:"z",Ĳ:"IJ",ĳ:"ij",Œ:"Oe",œ:"oe",ŉ:"'n",ſ:"s"},_l={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},xl={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},Tl={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},wl=parseFloat,Sl=parseInt,ds=typeof commonjsGlobal=="object"&&commonjsGlobal&&commonjsGlobal.Object===Object&&commonjsGlobal,Ol=typeof self=="object"&&self&&self.Object===Object&&self,Lt=ds||Ol||Function("return this")(),si=t&&!t.nodeType&&t,Jn=si&&!0&&i&&!i.nodeType&&i,fs=Jn&&Jn.exports===si,ai=fs&&ds.process,an=function(){try{var X=Jn&&Jn.require&&Jn.require("util").types;return X||ai&&ai.binding&&ai.binding("util")}catch{}}(),ps=an&&an.isArrayBuffer,hs=an&&an.isDate,gs=an&&an.isMap,ms=an&&an.isRegExp,ys=an&&an.isSet,bs=an&&an.isTypedArray;function Jt(X,fe,se){switch(se.length){case 0:return X.call(fe);case 1:return X.call(fe,se[0]);case 2:return X.call(fe,se[0],se[1]);case 3:return X.call(fe,se[0],se[1],se[2])}return X.apply(fe,se)}function Al(X,fe,se,De){for(var We=-1,at=X==null?0:X.length;++We<at;){var kt=X[We];fe(De,kt,se(kt),X)}return De}function ln(X,fe){for(var se=-1,De=X==null?0:X.length;++se<De&&fe(X[se],se,X)!==!1;);return X}function El(X,fe){for(var se=X==null?0:X.length;se--&&fe(X[se],se,X)!==!1;);return X}function vs(X,fe){for(var se=-1,De=X==null?0:X.length;++se<De;)if(!fe(X[se],se,X))return!1;return!0}function Nn(X,fe){for(var se=-1,De=X==null?0:X.length,We=0,at=[];++se<De;){var kt=X[se];fe(kt,se,X)&&(at[We++]=kt)}return at}function yo(X,fe){var se=X==null?0:X.length;return!!se&&fr(X,fe,0)>-1}function li(X,fe,se){for(var De=-1,We=X==null?0:X.length;++De<We;)if(se(fe,X[De]))return!0;return!1}function yt(X,fe){for(var se=-1,De=X==null?0:X.length,We=Array(De);++se<De;)We[se]=fe(X[se],se,X);return We}function Vn(X,fe){for(var se=-1,De=fe.length,We=X.length;++se<De;)X[We+se]=fe[se];return X}function ui(X,fe,se,De){var We=-1,at=X==null?0:X.length;for(De&&at&&(se=X[++We]);++We<at;)se=fe(se,X[We],We,X);return se}function Il(X,fe,se,De){var We=X==null?0:X.length;for(De&&We&&(se=X[--We]);We--;)se=fe(se,X[We],We,X);return se}function ci(X,fe){for(var se=-1,De=X==null?0:X.length;++se<De;)if(fe(X[se],se,X))return!0;return!1}var Pl=di("length");function Cl(X){return X.split("")}function kl(X){return X.match(ni)||[]}function _s(X,fe,se){var De;return se(X,function(We,at,kt){if(fe(We,at,kt))return De=at,!1}),De}function bo(X,fe,se,De){for(var We=X.length,at=se+(De?1:-1);De?at--:++at<We;)if(fe(X[at],at,X))return at;return-1}function fr(X,fe,se){return fe===fe?Gl(X,fe,se):bo(X,xs,se)}function Rl(X,fe,se,De){for(var We=se-1,at=X.length;++We<at;)if(De(X[We],fe))return We;return-1}function xs(X){return X!==X}function Ts(X,fe){var se=X==null?0:X.length;return se?pi(X,fe)/se:Ce}function di(X){return function(fe){return fe==null?s:fe[X]}}function fi(X){return function(fe){return X==null?s:X[fe]}}function ws(X,fe,se,De,We){return We(X,function(at,kt,pt){se=De?(De=!1,at):fe(se,at,kt,pt)}),se}function Dl(X,fe){var se=X.length;for(X.sort(fe);se--;)X[se]=X[se].value;return X}function pi(X,fe){for(var se,De=-1,We=X.length;++De<We;){var at=fe(X[De]);at!==s&&(se=se===s?at:se+at)}return se}function hi(X,fe){for(var se=-1,De=Array(X);++se<X;)De[se]=fe(se);return De}function $l(X,fe){return yt(fe,function(se){return[se,X[se]]})}function Ss(X){return X&&X.slice(0,Is(X)+1).replace(ft,"")}function Qt(X){return function(fe){return X(fe)}}function gi(X,fe){return yt(fe,function(se){return X[se]})}function Fr(X,fe){return X.has(fe)}function Os(X,fe){for(var se=-1,De=X.length;++se<De&&fr(fe,X[se],0)>-1;);return se}function As(X,fe){for(var se=X.length;se--&&fr(fe,X[se],0)>-1;);return se}function Ll(X,fe){for(var se=X.length,De=0;se--;)X[se]===fe&&++De;return De}var Nl=fi(vl),Vl=fi(_l);function Fl(X){return"\\"+Tl[X]}function Ml(X,fe){return X==null?s:X[fe]}function pr(X){return vt.test(X)}function Bl(X){return wn.test(X)}function jl(X){for(var fe,se=[];!(fe=X.next()).done;)se.push(fe.value);return se}function mi(X){var fe=-1,se=Array(X.size);return X.forEach(function(De,We){se[++fe]=[We,De]}),se}function Es(X,fe){return function(se){return X(fe(se))}}function Fn(X,fe){for(var se=-1,De=X.length,We=0,at=[];++se<De;){var kt=X[se];(kt===fe||kt===c)&&(X[se]=c,at[We++]=se)}return at}function vo(X){var fe=-1,se=Array(X.size);return X.forEach(function(De){se[++fe]=De}),se}function Ul(X){var fe=-1,se=Array(X.size);return X.forEach(function(De){se[++fe]=[De,De]}),se}function Gl(X,fe,se){for(var De=se-1,We=X.length;++De<We;)if(X[De]===fe)return De;return-1}function zl(X,fe,se){for(var De=se+1;De--;)if(X[De]===fe)return De;return De}function hr(X){return pr(X)?Hl(X):Pl(X)}function mn(X){return pr(X)?Wl(X):Cl(X)}function Is(X){for(var fe=X.length;fe--&&sn.test(X.charAt(fe)););return fe}var Zl=fi(xl);function Hl(X){for(var fe=de.lastIndex=0;de.test(X);)++fe;return fe}function Wl(X){return X.match(de)||[]}function ql(X){return X.match(st)||[]}var Kl=function X(fe){fe=fe==null?Lt:gr.defaults(Lt.Object(),fe,gr.pick(Lt,mo));var se=fe.Array,De=fe.Date,We=fe.Error,at=fe.Function,kt=fe.Math,pt=fe.Object,yi=fe.RegExp,Yl=fe.String,un=fe.TypeError,_o=se.prototype,Xl=at.prototype,mr=pt.prototype,xo=fe["__core-js_shared__"],To=Xl.toString,dt=mr.hasOwnProperty,Jl=0,Ps=function(){var a=/[^.]+$/.exec(xo&&xo.keys&&xo.keys.IE_PROTO||"");return a?"Symbol(src)_1."+a:""}(),wo=mr.toString,Ql=To.call(pt),eu=Lt._,tu=yi("^"+To.call(dt).replace(ce,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),So=fs?fe.Buffer:s,Mn=fe.Symbol,Oo=fe.Uint8Array,Cs=So?So.allocUnsafe:s,Ao=Es(pt.getPrototypeOf,pt),ks=pt.create,Rs=mr.propertyIsEnumerable,Eo=_o.splice,Ds=Mn?Mn.isConcatSpreadable:s,Mr=Mn?Mn.iterator:s,Qn=Mn?Mn.toStringTag:s,Io=function(){try{var a=or(pt,"defineProperty");return a({},"",{}),a}catch{}}(),nu=fe.clearTimeout!==Lt.clearTimeout&&fe.clearTimeout,ru=De&&De.now!==Lt.Date.now&&De.now,ou=fe.setTimeout!==Lt.setTimeout&&fe.setTimeout,Po=kt.ceil,Co=kt.floor,bi=pt.getOwnPropertySymbols,iu=So?So.isBuffer:s,$s=fe.isFinite,su=_o.join,au=Es(pt.keys,pt),Rt=kt.max,Mt=kt.min,lu=De.now,uu=fe.parseInt,Ls=kt.random,cu=_o.reverse,vi=or(fe,"DataView"),Br=or(fe,"Map"),_i=or(fe,"Promise"),yr=or(fe,"Set"),jr=or(fe,"WeakMap"),Ur=or(pt,"create"),ko=jr&&new jr,br={},du=ir(vi),fu=ir(Br),pu=ir(_i),hu=ir(yr),gu=ir(jr),Ro=Mn?Mn.prototype:s,Gr=Ro?Ro.valueOf:s,Ns=Ro?Ro.toString:s;function D(a){if(wt(a)&&!qe(a)&&!(a instanceof rt)){if(a instanceof cn)return a;if(dt.call(a,"__wrapped__"))return Va(a)}return new cn(a)}var vr=function(){function a(){}return function(b){if(!_t(b))return{};if(ks)return ks(b);a.prototype=b;var T=new a;return a.prototype=s,T}}();function Do(){}function cn(a,b){this.__wrapped__=a,this.__actions__=[],this.__chain__=!!b,this.__index__=0,this.__values__=s}D.templateSettings={escape:Tt,evaluate:Et,interpolate:It,variable:"",imports:{_:D}},D.prototype=Do.prototype,D.prototype.constructor=D,cn.prototype=vr(Do.prototype),cn.prototype.constructor=cn;function rt(a){this.__wrapped__=a,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=we,this.__views__=[]}function mu(){var a=new rt(this.__wrapped__);return a.__actions__=Wt(this.__actions__),a.__dir__=this.__dir__,a.__filtered__=this.__filtered__,a.__iteratees__=Wt(this.__iteratees__),a.__takeCount__=this.__takeCount__,a.__views__=Wt(this.__views__),a}function yu(){if(this.__filtered__){var a=new rt(this);a.__dir__=-1,a.__filtered__=!0}else a=this.clone(),a.__dir__*=-1;return a}function bu(){var a=this.__wrapped__.value(),b=this.__dir__,T=qe(a),E=b<0,C=T?a.length:0,N=Cc(0,C,this.__views__),Z=N.start,K=N.end,J=K-Z,me=E?K:Z-1,ye=this.__iteratees__,_e=ye.length,Ie=0,$e=Mt(J,this.__takeCount__);if(!T||!E&&C==J&&$e==J)return sa(a,this.__actions__);var Ge=[];e:for(;J--&&Ie<$e;){me+=b;for(var Qe=-1,ze=a[me];++Qe<_e;){var tt=ye[Qe],ot=tt.iteratee,nn=tt.type,Ht=ot(ze);if(nn==R)ze=Ht;else if(!Ht){if(nn==re)continue e;break e}}Ge[Ie++]=ze}return Ge}rt.prototype=vr(Do.prototype),rt.prototype.constructor=rt;function er(a){var b=-1,T=a==null?0:a.length;for(this.clear();++b<T;){var E=a[b];this.set(E[0],E[1])}}function vu(){this.__data__=Ur?Ur(null):{},this.size=0}function _u(a){var b=this.has(a)&&delete this.__data__[a];return this.size-=b?1:0,b}function xu(a){var b=this.__data__;if(Ur){var T=b[a];return T===v?s:T}return dt.call(b,a)?b[a]:s}function Tu(a){var b=this.__data__;return Ur?b[a]!==s:dt.call(b,a)}function wu(a,b){var T=this.__data__;return this.size+=this.has(a)?0:1,T[a]=Ur&&b===s?v:b,this}er.prototype.clear=vu,er.prototype.delete=_u,er.prototype.get=xu,er.prototype.has=Tu,er.prototype.set=wu;function Sn(a){var b=-1,T=a==null?0:a.length;for(this.clear();++b<T;){var E=a[b];this.set(E[0],E[1])}}function Su(){this.__data__=[],this.size=0}function Ou(a){var b=this.__data__,T=$o(b,a);if(T<0)return!1;var E=b.length-1;return T==E?b.pop():Eo.call(b,T,1),--this.size,!0}function Au(a){var b=this.__data__,T=$o(b,a);return T<0?s:b[T][1]}function Eu(a){return $o(this.__data__,a)>-1}function Iu(a,b){var T=this.__data__,E=$o(T,a);return E<0?(++this.size,T.push([a,b])):T[E][1]=b,this}Sn.prototype.clear=Su,Sn.prototype.delete=Ou,Sn.prototype.get=Au,Sn.prototype.has=Eu,Sn.prototype.set=Iu;function On(a){var b=-1,T=a==null?0:a.length;for(this.clear();++b<T;){var E=a[b];this.set(E[0],E[1])}}function Pu(){this.size=0,this.__data__={hash:new er,map:new(Br||Sn),string:new er}}function Cu(a){var b=Ho(this,a).delete(a);return this.size-=b?1:0,b}function ku(a){return Ho(this,a).get(a)}function Ru(a){return Ho(this,a).has(a)}function Du(a,b){var T=Ho(this,a),E=T.size;return T.set(a,b),this.size+=T.size==E?0:1,this}On.prototype.clear=Pu,On.prototype.delete=Cu,On.prototype.get=ku,On.prototype.has=Ru,On.prototype.set=Du;function tr(a){var b=-1,T=a==null?0:a.length;for(this.__data__=new On;++b<T;)this.add(a[b])}function $u(a){return this.__data__.set(a,v),this}function Lu(a){return this.__data__.has(a)}tr.prototype.add=tr.prototype.push=$u,tr.prototype.has=Lu;function yn(a){var b=this.__data__=new Sn(a);this.size=b.size}function Nu(){this.__data__=new Sn,this.size=0}function Vu(a){var b=this.__data__,T=b.delete(a);return this.size=b.size,T}function Fu(a){return this.__data__.get(a)}function Mu(a){return this.__data__.has(a)}function Bu(a,b){var T=this.__data__;if(T instanceof Sn){var E=T.__data__;if(!Br||E.length<l-1)return E.push([a,b]),this.size=++T.size,this;T=this.__data__=new On(E)}return T.set(a,b),this.size=T.size,this}yn.prototype.clear=Nu,yn.prototype.delete=Vu,yn.prototype.get=Fu,yn.prototype.has=Mu,yn.prototype.set=Bu;function Vs(a,b){var T=qe(a),E=!T&&sr(a),C=!T&&!E&&zn(a),N=!T&&!E&&!C&&wr(a),Z=T||E||C||N,K=Z?hi(a.length,Yl):[],J=K.length;for(var me in a)(b||dt.call(a,me))&&!(Z&&(me=="length"||C&&(me=="offset"||me=="parent")||N&&(me=="buffer"||me=="byteLength"||me=="byteOffset")||Pn(me,J)))&&K.push(me);return K}function Fs(a){var b=a.length;return b?a[ki(0,b-1)]:s}function ju(a,b){return Wo(Wt(a),nr(b,0,a.length))}function Uu(a){return Wo(Wt(a))}function xi(a,b,T){(T!==s&&!bn(a[b],T)||T===s&&!(b in a))&&An(a,b,T)}function zr(a,b,T){var E=a[b];(!(dt.call(a,b)&&bn(E,T))||T===s&&!(b in a))&&An(a,b,T)}function $o(a,b){for(var T=a.length;T--;)if(bn(a[T][0],b))return T;return-1}function Gu(a,b,T,E){return Bn(a,function(C,N,Z){b(E,C,T(C),Z)}),E}function Ms(a,b){return a&&xn(b,$t(b),a)}function zu(a,b){return a&&xn(b,Kt(b),a)}function An(a,b,T){b=="__proto__"&&Io?Io(a,b,{configurable:!0,enumerable:!0,value:T,writable:!0}):a[b]=T}function Ti(a,b){for(var T=-1,E=b.length,C=se(E),N=a==null;++T<E;)C[T]=N?s:ns(a,b[T]);return C}function nr(a,b,T){return a===a&&(T!==s&&(a=a<=T?a:T),b!==s&&(a=a>=b?a:b)),a}function dn(a,b,T,E,C,N){var Z,K=b&r,J=b&e,me=b&n;if(T&&(Z=C?T(a,E,C,N):T(a)),Z!==s)return Z;if(!_t(a))return a;var ye=qe(a);if(ye){if(Z=Rc(a),!K)return Wt(a,Z)}else{var _e=Bt(a),Ie=_e==$||_e==V;if(zn(a))return ua(a,K);if(_e==ae||_e==Me||Ie&&!C){if(Z=J||Ie?{}:Ia(a),!K)return J?xc(a,zu(Z,a)):_c(a,Ms(Z,a))}else{if(!gt[_e])return C?a:{};Z=Dc(a,_e,K)}}N||(N=new yn);var $e=N.get(a);if($e)return $e;N.set(a,Z),rl(a)?a.forEach(function(ze){Z.add(dn(ze,b,T,ze,a,N))}):tl(a)&&a.forEach(function(ze,tt){Z.set(tt,dn(ze,b,T,tt,a,N))});var Ge=me?J?Ui:ji:J?Kt:$t,Qe=ye?s:Ge(a);return ln(Qe||a,function(ze,tt){Qe&&(tt=ze,ze=a[tt]),zr(Z,tt,dn(ze,b,T,tt,a,N))}),Z}function Zu(a){var b=$t(a);return function(T){return Bs(T,a,b)}}function Bs(a,b,T){var E=T.length;if(a==null)return!E;for(a=pt(a);E--;){var C=T[E],N=b[C],Z=a[C];if(Z===s&&!(C in a)||!N(Z))return!1}return!0}function js(a,b,T){if(typeof a!="function")throw new un(y);return Xr(function(){a.apply(s,T)},b)}function Zr(a,b,T,E){var C=-1,N=yo,Z=!0,K=a.length,J=[],me=b.length;if(!K)return J;T&&(b=yt(b,Qt(T))),E?(N=li,Z=!1):b.length>=l&&(N=Fr,Z=!1,b=new tr(b));e:for(;++C<K;){var ye=a[C],_e=T==null?ye:T(ye);if(ye=E||ye!==0?ye:0,Z&&_e===_e){for(var Ie=me;Ie--;)if(b[Ie]===_e)continue e;J.push(ye)}else N(b,_e,E)||J.push(ye)}return J}var Bn=ha(_n),Us=ha(Si,!0);function Hu(a,b){var T=!0;return Bn(a,function(E,C,N){return T=!!b(E,C,N),T}),T}function Lo(a,b,T){for(var E=-1,C=a.length;++E<C;){var N=a[E],Z=b(N);if(Z!=null&&(K===s?Z===Z&&!tn(Z):T(Z,K)))var K=Z,J=N}return J}function Wu(a,b,T,E){var C=a.length;for(T=Xe(T),T<0&&(T=-T>C?0:C+T),E=E===s||E>C?C:Xe(E),E<0&&(E+=C),E=T>E?0:il(E);T<E;)a[T++]=b;return a}function Gs(a,b){var T=[];return Bn(a,function(E,C,N){b(E,C,N)&&T.push(E)}),T}function Nt(a,b,T,E,C){var N=-1,Z=a.length;for(T||(T=Lc),C||(C=[]);++N<Z;){var K=a[N];b>0&&T(K)?b>1?Nt(K,b-1,T,E,C):Vn(C,K):E||(C[C.length]=K)}return C}var wi=ga(),zs=ga(!0);function _n(a,b){return a&&wi(a,b,$t)}function Si(a,b){return a&&zs(a,b,$t)}function No(a,b){return Nn(b,function(T){return Cn(a[T])})}function rr(a,b){b=Un(b,a);for(var T=0,E=b.length;a!=null&&T<E;)a=a[Tn(b[T++])];return T&&T==E?a:s}function Zs(a,b,T){var E=b(a);return qe(a)?E:Vn(E,T(a))}function zt(a){return a==null?a===s?ke:ie:Qn&&Qn in pt(a)?Pc(a):Uc(a)}function Oi(a,b){return a>b}function qu(a,b){return a!=null&&dt.call(a,b)}function Ku(a,b){return a!=null&&b in pt(a)}function Yu(a,b,T){return a>=Mt(b,T)&&a<Rt(b,T)}function Ai(a,b,T){for(var E=T?li:yo,C=a[0].length,N=a.length,Z=N,K=se(N),J=1/0,me=[];Z--;){var ye=a[Z];Z&&b&&(ye=yt(ye,Qt(b))),J=Mt(ye.length,J),K[Z]=!T&&(b||C>=120&&ye.length>=120)?new tr(Z&&ye):s}ye=a[0];var _e=-1,Ie=K[0];e:for(;++_e<C&&me.length<J;){var $e=ye[_e],Ge=b?b($e):$e;if($e=T||$e!==0?$e:0,!(Ie?Fr(Ie,Ge):E(me,Ge,T))){for(Z=N;--Z;){var Qe=K[Z];if(!(Qe?Fr(Qe,Ge):E(a[Z],Ge,T)))continue e}Ie&&Ie.push(Ge),me.push($e)}}return me}function Xu(a,b,T,E){return _n(a,function(C,N,Z){b(E,T(C),N,Z)}),E}function Hr(a,b,T){b=Un(b,a),a=Ra(a,b);var E=a==null?a:a[Tn(pn(b))];return E==null?s:Jt(E,a,T)}function Hs(a){return wt(a)&&zt(a)==Me}function Ju(a){return wt(a)&&zt(a)==Ke}function Qu(a){return wt(a)&&zt(a)==lt}function Wr(a,b,T,E,C){return a===b?!0:a==null||b==null||!wt(a)&&!wt(b)?a!==a&&b!==b:ec(a,b,T,E,Wr,C)}function ec(a,b,T,E,C,N){var Z=qe(a),K=qe(b),J=Z?je:Bt(a),me=K?je:Bt(b);J=J==Me?ae:J,me=me==Me?ae:me;var ye=J==ae,_e=me==ae,Ie=J==me;if(Ie&&zn(a)){if(!zn(b))return!1;Z=!0,ye=!1}if(Ie&&!ye)return N||(N=new yn),Z||wr(a)?Oa(a,b,T,E,C,N):Ec(a,b,J,T,E,C,N);if(!(T&o)){var $e=ye&&dt.call(a,"__wrapped__"),Ge=_e&&dt.call(b,"__wrapped__");if($e||Ge){var Qe=$e?a.value():a,ze=Ge?b.value():b;return N||(N=new yn),C(Qe,ze,T,E,N)}}return Ie?(N||(N=new yn),Ic(a,b,T,E,C,N)):!1}function tc(a){return wt(a)&&Bt(a)==W}function Ei(a,b,T,E){var C=T.length,N=C,Z=!E;if(a==null)return!N;for(a=pt(a);C--;){var K=T[C];if(Z&&K[2]?K[1]!==a[K[0]]:!(K[0]in a))return!1}for(;++C<N;){K=T[C];var J=K[0],me=a[J],ye=K[1];if(Z&&K[2]){if(me===s&&!(J in a))return!1}else{var _e=new yn;if(E)var Ie=E(me,ye,J,a,b,_e);if(!(Ie===s?Wr(ye,me,o|m,E,_e):Ie))return!1}}return!0}function Ws(a){if(!_t(a)||Vc(a))return!1;var b=Cn(a)?tu:ro;return b.test(ir(a))}function nc(a){return wt(a)&&zt(a)==Te}function rc(a){return wt(a)&&Bt(a)==pe}function oc(a){return wt(a)&&Qo(a.length)&&!!mt[zt(a)]}function qs(a){return typeof a=="function"?a:a==null?Yt:typeof a=="object"?qe(a)?Xs(a[0],a[1]):Ys(a):ml(a)}function Ii(a){if(!Yr(a))return au(a);var b=[];for(var T in pt(a))dt.call(a,T)&&T!="constructor"&&b.push(T);return b}function ic(a){if(!_t(a))return jc(a);var b=Yr(a),T=[];for(var E in a)E=="constructor"&&(b||!dt.call(a,E))||T.push(E);return T}function Pi(a,b){return a<b}function Ks(a,b){var T=-1,E=qt(a)?se(a.length):[];return Bn(a,function(C,N,Z){E[++T]=b(C,N,Z)}),E}function Ys(a){var b=zi(a);return b.length==1&&b[0][2]?Ca(b[0][0],b[0][1]):function(T){return T===a||Ei(T,a,b)}}function Xs(a,b){return Hi(a)&&Pa(b)?Ca(Tn(a),b):function(T){var E=ns(T,a);return E===s&&E===b?rs(T,a):Wr(b,E,o|m)}}function Vo(a,b,T,E,C){a!==b&&wi(b,function(N,Z){if(C||(C=new yn),_t(N))sc(a,b,Z,T,Vo,E,C);else{var K=E?E(qi(a,Z),N,Z+"",a,b,C):s;K===s&&(K=N),xi(a,Z,K)}},Kt)}function sc(a,b,T,E,C,N,Z){var K=qi(a,T),J=qi(b,T),me=Z.get(J);if(me){xi(a,T,me);return}var ye=N?N(K,J,T+"",a,b,Z):s,_e=ye===s;if(_e){var Ie=qe(J),$e=!Ie&&zn(J),Ge=!Ie&&!$e&&wr(J);ye=J,Ie||$e||Ge?qe(K)?ye=K:St(K)?ye=Wt(K):$e?(_e=!1,ye=ua(J,!0)):Ge?(_e=!1,ye=ca(J,!0)):ye=[]:Jr(J)||sr(J)?(ye=K,sr(K)?ye=sl(K):(!_t(K)||Cn(K))&&(ye=Ia(J))):_e=!1}_e&&(Z.set(J,ye),C(ye,J,E,N,Z),Z.delete(J)),xi(a,T,ye)}function Js(a,b){var T=a.length;if(T)return b+=b<0?T:0,Pn(b,T)?a[b]:s}function Qs(a,b,T){b.length?b=yt(b,function(N){return qe(N)?function(Z){return rr(Z,N.length===1?N[0]:N)}:N}):b=[Yt];var E=-1;b=yt(b,Qt(Ue()));var C=Ks(a,function(N,Z,K){var J=yt(b,function(me){return me(N)});return{criteria:J,index:++E,value:N}});return Dl(C,function(N,Z){return vc(N,Z,T)})}function ac(a,b){return ea(a,b,function(T,E){return rs(a,E)})}function ea(a,b,T){for(var E=-1,C=b.length,N={};++E<C;){var Z=b[E],K=rr(a,Z);T(K,Z)&&qr(N,Un(Z,a),K)}return N}function lc(a){return function(b){return rr(b,a)}}function Ci(a,b,T,E){var C=E?Rl:fr,N=-1,Z=b.length,K=a;for(a===b&&(b=Wt(b)),T&&(K=yt(a,Qt(T)));++N<Z;)for(var J=0,me=b[N],ye=T?T(me):me;(J=C(K,ye,J,E))>-1;)K!==a&&Eo.call(K,J,1),Eo.call(a,J,1);return a}function ta(a,b){for(var T=a?b.length:0,E=T-1;T--;){var C=b[T];if(T==E||C!==N){var N=C;Pn(C)?Eo.call(a,C,1):$i(a,C)}}return a}function ki(a,b){return a+Co(Ls()*(b-a+1))}function uc(a,b,T,E){for(var C=-1,N=Rt(Po((b-a)/(T||1)),0),Z=se(N);N--;)Z[E?N:++C]=a,a+=T;return Z}function Ri(a,b){var T="";if(!a||b<1||b>le)return T;do b%2&&(T+=a),b=Co(b/2),b&&(a+=a);while(b);return T}function et(a,b){return Ki(ka(a,b,Yt),a+"")}function cc(a){return Fs(Sr(a))}function dc(a,b){var T=Sr(a);return Wo(T,nr(b,0,T.length))}function qr(a,b,T,E){if(!_t(a))return a;b=Un(b,a);for(var C=-1,N=b.length,Z=N-1,K=a;K!=null&&++C<N;){var J=Tn(b[C]),me=T;if(J==="__proto__"||J==="constructor"||J==="prototype")return a;if(C!=Z){var ye=K[J];me=E?E(ye,J,K):s,me===s&&(me=_t(ye)?ye:Pn(b[C+1])?[]:{})}zr(K,J,me),K=K[J]}return a}var na=ko?function(a,b){return ko.set(a,b),a}:Yt,fc=Io?function(a,b){return Io(a,"toString",{configurable:!0,enumerable:!1,value:is(b),writable:!0})}:Yt;function pc(a){return Wo(Sr(a))}function fn(a,b,T){var E=-1,C=a.length;b<0&&(b=-b>C?0:C+b),T=T>C?C:T,T<0&&(T+=C),C=b>T?0:T-b>>>0,b>>>=0;for(var N=se(C);++E<C;)N[E]=a[E+b];return N}function hc(a,b){var T;return Bn(a,function(E,C,N){return T=b(E,C,N),!T}),!!T}function Fo(a,b,T){var E=0,C=a==null?E:a.length;if(typeof b=="number"&&b===b&&C<=Le){for(;E<C;){var N=E+C>>>1,Z=a[N];Z!==null&&!tn(Z)&&(T?Z<=b:Z<b)?E=N+1:C=N}return C}return Di(a,b,Yt,T)}function Di(a,b,T,E){var C=0,N=a==null?0:a.length;if(N===0)return 0;b=T(b);for(var Z=b!==b,K=b===null,J=tn(b),me=b===s;C<N;){var ye=Co((C+N)/2),_e=T(a[ye]),Ie=_e!==s,$e=_e===null,Ge=_e===_e,Qe=tn(_e);if(Z)var ze=E||Ge;else me?ze=Ge&&(E||Ie):K?ze=Ge&&Ie&&(E||!$e):J?ze=Ge&&Ie&&!$e&&(E||!Qe):$e||Qe?ze=!1:ze=E?_e<=b:_e<b;ze?C=ye+1:N=ye}return Mt(N,Pe)}function ra(a,b){for(var T=-1,E=a.length,C=0,N=[];++T<E;){var Z=a[T],K=b?b(Z):Z;if(!T||!bn(K,J)){var J=K;N[C++]=Z===0?0:Z}}return N}function oa(a){return typeof a=="number"?a:tn(a)?Ce:+a}function en(a){if(typeof a=="string")return a;if(qe(a))return yt(a,en)+"";if(tn(a))return Ns?Ns.call(a):"";var b=a+"";return b=="0"&&1/a==-H?"-0":b}function jn(a,b,T){var E=-1,C=yo,N=a.length,Z=!0,K=[],J=K;if(T)Z=!1,C=li;else if(N>=l){var me=b?null:Oc(a);if(me)return vo(me);Z=!1,C=Fr,J=new tr}else J=b?[]:K;e:for(;++E<N;){var ye=a[E],_e=b?b(ye):ye;if(ye=T||ye!==0?ye:0,Z&&_e===_e){for(var Ie=J.length;Ie--;)if(J[Ie]===_e)continue e;b&&J.push(_e),K.push(ye)}else C(J,_e,T)||(J!==K&&J.push(_e),K.push(ye))}return K}function $i(a,b){return b=Un(b,a),a=Ra(a,b),a==null||delete a[Tn(pn(b))]}function ia(a,b,T,E){return qr(a,b,T(rr(a,b)),E)}function Mo(a,b,T,E){for(var C=a.length,N=E?C:-1;(E?N--:++N<C)&&b(a[N],N,a););return T?fn(a,E?0:N,E?N+1:C):fn(a,E?N+1:0,E?C:N)}function sa(a,b){var T=a;return T instanceof rt&&(T=T.value()),ui(b,function(E,C){return C.func.apply(C.thisArg,Vn([E],C.args))},T)}function Li(a,b,T){var E=a.length;if(E<2)return E?jn(a[0]):[];for(var C=-1,N=se(E);++C<E;)for(var Z=a[C],K=-1;++K<E;)K!=C&&(N[C]=Zr(N[C]||Z,a[K],b,T));return jn(Nt(N,1),b,T)}function aa(a,b,T){for(var E=-1,C=a.length,N=b.length,Z={};++E<C;){var K=E<N?b[E]:s;T(Z,a[E],K)}return Z}function Ni(a){return St(a)?a:[]}function Vi(a){return typeof a=="function"?a:Yt}function Un(a,b){return qe(a)?a:Hi(a,b)?[a]:Na(ct(a))}var gc=et;function Gn(a,b,T){var E=a.length;return T=T===s?E:T,!b&&T>=E?a:fn(a,b,T)}var la=nu||function(a){return Lt.clearTimeout(a)};function ua(a,b){if(b)return a.slice();var T=a.length,E=Cs?Cs(T):new a.constructor(T);return a.copy(E),E}function Fi(a){var b=new a.constructor(a.byteLength);return new Oo(b).set(new Oo(a)),b}function mc(a,b){var T=b?Fi(a.buffer):a.buffer;return new a.constructor(T,a.byteOffset,a.byteLength)}function yc(a){var b=new a.constructor(a.source,Ar.exec(a));return b.lastIndex=a.lastIndex,b}function bc(a){return Gr?pt(Gr.call(a)):{}}function ca(a,b){var T=b?Fi(a.buffer):a.buffer;return new a.constructor(T,a.byteOffset,a.length)}function da(a,b){if(a!==b){var T=a!==s,E=a===null,C=a===a,N=tn(a),Z=b!==s,K=b===null,J=b===b,me=tn(b);if(!K&&!me&&!N&&a>b||N&&Z&&J&&!K&&!me||E&&Z&&J||!T&&J||!C)return 1;if(!E&&!N&&!me&&a<b||me&&T&&C&&!E&&!N||K&&T&&C||!Z&&C||!J)return-1}return 0}function vc(a,b,T){for(var E=-1,C=a.criteria,N=b.criteria,Z=C.length,K=T.length;++E<Z;){var J=da(C[E],N[E]);if(J){if(E>=K)return J;var me=T[E];return J*(me=="desc"?-1:1)}}return a.index-b.index}function fa(a,b,T,E){for(var C=-1,N=a.length,Z=T.length,K=-1,J=b.length,me=Rt(N-Z,0),ye=se(J+me),_e=!E;++K<J;)ye[K]=b[K];for(;++C<Z;)(_e||C<N)&&(ye[T[C]]=a[C]);for(;me--;)ye[K++]=a[C++];return ye}function pa(a,b,T,E){for(var C=-1,N=a.length,Z=-1,K=T.length,J=-1,me=b.length,ye=Rt(N-K,0),_e=se(ye+me),Ie=!E;++C<ye;)_e[C]=a[C];for(var $e=C;++J<me;)_e[$e+J]=b[J];for(;++Z<K;)(Ie||C<N)&&(_e[$e+T[Z]]=a[C++]);return _e}function Wt(a,b){var T=-1,E=a.length;for(b||(b=se(E));++T<E;)b[T]=a[T];return b}function xn(a,b,T,E){var C=!T;T||(T={});for(var N=-1,Z=b.length;++N<Z;){var K=b[N],J=E?E(T[K],a[K],K,T,a):s;J===s&&(J=a[K]),C?An(T,K,J):zr(T,K,J)}return T}function _c(a,b){return xn(a,Zi(a),b)}function xc(a,b){return xn(a,Aa(a),b)}function Bo(a,b){return function(T,E){var C=qe(T)?Al:Gu,N=b?b():{};return C(T,a,Ue(E,2),N)}}function _r(a){return et(function(b,T){var E=-1,C=T.length,N=C>1?T[C-1]:s,Z=C>2?T[2]:s;for(N=a.length>3&&typeof N=="function"?(C--,N):s,Z&&Zt(T[0],T[1],Z)&&(N=C<3?s:N,C=1),b=pt(b);++E<C;){var K=T[E];K&&a(b,K,E,N)}return b})}function ha(a,b){return function(T,E){if(T==null)return T;if(!qt(T))return a(T,E);for(var C=T.length,N=b?C:-1,Z=pt(T);(b?N--:++N<C)&&E(Z[N],N,Z)!==!1;);return T}}function ga(a){return function(b,T,E){for(var C=-1,N=pt(b),Z=E(b),K=Z.length;K--;){var J=Z[a?K:++C];if(T(N[J],J,N)===!1)break}return b}}function Tc(a,b,T){var E=b&_,C=Kr(a);function N(){var Z=this&&this!==Lt&&this instanceof N?C:a;return Z.apply(E?T:this,arguments)}return N}function ma(a){return function(b){b=ct(b);var T=pr(b)?mn(b):s,E=T?T[0]:b.charAt(0),C=T?Gn(T,1).join(""):b.slice(1);return E[a]()+C}}function xr(a){return function(b){return ui(hl(pl(b).replace(ho,"")),a,"")}}function Kr(a){return function(){var b=arguments;switch(b.length){case 0:return new a;case 1:return new a(b[0]);case 2:return new a(b[0],b[1]);case 3:return new a(b[0],b[1],b[2]);case 4:return new a(b[0],b[1],b[2],b[3]);case 5:return new a(b[0],b[1],b[2],b[3],b[4]);case 6:return new a(b[0],b[1],b[2],b[3],b[4],b[5]);case 7:return new a(b[0],b[1],b[2],b[3],b[4],b[5],b[6])}var T=vr(a.prototype),E=a.apply(T,b);return _t(E)?E:T}}function wc(a,b,T){var E=Kr(a);function C(){for(var N=arguments.length,Z=se(N),K=N,J=Tr(C);K--;)Z[K]=arguments[K];var me=N<3&&Z[0]!==J&&Z[N-1]!==J?[]:Fn(Z,J);if(N-=me.length,N<T)return xa(a,b,jo,C.placeholder,s,Z,me,s,s,T-N);var ye=this&&this!==Lt&&this instanceof C?E:a;return Jt(ye,this,Z)}return C}function ya(a){return function(b,T,E){var C=pt(b);if(!qt(b)){var N=Ue(T,3);b=$t(b),T=function(K){return N(C[K],K,C)}}var Z=a(b,T,E);return Z>-1?C[N?b[Z]:Z]:s}}function ba(a){return In(function(b){var T=b.length,E=T,C=cn.prototype.thru;for(a&&b.reverse();E--;){var N=b[E];if(typeof N!="function")throw new un(y);if(C&&!Z&&Zo(N)=="wrapper")var Z=new cn([],!0)}for(E=Z?E:T;++E<T;){N=b[E];var K=Zo(N),J=K=="wrapper"?Gi(N):s;J&&Wi(J[0])&&J[1]==(P|S|A|L)&&!J[4].length&&J[9]==1?Z=Z[Zo(J[0])].apply(Z,J[3]):Z=N.length==1&&Wi(N)?Z[K]():Z.thru(N)}return function(){var me=arguments,ye=me[0];if(Z&&me.length==1&&qe(ye))return Z.plant(ye).value();for(var _e=0,Ie=T?b[_e].apply(this,me):ye;++_e<T;)Ie=b[_e].call(this,Ie);return Ie}})}function jo(a,b,T,E,C,N,Z,K,J,me){var ye=b&P,_e=b&_,Ie=b&x,$e=b&(S|O),Ge=b&U,Qe=Ie?s:Kr(a);function ze(){for(var tt=arguments.length,ot=se(tt),nn=tt;nn--;)ot[nn]=arguments[nn];if($e)var Ht=Tr(ze),rn=Ll(ot,Ht);if(E&&(ot=fa(ot,E,C,$e)),N&&(ot=pa(ot,N,Z,$e)),tt-=rn,$e&&tt<me){var Ot=Fn(ot,Ht);return xa(a,b,jo,ze.placeholder,T,ot,Ot,K,J,me-tt)}var vn=_e?T:this,Rn=Ie?vn[a]:a;return tt=ot.length,K?ot=Gc(ot,K):Ge&&tt>1&&ot.reverse(),ye&&J<tt&&(ot.length=J),this&&this!==Lt&&this instanceof ze&&(Rn=Qe||Kr(Rn)),Rn.apply(vn,ot)}return ze}function va(a,b){return function(T,E){return Xu(T,a,b(E),{})}}function Uo(a,b){return function(T,E){var C;if(T===s&&E===s)return b;if(T!==s&&(C=T),E!==s){if(C===s)return E;typeof T=="string"||typeof E=="string"?(T=en(T),E=en(E)):(T=oa(T),E=oa(E)),C=a(T,E)}return C}}function Mi(a){return In(function(b){return b=yt(b,Qt(Ue())),et(function(T){var E=this;return a(b,function(C){return Jt(C,E,T)})})})}function Go(a,b){b=b===s?" ":en(b);var T=b.length;if(T<2)return T?Ri(b,a):b;var E=Ri(b,Po(a/hr(b)));return pr(b)?Gn(mn(E),0,a).join(""):E.slice(0,a)}function Sc(a,b,T,E){var C=b&_,N=Kr(a);function Z(){for(var K=-1,J=arguments.length,me=-1,ye=E.length,_e=se(ye+J),Ie=this&&this!==Lt&&this instanceof Z?N:a;++me<ye;)_e[me]=E[me];for(;J--;)_e[me++]=arguments[++K];return Jt(Ie,C?T:this,_e)}return Z}function _a(a){return function(b,T,E){return E&&typeof E!="number"&&Zt(b,T,E)&&(T=E=s),b=kn(b),T===s?(T=b,b=0):T=kn(T),E=E===s?b<T?1:-1:kn(E),uc(b,T,E,a)}}function zo(a){return function(b,T){return typeof b=="string"&&typeof T=="string"||(b=hn(b),T=hn(T)),a(b,T)}}function xa(a,b,T,E,C,N,Z,K,J,me){var ye=b&S,_e=ye?Z:s,Ie=ye?s:Z,$e=ye?N:s,Ge=ye?s:N;b|=ye?A:I,b&=~(ye?I:A),b&w||(b&=~(_|x));var Qe=[a,b,C,$e,_e,Ge,Ie,K,J,me],ze=T.apply(s,Qe);return Wi(a)&&Da(ze,Qe),ze.placeholder=E,$a(ze,a,b)}function Bi(a){var b=kt[a];return function(T,E){if(T=hn(T),E=E==null?0:Mt(Xe(E),292),E&&$s(T)){var C=(ct(T)+"e").split("e"),N=b(C[0]+"e"+(+C[1]+E));return C=(ct(N)+"e").split("e"),+(C[0]+"e"+(+C[1]-E))}return b(T)}}var Oc=yr&&1/vo(new yr([,-0]))[1]==H?function(a){return new yr(a)}:ls;function Ta(a){return function(b){var T=Bt(b);return T==W?mi(b):T==pe?Ul(b):$l(b,a(b))}}function En(a,b,T,E,C,N,Z,K){var J=b&x;if(!J&&typeof a!="function")throw new un(y);var me=E?E.length:0;if(me||(b&=~(A|I),E=C=s),Z=Z===s?Z:Rt(Xe(Z),0),K=K===s?K:Xe(K),me-=C?C.length:0,b&I){var ye=E,_e=C;E=C=s}var Ie=J?s:Gi(a),$e=[a,b,T,E,C,ye,_e,N,Z,K];if(Ie&&Bc($e,Ie),a=$e[0],b=$e[1],T=$e[2],E=$e[3],C=$e[4],K=$e[9]=$e[9]===s?J?0:a.length:Rt($e[9]-me,0),!K&&b&(S|O)&&(b&=~(S|O)),!b||b==_)var Ge=Tc(a,b,T);else b==S||b==O?Ge=wc(a,b,K):(b==A||b==(_|A))&&!C.length?Ge=Sc(a,b,T,E):Ge=jo.apply(s,$e);var Qe=Ie?na:Da;return $a(Qe(Ge,$e),a,b)}function wa(a,b,T,E){return a===s||bn(a,mr[T])&&!dt.call(E,T)?b:a}function Sa(a,b,T,E,C,N){return _t(a)&&_t(b)&&(N.set(b,a),Vo(a,b,s,Sa,N),N.delete(b)),a}function Ac(a){return Jr(a)?s:a}function Oa(a,b,T,E,C,N){var Z=T&o,K=a.length,J=b.length;if(K!=J&&!(Z&&J>K))return!1;var me=N.get(a),ye=N.get(b);if(me&&ye)return me==b&&ye==a;var _e=-1,Ie=!0,$e=T&m?new tr:s;for(N.set(a,b),N.set(b,a);++_e<K;){var Ge=a[_e],Qe=b[_e];if(E)var ze=Z?E(Qe,Ge,_e,b,a,N):E(Ge,Qe,_e,a,b,N);if(ze!==s){if(ze)continue;Ie=!1;break}if($e){if(!ci(b,function(tt,ot){if(!Fr($e,ot)&&(Ge===tt||C(Ge,tt,T,E,N)))return $e.push(ot)})){Ie=!1;break}}else if(!(Ge===Qe||C(Ge,Qe,T,E,N))){Ie=!1;break}}return N.delete(a),N.delete(b),Ie}function Ec(a,b,T,E,C,N,Z){switch(T){case Ye:if(a.byteLength!=b.byteLength||a.byteOffset!=b.byteOffset)return!1;a=a.buffer,b=b.buffer;case Ke:return!(a.byteLength!=b.byteLength||!N(new Oo(a),new Oo(b)));case it:case lt:case Q:return bn(+a,+b);case ve:return a.name==b.name&&a.message==b.message;case Te:case Oe:return a==b+"";case W:var K=mi;case pe:var J=E&o;if(K||(K=vo),a.size!=b.size&&!J)return!1;var me=Z.get(a);if(me)return me==b;E|=m,Z.set(a,b);var ye=Oa(K(a),K(b),E,C,N,Z);return Z.delete(a),ye;case Ee:if(Gr)return Gr.call(a)==Gr.call(b)}return!1}function Ic(a,b,T,E,C,N){var Z=T&o,K=ji(a),J=K.length,me=ji(b),ye=me.length;if(J!=ye&&!Z)return!1;for(var _e=J;_e--;){var Ie=K[_e];if(!(Z?Ie in b:dt.call(b,Ie)))return!1}var $e=N.get(a),Ge=N.get(b);if($e&&Ge)return $e==b&&Ge==a;var Qe=!0;N.set(a,b),N.set(b,a);for(var ze=Z;++_e<J;){Ie=K[_e];var tt=a[Ie],ot=b[Ie];if(E)var nn=Z?E(ot,tt,Ie,b,a,N):E(tt,ot,Ie,a,b,N);if(!(nn===s?tt===ot||C(tt,ot,T,E,N):nn)){Qe=!1;break}ze||(ze=Ie=="constructor")}if(Qe&&!ze){var Ht=a.constructor,rn=b.constructor;Ht!=rn&&"constructor"in a&&"constructor"in b&&!(typeof Ht=="function"&&Ht instanceof Ht&&typeof rn=="function"&&rn instanceof rn)&&(Qe=!1)}return N.delete(a),N.delete(b),Qe}function In(a){return Ki(ka(a,s,Ba),a+"")}function ji(a){return Zs(a,$t,Zi)}function Ui(a){return Zs(a,Kt,Aa)}var Gi=ko?function(a){return ko.get(a)}:ls;function Zo(a){for(var b=a.name+"",T=br[b],E=dt.call(br,b)?T.length:0;E--;){var C=T[E],N=C.func;if(N==null||N==a)return C.name}return b}function Tr(a){var b=dt.call(D,"placeholder")?D:a;return b.placeholder}function Ue(){var a=D.iteratee||ss;return a=a===ss?qs:a,arguments.length?a(arguments[0],arguments[1]):a}function Ho(a,b){var T=a.__data__;return Nc(b)?T[typeof b=="string"?"string":"hash"]:T.map}function zi(a){for(var b=$t(a),T=b.length;T--;){var E=b[T],C=a[E];b[T]=[E,C,Pa(C)]}return b}function or(a,b){var T=Ml(a,b);return Ws(T)?T:s}function Pc(a){var b=dt.call(a,Qn),T=a[Qn];try{a[Qn]=s;var E=!0}catch{}var C=wo.call(a);return E&&(b?a[Qn]=T:delete a[Qn]),C}var Zi=bi?function(a){return a==null?[]:(a=pt(a),Nn(bi(a),function(b){return Rs.call(a,b)}))}:us,Aa=bi?function(a){for(var b=[];a;)Vn(b,Zi(a)),a=Ao(a);return b}:us,Bt=zt;(vi&&Bt(new vi(new ArrayBuffer(1)))!=Ye||Br&&Bt(new Br)!=W||_i&&Bt(_i.resolve())!=xe||yr&&Bt(new yr)!=pe||jr&&Bt(new jr)!=Ne)&&(Bt=function(a){var b=zt(a),T=b==ae?a.constructor:s,E=T?ir(T):"";if(E)switch(E){case du:return Ye;case fu:return W;case pu:return xe;case hu:return pe;case gu:return Ne}return b});function Cc(a,b,T){for(var E=-1,C=T.length;++E<C;){var N=T[E],Z=N.size;switch(N.type){case"drop":a+=Z;break;case"dropRight":b-=Z;break;case"take":b=Mt(b,a+Z);break;case"takeRight":a=Rt(a,b-Z);break}}return{start:a,end:b}}function kc(a){var b=a.match(Qr);return b?b[1].split(eo):[]}function Ea(a,b,T){b=Un(b,a);for(var E=-1,C=b.length,N=!1;++E<C;){var Z=Tn(b[E]);if(!(N=a!=null&&T(a,Z)))break;a=a[Z]}return N||++E!=C?N:(C=a==null?0:a.length,!!C&&Qo(C)&&Pn(Z,C)&&(qe(a)||sr(a)))}function Rc(a){var b=a.length,T=new a.constructor(b);return b&&typeof a[0]=="string"&&dt.call(a,"index")&&(T.index=a.index,T.input=a.input),T}function Ia(a){return typeof a.constructor=="function"&&!Yr(a)?vr(Ao(a)):{}}function Dc(a,b,T){var E=a.constructor;switch(b){case Ke:return Fi(a);case it:case lt:return new E(+a);case Ye:return mc(a,T);case ut:case At:case Vt:case jt:case Ut:case Xt:case Re:case xt:case on:return ca(a,T);case W:return new E;case Q:case Oe:return new E(a);case Te:return yc(a);case pe:return new E;case Ee:return bc(a)}}function $c(a,b){var T=b.length;if(!T)return a;var E=T-1;return b[E]=(T>1?"& ":"")+b[E],b=b.join(T>2?", ":" "),a.replace(Wn,`{
/* [wrapped with `+b+`] */
`)}function Lc(a){return qe(a)||sr(a)||!!(Ds&&a&&a[Ds])}function Pn(a,b){var T=typeof a;return b=b??le,!!b&&(T=="number"||T!="symbol"&&ri.test(a))&&a>-1&&a%1==0&&a<b}function Zt(a,b,T){if(!_t(T))return!1;var E=typeof b;return(E=="number"?qt(T)&&Pn(b,T.length):E=="string"&&b in T)?bn(T[b],a):!1}function Hi(a,b){if(qe(a))return!1;var T=typeof a;return T=="number"||T=="symbol"||T=="boolean"||a==null||tn(a)?!0:Zn.test(a)||!Pt.test(a)||b!=null&&a in pt(b)}function Nc(a){var b=typeof a;return b=="string"||b=="number"||b=="symbol"||b=="boolean"?a!=="__proto__":a===null}function Wi(a){var b=Zo(a),T=D[b];if(typeof T!="function"||!(b in rt.prototype))return!1;if(a===T)return!0;var E=Gi(T);return!!E&&a===E[0]}function Vc(a){return!!Ps&&Ps in a}var Fc=xo?Cn:cs;function Yr(a){var b=a&&a.constructor,T=typeof b=="function"&&b.prototype||mr;return a===T}function Pa(a){return a===a&&!_t(a)}function Ca(a,b){return function(T){return T==null?!1:T[a]===b&&(b!==s||a in pt(T))}}function Mc(a){var b=Xo(a,function(E){return T.size===f&&T.clear(),E}),T=b.cache;return b}function Bc(a,b){var T=a[1],E=b[1],C=T|E,N=C<(_|x|P),Z=E==P&&T==S||E==P&&T==L&&a[7].length<=b[8]||E==(P|L)&&b[7].length<=b[8]&&T==S;if(!(N||Z))return a;E&_&&(a[2]=b[2],C|=T&_?0:w);var K=b[3];if(K){var J=a[3];a[3]=J?fa(J,K,b[4]):K,a[4]=J?Fn(a[3],c):b[4]}return K=b[5],K&&(J=a[5],a[5]=J?pa(J,K,b[6]):K,a[6]=J?Fn(a[5],c):b[6]),K=b[7],K&&(a[7]=K),E&P&&(a[8]=a[8]==null?b[8]:Mt(a[8],b[8])),a[9]==null&&(a[9]=b[9]),a[0]=b[0],a[1]=C,a}function jc(a){var b=[];if(a!=null)for(var T in pt(a))b.push(T);return b}function Uc(a){return wo.call(a)}function ka(a,b,T){return b=Rt(b===s?a.length-1:b,0),function(){for(var E=arguments,C=-1,N=Rt(E.length-b,0),Z=se(N);++C<N;)Z[C]=E[b+C];C=-1;for(var K=se(b+1);++C<b;)K[C]=E[C];return K[b]=T(Z),Jt(a,this,K)}}function Ra(a,b){return b.length<2?a:rr(a,fn(b,0,-1))}function Gc(a,b){for(var T=a.length,E=Mt(b.length,T),C=Wt(a);E--;){var N=b[E];a[E]=Pn(N,T)?C[N]:s}return a}function qi(a,b){if(!(b==="constructor"&&typeof a[b]=="function")&&b!="__proto__")return a[b]}var Da=La(na),Xr=ou||function(a,b){return Lt.setTimeout(a,b)},Ki=La(fc);function $a(a,b,T){var E=b+"";return Ki(a,$c(E,zc(kc(E),T)))}function La(a){var b=0,T=0;return function(){var E=lu(),C=F-(E-T);if(T=E,C>0){if(++b>=Y)return arguments[0]}else b=0;return a.apply(s,arguments)}}function Wo(a,b){var T=-1,E=a.length,C=E-1;for(b=b===s?E:b;++T<b;){var N=ki(T,C),Z=a[N];a[N]=a[T],a[T]=Z}return a.length=b,a}var Na=Mc(function(a){var b=[];return a.charCodeAt(0)===46&&b.push(""),a.replace(Hn,function(T,E,C,N){b.push(C?N.replace(ar,"$1"):E||T)}),b});function Tn(a){if(typeof a=="string"||tn(a))return a;var b=a+"";return b=="0"&&1/a==-H?"-0":b}function ir(a){if(a!=null){try{return To.call(a)}catch{}try{return a+""}catch{}}return""}function zc(a,b){return ln(Be,function(T){var E="_."+T[0];b&T[1]&&!yo(a,E)&&a.push(E)}),a.sort()}function Va(a){if(a instanceof rt)return a.clone();var b=new cn(a.__wrapped__,a.__chain__);return b.__actions__=Wt(a.__actions__),b.__index__=a.__index__,b.__values__=a.__values__,b}function Zc(a,b,T){(T?Zt(a,b,T):b===s)?b=1:b=Rt(Xe(b),0);var E=a==null?0:a.length;if(!E||b<1)return[];for(var C=0,N=0,Z=se(Po(E/b));C<E;)Z[N++]=fn(a,C,C+=b);return Z}function Hc(a){for(var b=-1,T=a==null?0:a.length,E=0,C=[];++b<T;){var N=a[b];N&&(C[E++]=N)}return C}function Wc(){var a=arguments.length;if(!a)return[];for(var b=se(a-1),T=arguments[0],E=a;E--;)b[E-1]=arguments[E];return Vn(qe(T)?Wt(T):[T],Nt(b,1))}var qc=et(function(a,b){return St(a)?Zr(a,Nt(b,1,St,!0)):[]}),Kc=et(function(a,b){var T=pn(b);return St(T)&&(T=s),St(a)?Zr(a,Nt(b,1,St,!0),Ue(T,2)):[]}),Yc=et(function(a,b){var T=pn(b);return St(T)&&(T=s),St(a)?Zr(a,Nt(b,1,St,!0),s,T):[]});function Xc(a,b,T){var E=a==null?0:a.length;return E?(b=T||b===s?1:Xe(b),fn(a,b<0?0:b,E)):[]}function Jc(a,b,T){var E=a==null?0:a.length;return E?(b=T||b===s?1:Xe(b),b=E-b,fn(a,0,b<0?0:b)):[]}function Qc(a,b){return a&&a.length?Mo(a,Ue(b,3),!0,!0):[]}function ed(a,b){return a&&a.length?Mo(a,Ue(b,3),!0):[]}function td(a,b,T,E){var C=a==null?0:a.length;return C?(T&&typeof T!="number"&&Zt(a,b,T)&&(T=0,E=C),Wu(a,b,T,E)):[]}function Fa(a,b,T){var E=a==null?0:a.length;if(!E)return-1;var C=T==null?0:Xe(T);return C<0&&(C=Rt(E+C,0)),bo(a,Ue(b,3),C)}function Ma(a,b,T){var E=a==null?0:a.length;if(!E)return-1;var C=E-1;return T!==s&&(C=Xe(T),C=T<0?Rt(E+C,0):Mt(C,E-1)),bo(a,Ue(b,3),C,!0)}function Ba(a){var b=a==null?0:a.length;return b?Nt(a,1):[]}function nd(a){var b=a==null?0:a.length;return b?Nt(a,H):[]}function rd(a,b){var T=a==null?0:a.length;return T?(b=b===s?1:Xe(b),Nt(a,b)):[]}function od(a){for(var b=-1,T=a==null?0:a.length,E={};++b<T;){var C=a[b];E[C[0]]=C[1]}return E}function ja(a){return a&&a.length?a[0]:s}function id(a,b,T){var E=a==null?0:a.length;if(!E)return-1;var C=T==null?0:Xe(T);return C<0&&(C=Rt(E+C,0)),fr(a,b,C)}function sd(a){var b=a==null?0:a.length;return b?fn(a,0,-1):[]}var ad=et(function(a){var b=yt(a,Ni);return b.length&&b[0]===a[0]?Ai(b):[]}),ld=et(function(a){var b=pn(a),T=yt(a,Ni);return b===pn(T)?b=s:T.pop(),T.length&&T[0]===a[0]?Ai(T,Ue(b,2)):[]}),ud=et(function(a){var b=pn(a),T=yt(a,Ni);return b=typeof b=="function"?b:s,b&&T.pop(),T.length&&T[0]===a[0]?Ai(T,s,b):[]});function cd(a,b){return a==null?"":su.call(a,b)}function pn(a){var b=a==null?0:a.length;return b?a[b-1]:s}function dd(a,b,T){var E=a==null?0:a.length;if(!E)return-1;var C=E;return T!==s&&(C=Xe(T),C=C<0?Rt(E+C,0):Mt(C,E-1)),b===b?zl(a,b,C):bo(a,xs,C,!0)}function fd(a,b){return a&&a.length?Js(a,Xe(b)):s}var pd=et(Ua);function Ua(a,b){return a&&a.length&&b&&b.length?Ci(a,b):a}function hd(a,b,T){return a&&a.length&&b&&b.length?Ci(a,b,Ue(T,2)):a}function gd(a,b,T){return a&&a.length&&b&&b.length?Ci(a,b,s,T):a}var md=In(function(a,b){var T=a==null?0:a.length,E=Ti(a,b);return ta(a,yt(b,function(C){return Pn(C,T)?+C:C}).sort(da)),E});function yd(a,b){var T=[];if(!(a&&a.length))return T;var E=-1,C=[],N=a.length;for(b=Ue(b,3);++E<N;){var Z=a[E];b(Z,E,a)&&(T.push(Z),C.push(E))}return ta(a,C),T}function Yi(a){return a==null?a:cu.call(a)}function bd(a,b,T){var E=a==null?0:a.length;return E?(T&&typeof T!="number"&&Zt(a,b,T)?(b=0,T=E):(b=b==null?0:Xe(b),T=T===s?E:Xe(T)),fn(a,b,T)):[]}function vd(a,b){return Fo(a,b)}function _d(a,b,T){return Di(a,b,Ue(T,2))}function xd(a,b){var T=a==null?0:a.length;if(T){var E=Fo(a,b);if(E<T&&bn(a[E],b))return E}return-1}function Td(a,b){return Fo(a,b,!0)}function wd(a,b,T){return Di(a,b,Ue(T,2),!0)}function Sd(a,b){var T=a==null?0:a.length;if(T){var E=Fo(a,b,!0)-1;if(bn(a[E],b))return E}return-1}function Od(a){return a&&a.length?ra(a):[]}function Ad(a,b){return a&&a.length?ra(a,Ue(b,2)):[]}function Ed(a){var b=a==null?0:a.length;return b?fn(a,1,b):[]}function Id(a,b,T){return a&&a.length?(b=T||b===s?1:Xe(b),fn(a,0,b<0?0:b)):[]}function Pd(a,b,T){var E=a==null?0:a.length;return E?(b=T||b===s?1:Xe(b),b=E-b,fn(a,b<0?0:b,E)):[]}function Cd(a,b){return a&&a.length?Mo(a,Ue(b,3),!1,!0):[]}function kd(a,b){return a&&a.length?Mo(a,Ue(b,3)):[]}var Rd=et(function(a){return jn(Nt(a,1,St,!0))}),Dd=et(function(a){var b=pn(a);return St(b)&&(b=s),jn(Nt(a,1,St,!0),Ue(b,2))}),$d=et(function(a){var b=pn(a);return b=typeof b=="function"?b:s,jn(Nt(a,1,St,!0),s,b)});function Ld(a){return a&&a.length?jn(a):[]}function Nd(a,b){return a&&a.length?jn(a,Ue(b,2)):[]}function Vd(a,b){return b=typeof b=="function"?b:s,a&&a.length?jn(a,s,b):[]}function Xi(a){if(!(a&&a.length))return[];var b=0;return a=Nn(a,function(T){if(St(T))return b=Rt(T.length,b),!0}),hi(b,function(T){return yt(a,di(T))})}function Ga(a,b){if(!(a&&a.length))return[];var T=Xi(a);return b==null?T:yt(T,function(E){return Jt(b,s,E)})}var Fd=et(function(a,b){return St(a)?Zr(a,b):[]}),Md=et(function(a){return Li(Nn(a,St))}),Bd=et(function(a){var b=pn(a);return St(b)&&(b=s),Li(Nn(a,St),Ue(b,2))}),jd=et(function(a){var b=pn(a);return b=typeof b=="function"?b:s,Li(Nn(a,St),s,b)}),Ud=et(Xi);function Gd(a,b){return aa(a||[],b||[],zr)}function zd(a,b){return aa(a||[],b||[],qr)}var Zd=et(function(a){var b=a.length,T=b>1?a[b-1]:s;return T=typeof T=="function"?(a.pop(),T):s,Ga(a,T)});function za(a){var b=D(a);return b.__chain__=!0,b}function Hd(a,b){return b(a),a}function qo(a,b){return b(a)}var Wd=In(function(a){var b=a.length,T=b?a[0]:0,E=this.__wrapped__,C=function(N){return Ti(N,a)};return b>1||this.__actions__.length||!(E instanceof rt)||!Pn(T)?this.thru(C):(E=E.slice(T,+T+(b?1:0)),E.__actions__.push({func:qo,args:[C],thisArg:s}),new cn(E,this.__chain__).thru(function(N){return b&&!N.length&&N.push(s),N}))});function qd(){return za(this)}function Kd(){return new cn(this.value(),this.__chain__)}function Yd(){this.__values__===s&&(this.__values__=ol(this.value()));var a=this.__index__>=this.__values__.length,b=a?s:this.__values__[this.__index__++];return{done:a,value:b}}function Xd(){return this}function Jd(a){for(var b,T=this;T instanceof Do;){var E=Va(T);E.__index__=0,E.__values__=s,b?C.__wrapped__=E:b=E;var C=E;T=T.__wrapped__}return C.__wrapped__=a,b}function Qd(){var a=this.__wrapped__;if(a instanceof rt){var b=a;return this.__actions__.length&&(b=new rt(this)),b=b.reverse(),b.__actions__.push({func:qo,args:[Yi],thisArg:s}),new cn(b,this.__chain__)}return this.thru(Yi)}function ef(){return sa(this.__wrapped__,this.__actions__)}var tf=Bo(function(a,b,T){dt.call(a,T)?++a[T]:An(a,T,1)});function nf(a,b,T){var E=qe(a)?vs:Hu;return T&&Zt(a,b,T)&&(b=s),E(a,Ue(b,3))}function rf(a,b){var T=qe(a)?Nn:Gs;return T(a,Ue(b,3))}var of=ya(Fa),sf=ya(Ma);function af(a,b){return Nt(Ko(a,b),1)}function lf(a,b){return Nt(Ko(a,b),H)}function uf(a,b,T){return T=T===s?1:Xe(T),Nt(Ko(a,b),T)}function Za(a,b){var T=qe(a)?ln:Bn;return T(a,Ue(b,3))}function Ha(a,b){var T=qe(a)?El:Us;return T(a,Ue(b,3))}var cf=Bo(function(a,b,T){dt.call(a,T)?a[T].push(b):An(a,T,[b])});function df(a,b,T,E){a=qt(a)?a:Sr(a),T=T&&!E?Xe(T):0;var C=a.length;return T<0&&(T=Rt(C+T,0)),ei(a)?T<=C&&a.indexOf(b,T)>-1:!!C&&fr(a,b,T)>-1}var ff=et(function(a,b,T){var E=-1,C=typeof b=="function",N=qt(a)?se(a.length):[];return Bn(a,function(Z){N[++E]=C?Jt(b,Z,T):Hr(Z,b,T)}),N}),pf=Bo(function(a,b,T){An(a,T,b)});function Ko(a,b){var T=qe(a)?yt:Ks;return T(a,Ue(b,3))}function hf(a,b,T,E){return a==null?[]:(qe(b)||(b=b==null?[]:[b]),T=E?s:T,qe(T)||(T=T==null?[]:[T]),Qs(a,b,T))}var gf=Bo(function(a,b,T){a[T?0:1].push(b)},function(){return[[],[]]});function mf(a,b,T){var E=qe(a)?ui:ws,C=arguments.length<3;return E(a,Ue(b,4),T,C,Bn)}function yf(a,b,T){var E=qe(a)?Il:ws,C=arguments.length<3;return E(a,Ue(b,4),T,C,Us)}function bf(a,b){var T=qe(a)?Nn:Gs;return T(a,Jo(Ue(b,3)))}function vf(a){var b=qe(a)?Fs:cc;return b(a)}function _f(a,b,T){(T?Zt(a,b,T):b===s)?b=1:b=Xe(b);var E=qe(a)?ju:dc;return E(a,b)}function xf(a){var b=qe(a)?Uu:pc;return b(a)}function Tf(a){if(a==null)return 0;if(qt(a))return ei(a)?hr(a):a.length;var b=Bt(a);return b==W||b==pe?a.size:Ii(a).length}function wf(a,b,T){var E=qe(a)?ci:hc;return T&&Zt(a,b,T)&&(b=s),E(a,Ue(b,3))}var Sf=et(function(a,b){if(a==null)return[];var T=b.length;return T>1&&Zt(a,b[0],b[1])?b=[]:T>2&&Zt(b[0],b[1],b[2])&&(b=[b[0]]),Qs(a,Nt(b,1),[])}),Yo=ru||function(){return Lt.Date.now()};function Of(a,b){if(typeof b!="function")throw new un(y);return a=Xe(a),function(){if(--a<1)return b.apply(this,arguments)}}function Wa(a,b,T){return b=T?s:b,b=a&&b==null?a.length:b,En(a,P,s,s,s,s,b)}function qa(a,b){var T;if(typeof b!="function")throw new un(y);return a=Xe(a),function(){return--a>0&&(T=b.apply(this,arguments)),a<=1&&(b=s),T}}var Ji=et(function(a,b,T){var E=_;if(T.length){var C=Fn(T,Tr(Ji));E|=A}return En(a,E,b,T,C)}),Ka=et(function(a,b,T){var E=_|x;if(T.length){var C=Fn(T,Tr(Ka));E|=A}return En(b,E,a,T,C)});function Ya(a,b,T){b=T?s:b;var E=En(a,S,s,s,s,s,s,b);return E.placeholder=Ya.placeholder,E}function Xa(a,b,T){b=T?s:b;var E=En(a,O,s,s,s,s,s,b);return E.placeholder=Xa.placeholder,E}function Ja(a,b,T){var E,C,N,Z,K,J,me=0,ye=!1,_e=!1,Ie=!0;if(typeof a!="function")throw new un(y);b=hn(b)||0,_t(T)&&(ye=!!T.leading,_e="maxWait"in T,N=_e?Rt(hn(T.maxWait)||0,b):N,Ie="trailing"in T?!!T.trailing:Ie);function $e(Ot){var vn=E,Rn=C;return E=C=s,me=Ot,Z=a.apply(Rn,vn),Z}function Ge(Ot){return me=Ot,K=Xr(tt,b),ye?$e(Ot):Z}function Qe(Ot){var vn=Ot-J,Rn=Ot-me,yl=b-vn;return _e?Mt(yl,N-Rn):yl}function ze(Ot){var vn=Ot-J,Rn=Ot-me;return J===s||vn>=b||vn<0||_e&&Rn>=N}function tt(){var Ot=Yo();if(ze(Ot))return ot(Ot);K=Xr(tt,Qe(Ot))}function ot(Ot){return K=s,Ie&&E?$e(Ot):(E=C=s,Z)}function nn(){K!==s&&la(K),me=0,E=J=C=K=s}function Ht(){return K===s?Z:ot(Yo())}function rn(){var Ot=Yo(),vn=ze(Ot);if(E=arguments,C=this,J=Ot,vn){if(K===s)return Ge(J);if(_e)return la(K),K=Xr(tt,b),$e(J)}return K===s&&(K=Xr(tt,b)),Z}return rn.cancel=nn,rn.flush=Ht,rn}var Af=et(function(a,b){return js(a,1,b)}),Ef=et(function(a,b,T){return js(a,hn(b)||0,T)});function If(a){return En(a,U)}function Xo(a,b){if(typeof a!="function"||b!=null&&typeof b!="function")throw new un(y);var T=function(){var E=arguments,C=b?b.apply(this,E):E[0],N=T.cache;if(N.has(C))return N.get(C);var Z=a.apply(this,E);return T.cache=N.set(C,Z)||N,Z};return T.cache=new(Xo.Cache||On),T}Xo.Cache=On;function Jo(a){if(typeof a!="function")throw new un(y);return function(){var b=arguments;switch(b.length){case 0:return!a.call(this);case 1:return!a.call(this,b[0]);case 2:return!a.call(this,b[0],b[1]);case 3:return!a.call(this,b[0],b[1],b[2])}return!a.apply(this,b)}}function Pf(a){return qa(2,a)}var Cf=gc(function(a,b){b=b.length==1&&qe(b[0])?yt(b[0],Qt(Ue())):yt(Nt(b,1),Qt(Ue()));var T=b.length;return et(function(E){for(var C=-1,N=Mt(E.length,T);++C<N;)E[C]=b[C].call(this,E[C]);return Jt(a,this,E)})}),Qi=et(function(a,b){var T=Fn(b,Tr(Qi));return En(a,A,s,b,T)}),Qa=et(function(a,b){var T=Fn(b,Tr(Qa));return En(a,I,s,b,T)}),kf=In(function(a,b){return En(a,L,s,s,s,b)});function Rf(a,b){if(typeof a!="function")throw new un(y);return b=b===s?b:Xe(b),et(a,b)}function Df(a,b){if(typeof a!="function")throw new un(y);return b=b==null?0:Rt(Xe(b),0),et(function(T){var E=T[b],C=Gn(T,0,b);return E&&Vn(C,E),Jt(a,this,C)})}function $f(a,b,T){var E=!0,C=!0;if(typeof a!="function")throw new un(y);return _t(T)&&(E="leading"in T?!!T.leading:E,C="trailing"in T?!!T.trailing:C),Ja(a,b,{leading:E,maxWait:b,trailing:C})}function Lf(a){return Wa(a,1)}function Nf(a,b){return Qi(Vi(b),a)}function Vf(){if(!arguments.length)return[];var a=arguments[0];return qe(a)?a:[a]}function Ff(a){return dn(a,n)}function Mf(a,b){return b=typeof b=="function"?b:s,dn(a,n,b)}function Bf(a){return dn(a,r|n)}function jf(a,b){return b=typeof b=="function"?b:s,dn(a,r|n,b)}function Uf(a,b){return b==null||Bs(a,b,$t(b))}function bn(a,b){return a===b||a!==a&&b!==b}var Gf=zo(Oi),zf=zo(function(a,b){return a>=b}),sr=Hs(function(){return arguments}())?Hs:function(a){return wt(a)&&dt.call(a,"callee")&&!Rs.call(a,"callee")},qe=se.isArray,Zf=ps?Qt(ps):Ju;function qt(a){return a!=null&&Qo(a.length)&&!Cn(a)}function St(a){return wt(a)&&qt(a)}function Hf(a){return a===!0||a===!1||wt(a)&&zt(a)==it}var zn=iu||cs,Wf=hs?Qt(hs):Qu;function qf(a){return wt(a)&&a.nodeType===1&&!Jr(a)}function Kf(a){if(a==null)return!0;if(qt(a)&&(qe(a)||typeof a=="string"||typeof a.splice=="function"||zn(a)||wr(a)||sr(a)))return!a.length;var b=Bt(a);if(b==W||b==pe)return!a.size;if(Yr(a))return!Ii(a).length;for(var T in a)if(dt.call(a,T))return!1;return!0}function Yf(a,b){return Wr(a,b)}function Xf(a,b,T){T=typeof T=="function"?T:s;var E=T?T(a,b):s;return E===s?Wr(a,b,s,T):!!E}function es(a){if(!wt(a))return!1;var b=zt(a);return b==ve||b==Dt||typeof a.message=="string"&&typeof a.name=="string"&&!Jr(a)}function Jf(a){return typeof a=="number"&&$s(a)}function Cn(a){if(!_t(a))return!1;var b=zt(a);return b==$||b==V||b==Je||b==be}function el(a){return typeof a=="number"&&a==Xe(a)}function Qo(a){return typeof a=="number"&&a>-1&&a%1==0&&a<=le}function _t(a){var b=typeof a;return a!=null&&(b=="object"||b=="function")}function wt(a){return a!=null&&typeof a=="object"}var tl=gs?Qt(gs):tc;function Qf(a,b){return a===b||Ei(a,b,zi(b))}function ep(a,b,T){return T=typeof T=="function"?T:s,Ei(a,b,zi(b),T)}function tp(a){return nl(a)&&a!=+a}function np(a){if(Fc(a))throw new We(d);return Ws(a)}function rp(a){return a===null}function op(a){return a==null}function nl(a){return typeof a=="number"||wt(a)&&zt(a)==Q}function Jr(a){if(!wt(a)||zt(a)!=ae)return!1;var b=Ao(a);if(b===null)return!0;var T=dt.call(b,"constructor")&&b.constructor;return typeof T=="function"&&T instanceof T&&To.call(T)==Ql}var ts=ms?Qt(ms):nc;function ip(a){return el(a)&&a>=-le&&a<=le}var rl=ys?Qt(ys):rc;function ei(a){return typeof a=="string"||!qe(a)&&wt(a)&&zt(a)==Oe}function tn(a){return typeof a=="symbol"||wt(a)&&zt(a)==Ee}var wr=bs?Qt(bs):oc;function sp(a){return a===s}function ap(a){return wt(a)&&Bt(a)==Ne}function lp(a){return wt(a)&&zt(a)==Ze}var up=zo(Pi),cp=zo(function(a,b){return a<=b});function ol(a){if(!a)return[];if(qt(a))return ei(a)?mn(a):Wt(a);if(Mr&&a[Mr])return jl(a[Mr]());var b=Bt(a),T=b==W?mi:b==pe?vo:Sr;return T(a)}function kn(a){if(!a)return a===0?a:0;if(a=hn(a),a===H||a===-H){var b=a<0?-1:1;return b*he}return a===a?a:0}function Xe(a){var b=kn(a),T=b%1;return b===b?T?b-T:b:0}function il(a){return a?nr(Xe(a),0,we):0}function hn(a){if(typeof a=="number")return a;if(tn(a))return Ce;if(_t(a)){var b=typeof a.valueOf=="function"?a.valueOf():a;a=_t(b)?b+"":b}if(typeof a!="string")return a===0?a:+a;a=Ss(a);var T=no.test(a);return T||oo.test(a)?Sl(a.slice(2),T?2:8):to.test(a)?Ce:+a}function sl(a){return xn(a,Kt(a))}function dp(a){return a?nr(Xe(a),-le,le):a===0?a:0}function ct(a){return a==null?"":en(a)}var fp=_r(function(a,b){if(Yr(b)||qt(b)){xn(b,$t(b),a);return}for(var T in b)dt.call(b,T)&&zr(a,T,b[T])}),al=_r(function(a,b){xn(b,Kt(b),a)}),ti=_r(function(a,b,T,E){xn(b,Kt(b),a,E)}),pp=_r(function(a,b,T,E){xn(b,$t(b),a,E)}),hp=In(Ti);function gp(a,b){var T=vr(a);return b==null?T:Ms(T,b)}var mp=et(function(a,b){a=pt(a);var T=-1,E=b.length,C=E>2?b[2]:s;for(C&&Zt(b[0],b[1],C)&&(E=1);++T<E;)for(var N=b[T],Z=Kt(N),K=-1,J=Z.length;++K<J;){var me=Z[K],ye=a[me];(ye===s||bn(ye,mr[me])&&!dt.call(a,me))&&(a[me]=N[me])}return a}),yp=et(function(a){return a.push(s,Sa),Jt(ll,s,a)});function bp(a,b){return _s(a,Ue(b,3),_n)}function vp(a,b){return _s(a,Ue(b,3),Si)}function _p(a,b){return a==null?a:wi(a,Ue(b,3),Kt)}function xp(a,b){return a==null?a:zs(a,Ue(b,3),Kt)}function Tp(a,b){return a&&_n(a,Ue(b,3))}function wp(a,b){return a&&Si(a,Ue(b,3))}function Sp(a){return a==null?[]:No(a,$t(a))}function Op(a){return a==null?[]:No(a,Kt(a))}function ns(a,b,T){var E=a==null?s:rr(a,b);return E===s?T:E}function Ap(a,b){return a!=null&&Ea(a,b,qu)}function rs(a,b){return a!=null&&Ea(a,b,Ku)}var Ep=va(function(a,b,T){b!=null&&typeof b.toString!="function"&&(b=wo.call(b)),a[b]=T},is(Yt)),Ip=va(function(a,b,T){b!=null&&typeof b.toString!="function"&&(b=wo.call(b)),dt.call(a,b)?a[b].push(T):a[b]=[T]},Ue),Pp=et(Hr);function $t(a){return qt(a)?Vs(a):Ii(a)}function Kt(a){return qt(a)?Vs(a,!0):ic(a)}function Cp(a,b){var T={};return b=Ue(b,3),_n(a,function(E,C,N){An(T,b(E,C,N),E)}),T}function kp(a,b){var T={};return b=Ue(b,3),_n(a,function(E,C,N){An(T,C,b(E,C,N))}),T}var Rp=_r(function(a,b,T){Vo(a,b,T)}),ll=_r(function(a,b,T,E){Vo(a,b,T,E)}),Dp=In(function(a,b){var T={};if(a==null)return T;var E=!1;b=yt(b,function(N){return N=Un(N,a),E||(E=N.length>1),N}),xn(a,Ui(a),T),E&&(T=dn(T,r|e|n,Ac));for(var C=b.length;C--;)$i(T,b[C]);return T});function $p(a,b){return ul(a,Jo(Ue(b)))}var Lp=In(function(a,b){return a==null?{}:ac(a,b)});function ul(a,b){if(a==null)return{};var T=yt(Ui(a),function(E){return[E]});return b=Ue(b),ea(a,T,function(E,C){return b(E,C[0])})}function Np(a,b,T){b=Un(b,a);var E=-1,C=b.length;for(C||(C=1,a=s);++E<C;){var N=a==null?s:a[Tn(b[E])];N===s&&(E=C,N=T),a=Cn(N)?N.call(a):N}return a}function Vp(a,b,T){return a==null?a:qr(a,b,T)}function Fp(a,b,T,E){return E=typeof E=="function"?E:s,a==null?a:qr(a,b,T,E)}var cl=Ta($t),dl=Ta(Kt);function Mp(a,b,T){var E=qe(a),C=E||zn(a)||wr(a);if(b=Ue(b,4),T==null){var N=a&&a.constructor;C?T=E?new N:[]:_t(a)?T=Cn(N)?vr(Ao(a)):{}:T={}}return(C?ln:_n)(a,function(Z,K,J){return b(T,Z,K,J)}),T}function Bp(a,b){return a==null?!0:$i(a,b)}function jp(a,b,T){return a==null?a:ia(a,b,Vi(T))}function Up(a,b,T,E){return E=typeof E=="function"?E:s,a==null?a:ia(a,b,Vi(T),E)}function Sr(a){return a==null?[]:gi(a,$t(a))}function Gp(a){return a==null?[]:gi(a,Kt(a))}function zp(a,b,T){return T===s&&(T=b,b=s),T!==s&&(T=hn(T),T=T===T?T:0),b!==s&&(b=hn(b),b=b===b?b:0),nr(hn(a),b,T)}function Zp(a,b,T){return b=kn(b),T===s?(T=b,b=0):T=kn(T),a=hn(a),Yu(a,b,T)}function Hp(a,b,T){if(T&&typeof T!="boolean"&&Zt(a,b,T)&&(b=T=s),T===s&&(typeof b=="boolean"?(T=b,b=s):typeof a=="boolean"&&(T=a,a=s)),a===s&&b===s?(a=0,b=1):(a=kn(a),b===s?(b=a,a=0):b=kn(b)),a>b){var E=a;a=b,b=E}if(T||a%1||b%1){var C=Ls();return Mt(a+C*(b-a+wl("1e-"+((C+"").length-1))),b)}return ki(a,b)}var Wp=xr(function(a,b,T){return b=b.toLowerCase(),a+(T?fl(b):b)});function fl(a){return os(ct(a).toLowerCase())}function pl(a){return a=ct(a),a&&a.replace(ht,Nl).replace(go,"")}function qp(a,b,T){a=ct(a),b=en(b);var E=a.length;T=T===s?E:nr(Xe(T),0,E);var C=T;return T-=b.length,T>=0&&a.slice(T,C)==b}function Kp(a){return a=ct(a),a&&He.test(a)?a.replace(Se,Vl):a}function Yp(a){return a=ct(a),a&&nt.test(a)?a.replace(ce,"\\$&"):a}var Xp=xr(function(a,b,T){return a+(T?"-":"")+b.toLowerCase()}),Jp=xr(function(a,b,T){return a+(T?" ":"")+b.toLowerCase()}),Qp=ma("toLowerCase");function eh(a,b,T){a=ct(a),b=Xe(b);var E=b?hr(a):0;if(!b||E>=b)return a;var C=(b-E)/2;return Go(Co(C),T)+a+Go(Po(C),T)}function th(a,b,T){a=ct(a),b=Xe(b);var E=b?hr(a):0;return b&&E<b?a+Go(b-E,T):a}function nh(a,b,T){a=ct(a),b=Xe(b);var E=b?hr(a):0;return b&&E<b?Go(b-E,T)+a:a}function rh(a,b,T){return T||b==null?b=0:b&&(b=+b),uu(ct(a).replace(ft,""),b||0)}function oh(a,b,T){return(T?Zt(a,b,T):b===s)?b=1:b=Xe(b),Ri(ct(a),b)}function ih(){var a=arguments,b=ct(a[0]);return a.length<3?b:b.replace(a[1],a[2])}var sh=xr(function(a,b,T){return a+(T?"_":"")+b.toLowerCase()});function ah(a,b,T){return T&&typeof T!="number"&&Zt(a,b,T)&&(b=T=s),T=T===s?we:T>>>0,T?(a=ct(a),a&&(typeof b=="string"||b!=null&&!ts(b))&&(b=en(b),!b&&pr(a))?Gn(mn(a),0,T):a.split(b,T)):[]}var lh=xr(function(a,b,T){return a+(T?" ":"")+os(b)});function uh(a,b,T){return a=ct(a),T=T==null?0:nr(Xe(T),0,a.length),b=en(b),a.slice(T,T+b.length)==b}function ch(a,b,T){var E=D.templateSettings;T&&Zt(a,b,T)&&(b=s),a=ct(a),b=ti({},b,E,wa);var C=ti({},b.imports,E.imports,wa),N=$t(C),Z=gi(C,N),K,J,me=0,ye=b.interpolate||$n,_e="__p += '",Ie=yi((b.escape||$n).source+"|"+ye.source+"|"+(ye===It?Dn:$n).source+"|"+(b.evaluate||$n).source+"|$","g"),$e="//# sourceURL="+(dt.call(b,"sourceURL")?(b.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++bl+"]")+`
`;a.replace(Ie,function(ze,tt,ot,nn,Ht,rn){return ot||(ot=nn),_e+=a.slice(me,rn).replace(Er,Fl),tt&&(K=!0,_e+=`' +
__e(`+tt+`) +
'`),Ht&&(J=!0,_e+=`';
`+Ht+`;
__p += '`),ot&&(_e+=`' +
((__t = (`+ot+`)) == null ? '' : __t) +
'`),me=rn+ze.length,ze}),_e+=`';
`;var Ge=dt.call(b,"variable")&&b.variable;if(!Ge)_e=`with (obj) {
`+_e+`
}
`;else if(Or.test(Ge))throw new We(g);_e=(J?_e.replace(j,""):_e).replace(ee,"$1").replace(oe,"$1;"),_e="function("+(Ge||"obj")+`) {
`+(Ge?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(K?", __e = _.escape":"")+(J?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+_e+`return __p
}`;var Qe=gl(function(){return at(N,$e+"return "+_e).apply(s,Z)});if(Qe.source=_e,es(Qe))throw Qe;return Qe}function dh(a){return ct(a).toLowerCase()}function fh(a){return ct(a).toUpperCase()}function ph(a,b,T){if(a=ct(a),a&&(T||b===s))return Ss(a);if(!a||!(b=en(b)))return a;var E=mn(a),C=mn(b),N=Os(E,C),Z=As(E,C)+1;return Gn(E,N,Z).join("")}function hh(a,b,T){if(a=ct(a),a&&(T||b===s))return a.slice(0,Is(a)+1);if(!a||!(b=en(b)))return a;var E=mn(a),C=As(E,mn(b))+1;return Gn(E,0,C).join("")}function gh(a,b,T){if(a=ct(a),a&&(T||b===s))return a.replace(ft,"");if(!a||!(b=en(b)))return a;var E=mn(a),C=Os(E,mn(b));return Gn(E,C).join("")}function mh(a,b){var T=G,E=te;if(_t(b)){var C="separator"in b?b.separator:C;T="length"in b?Xe(b.length):T,E="omission"in b?en(b.omission):E}a=ct(a);var N=a.length;if(pr(a)){var Z=mn(a);N=Z.length}if(T>=N)return a;var K=T-hr(E);if(K<1)return E;var J=Z?Gn(Z,0,K).join(""):a.slice(0,K);if(C===s)return J+E;if(Z&&(K+=J.length-K),ts(C)){if(a.slice(K).search(C)){var me,ye=J;for(C.global||(C=yi(C.source,ct(Ar.exec(C))+"g")),C.lastIndex=0;me=C.exec(ye);)var _e=me.index;J=J.slice(0,_e===s?K:_e)}}else if(a.indexOf(en(C),K)!=K){var Ie=J.lastIndexOf(C);Ie>-1&&(J=J.slice(0,Ie))}return J+E}function yh(a){return a=ct(a),a&&Ve.test(a)?a.replace(ge,Zl):a}var bh=xr(function(a,b,T){return a+(T?" ":"")+b.toUpperCase()}),os=ma("toUpperCase");function hl(a,b,T){return a=ct(a),b=T?s:b,b===s?Bl(a)?ql(a):kl(a):a.match(b)||[]}var gl=et(function(a,b){try{return Jt(a,s,b)}catch(T){return es(T)?T:new We(T)}}),vh=In(function(a,b){return ln(b,function(T){T=Tn(T),An(a,T,Ji(a[T],a))}),a});function _h(a){var b=a==null?0:a.length,T=Ue();return a=b?yt(a,function(E){if(typeof E[1]!="function")throw new un(y);return[T(E[0]),E[1]]}):[],et(function(E){for(var C=-1;++C<b;){var N=a[C];if(Jt(N[0],this,E))return Jt(N[1],this,E)}})}function xh(a){return Zu(dn(a,r))}function is(a){return function(){return a}}function Th(a,b){return a==null||a!==a?b:a}var wh=ba(),Sh=ba(!0);function Yt(a){return a}function ss(a){return qs(typeof a=="function"?a:dn(a,r))}function Oh(a){return Ys(dn(a,r))}function Ah(a,b){return Xs(a,dn(b,r))}var Eh=et(function(a,b){return function(T){return Hr(T,a,b)}}),Ih=et(function(a,b){return function(T){return Hr(a,T,b)}});function as(a,b,T){var E=$t(b),C=No(b,E);T==null&&!(_t(b)&&(C.length||!E.length))&&(T=b,b=a,a=this,C=No(b,$t(b)));var N=!(_t(T)&&"chain"in T)||!!T.chain,Z=Cn(a);return ln(C,function(K){var J=b[K];a[K]=J,Z&&(a.prototype[K]=function(){var me=this.__chain__;if(N||me){var ye=a(this.__wrapped__),_e=ye.__actions__=Wt(this.__actions__);return _e.push({func:J,args:arguments,thisArg:a}),ye.__chain__=me,ye}return J.apply(a,Vn([this.value()],arguments))})}),a}function Ph(){return Lt._===this&&(Lt._=eu),this}function ls(){}function Ch(a){return a=Xe(a),et(function(b){return Js(b,a)})}var kh=Mi(yt),Rh=Mi(vs),Dh=Mi(ci);function ml(a){return Hi(a)?di(Tn(a)):lc(a)}function $h(a){return function(b){return a==null?s:rr(a,b)}}var Lh=_a(),Nh=_a(!0);function us(){return[]}function cs(){return!1}function Vh(){return{}}function Fh(){return""}function Mh(){return!0}function Bh(a,b){if(a=Xe(a),a<1||a>le)return[];var T=we,E=Mt(a,we);b=Ue(b),a-=we;for(var C=hi(E,b);++T<a;)b(T);return C}function jh(a){return qe(a)?yt(a,Tn):tn(a)?[a]:Wt(Na(ct(a)))}function Uh(a){var b=++Jl;return ct(a)+b}var Gh=Uo(function(a,b){return a+b},0),zh=Bi("ceil"),Zh=Uo(function(a,b){return a/b},1),Hh=Bi("floor");function Wh(a){return a&&a.length?Lo(a,Yt,Oi):s}function qh(a,b){return a&&a.length?Lo(a,Ue(b,2),Oi):s}function Kh(a){return Ts(a,Yt)}function Yh(a,b){return Ts(a,Ue(b,2))}function Xh(a){return a&&a.length?Lo(a,Yt,Pi):s}function Jh(a,b){return a&&a.length?Lo(a,Ue(b,2),Pi):s}var Qh=Uo(function(a,b){return a*b},1),eg=Bi("round"),tg=Uo(function(a,b){return a-b},0);function ng(a){return a&&a.length?pi(a,Yt):0}function rg(a,b){return a&&a.length?pi(a,Ue(b,2)):0}return D.after=Of,D.ary=Wa,D.assign=fp,D.assignIn=al,D.assignInWith=ti,D.assignWith=pp,D.at=hp,D.before=qa,D.bind=Ji,D.bindAll=vh,D.bindKey=Ka,D.castArray=Vf,D.chain=za,D.chunk=Zc,D.compact=Hc,D.concat=Wc,D.cond=_h,D.conforms=xh,D.constant=is,D.countBy=tf,D.create=gp,D.curry=Ya,D.curryRight=Xa,D.debounce=Ja,D.defaults=mp,D.defaultsDeep=yp,D.defer=Af,D.delay=Ef,D.difference=qc,D.differenceBy=Kc,D.differenceWith=Yc,D.drop=Xc,D.dropRight=Jc,D.dropRightWhile=Qc,D.dropWhile=ed,D.fill=td,D.filter=rf,D.flatMap=af,D.flatMapDeep=lf,D.flatMapDepth=uf,D.flatten=Ba,D.flattenDeep=nd,D.flattenDepth=rd,D.flip=If,D.flow=wh,D.flowRight=Sh,D.fromPairs=od,D.functions=Sp,D.functionsIn=Op,D.groupBy=cf,D.initial=sd,D.intersection=ad,D.intersectionBy=ld,D.intersectionWith=ud,D.invert=Ep,D.invertBy=Ip,D.invokeMap=ff,D.iteratee=ss,D.keyBy=pf,D.keys=$t,D.keysIn=Kt,D.map=Ko,D.mapKeys=Cp,D.mapValues=kp,D.matches=Oh,D.matchesProperty=Ah,D.memoize=Xo,D.merge=Rp,D.mergeWith=ll,D.method=Eh,D.methodOf=Ih,D.mixin=as,D.negate=Jo,D.nthArg=Ch,D.omit=Dp,D.omitBy=$p,D.once=Pf,D.orderBy=hf,D.over=kh,D.overArgs=Cf,D.overEvery=Rh,D.overSome=Dh,D.partial=Qi,D.partialRight=Qa,D.partition=gf,D.pick=Lp,D.pickBy=ul,D.property=ml,D.propertyOf=$h,D.pull=pd,D.pullAll=Ua,D.pullAllBy=hd,D.pullAllWith=gd,D.pullAt=md,D.range=Lh,D.rangeRight=Nh,D.rearg=kf,D.reject=bf,D.remove=yd,D.rest=Rf,D.reverse=Yi,D.sampleSize=_f,D.set=Vp,D.setWith=Fp,D.shuffle=xf,D.slice=bd,D.sortBy=Sf,D.sortedUniq=Od,D.sortedUniqBy=Ad,D.split=ah,D.spread=Df,D.tail=Ed,D.take=Id,D.takeRight=Pd,D.takeRightWhile=Cd,D.takeWhile=kd,D.tap=Hd,D.throttle=$f,D.thru=qo,D.toArray=ol,D.toPairs=cl,D.toPairsIn=dl,D.toPath=jh,D.toPlainObject=sl,D.transform=Mp,D.unary=Lf,D.union=Rd,D.unionBy=Dd,D.unionWith=$d,D.uniq=Ld,D.uniqBy=Nd,D.uniqWith=Vd,D.unset=Bp,D.unzip=Xi,D.unzipWith=Ga,D.update=jp,D.updateWith=Up,D.values=Sr,D.valuesIn=Gp,D.without=Fd,D.words=hl,D.wrap=Nf,D.xor=Md,D.xorBy=Bd,D.xorWith=jd,D.zip=Ud,D.zipObject=Gd,D.zipObjectDeep=zd,D.zipWith=Zd,D.entries=cl,D.entriesIn=dl,D.extend=al,D.extendWith=ti,as(D,D),D.add=Gh,D.attempt=gl,D.camelCase=Wp,D.capitalize=fl,D.ceil=zh,D.clamp=zp,D.clone=Ff,D.cloneDeep=Bf,D.cloneDeepWith=jf,D.cloneWith=Mf,D.conformsTo=Uf,D.deburr=pl,D.defaultTo=Th,D.divide=Zh,D.endsWith=qp,D.eq=bn,D.escape=Kp,D.escapeRegExp=Yp,D.every=nf,D.find=of,D.findIndex=Fa,D.findKey=bp,D.findLast=sf,D.findLastIndex=Ma,D.findLastKey=vp,D.floor=Hh,D.forEach=Za,D.forEachRight=Ha,D.forIn=_p,D.forInRight=xp,D.forOwn=Tp,D.forOwnRight=wp,D.get=ns,D.gt=Gf,D.gte=zf,D.has=Ap,D.hasIn=rs,D.head=ja,D.identity=Yt,D.includes=df,D.indexOf=id,D.inRange=Zp,D.invoke=Pp,D.isArguments=sr,D.isArray=qe,D.isArrayBuffer=Zf,D.isArrayLike=qt,D.isArrayLikeObject=St,D.isBoolean=Hf,D.isBuffer=zn,D.isDate=Wf,D.isElement=qf,D.isEmpty=Kf,D.isEqual=Yf,D.isEqualWith=Xf,D.isError=es,D.isFinite=Jf,D.isFunction=Cn,D.isInteger=el,D.isLength=Qo,D.isMap=tl,D.isMatch=Qf,D.isMatchWith=ep,D.isNaN=tp,D.isNative=np,D.isNil=op,D.isNull=rp,D.isNumber=nl,D.isObject=_t,D.isObjectLike=wt,D.isPlainObject=Jr,D.isRegExp=ts,D.isSafeInteger=ip,D.isSet=rl,D.isString=ei,D.isSymbol=tn,D.isTypedArray=wr,D.isUndefined=sp,D.isWeakMap=ap,D.isWeakSet=lp,D.join=cd,D.kebabCase=Xp,D.last=pn,D.lastIndexOf=dd,D.lowerCase=Jp,D.lowerFirst=Qp,D.lt=up,D.lte=cp,D.max=Wh,D.maxBy=qh,D.mean=Kh,D.meanBy=Yh,D.min=Xh,D.minBy=Jh,D.stubArray=us,D.stubFalse=cs,D.stubObject=Vh,D.stubString=Fh,D.stubTrue=Mh,D.multiply=Qh,D.nth=fd,D.noConflict=Ph,D.noop=ls,D.now=Yo,D.pad=eh,D.padEnd=th,D.padStart=nh,D.parseInt=rh,D.random=Hp,D.reduce=mf,D.reduceRight=yf,D.repeat=oh,D.replace=ih,D.result=Np,D.round=eg,D.runInContext=X,D.sample=vf,D.size=Tf,D.snakeCase=sh,D.some=wf,D.sortedIndex=vd,D.sortedIndexBy=_d,D.sortedIndexOf=xd,D.sortedLastIndex=Td,D.sortedLastIndexBy=wd,D.sortedLastIndexOf=Sd,D.startCase=lh,D.startsWith=uh,D.subtract=tg,D.sum=ng,D.sumBy=rg,D.template=ch,D.times=Bh,D.toFinite=kn,D.toInteger=Xe,D.toLength=il,D.toLower=dh,D.toNumber=hn,D.toSafeInteger=dp,D.toString=ct,D.toUpper=fh,D.trim=ph,D.trimEnd=hh,D.trimStart=gh,D.truncate=mh,D.unescape=yh,D.uniqueId=Uh,D.upperCase=bh,D.upperFirst=os,D.each=Za,D.eachRight=Ha,D.first=ja,as(D,function(){var a={};return _n(D,function(b,T){dt.call(D.prototype,T)||(a[T]=b)}),a}(),{chain:!1}),D.VERSION=u,ln(["bind","bindKey","curry","curryRight","partial","partialRight"],function(a){D[a].placeholder=D}),ln(["drop","take"],function(a,b){rt.prototype[a]=function(T){T=T===s?1:Rt(Xe(T),0);var E=this.__filtered__&&!b?new rt(this):this.clone();return E.__filtered__?E.__takeCount__=Mt(T,E.__takeCount__):E.__views__.push({size:Mt(T,we),type:a+(E.__dir__<0?"Right":"")}),E},rt.prototype[a+"Right"]=function(T){return this.reverse()[a](T).reverse()}}),ln(["filter","map","takeWhile"],function(a,b){var T=b+1,E=T==re||T==M;rt.prototype[a]=function(C){var N=this.clone();return N.__iteratees__.push({iteratee:Ue(C,3),type:T}),N.__filtered__=N.__filtered__||E,N}}),ln(["head","last"],function(a,b){var T="take"+(b?"Right":"");rt.prototype[a]=function(){return this[T](1).value()[0]}}),ln(["initial","tail"],function(a,b){var T="drop"+(b?"":"Right");rt.prototype[a]=function(){return this.__filtered__?new rt(this):this[T](1)}}),rt.prototype.compact=function(){return this.filter(Yt)},rt.prototype.find=function(a){return this.filter(a).head()},rt.prototype.findLast=function(a){return this.reverse().find(a)},rt.prototype.invokeMap=et(function(a,b){return typeof a=="function"?new rt(this):this.map(function(T){return Hr(T,a,b)})}),rt.prototype.reject=function(a){return this.filter(Jo(Ue(a)))},rt.prototype.slice=function(a,b){a=Xe(a);var T=this;return T.__filtered__&&(a>0||b<0)?new rt(T):(a<0?T=T.takeRight(-a):a&&(T=T.drop(a)),b!==s&&(b=Xe(b),T=b<0?T.dropRight(-b):T.take(b-a)),T)},rt.prototype.takeRightWhile=function(a){return this.reverse().takeWhile(a).reverse()},rt.prototype.toArray=function(){return this.take(we)},_n(rt.prototype,function(a,b){var T=/^(?:filter|find|map|reject)|While$/.test(b),E=/^(?:head|last)$/.test(b),C=D[E?"take"+(b=="last"?"Right":""):b],N=E||/^find/.test(b);C&&(D.prototype[b]=function(){var Z=this.__wrapped__,K=E?[1]:arguments,J=Z instanceof rt,me=K[0],ye=J||qe(Z),_e=function(tt){var ot=C.apply(D,Vn([tt],K));return E&&Ie?ot[0]:ot};ye&&T&&typeof me=="function"&&me.length!=1&&(J=ye=!1);var Ie=this.__chain__,$e=!!this.__actions__.length,Ge=N&&!Ie,Qe=J&&!$e;if(!N&&ye){Z=Qe?Z:new rt(this);var ze=a.apply(Z,K);return ze.__actions__.push({func:qo,args:[_e],thisArg:s}),new cn(ze,Ie)}return Ge&&Qe?a.apply(this,K):(ze=this.thru(_e),Ge?E?ze.value()[0]:ze.value():ze)})}),ln(["pop","push","shift","sort","splice","unshift"],function(a){var b=_o[a],T=/^(?:push|sort|unshift)$/.test(a)?"tap":"thru",E=/^(?:pop|shift)$/.test(a);D.prototype[a]=function(){var C=arguments;if(E&&!this.__chain__){var N=this.value();return b.apply(qe(N)?N:[],C)}return this[T](function(Z){return b.apply(qe(Z)?Z:[],C)})}}),_n(rt.prototype,function(a,b){var T=D[b];if(T){var E=T.name+"";dt.call(br,E)||(br[E]=[]),br[E].push({name:b,func:T})}}),br[jo(s,x).name]=[{name:"wrapper",func:s}],rt.prototype.clone=mu,rt.prototype.reverse=yu,rt.prototype.value=bu,D.prototype.at=Wd,D.prototype.chain=qd,D.prototype.commit=Kd,D.prototype.next=Yd,D.prototype.plant=Jd,D.prototype.reverse=Qd,D.prototype.toJSON=D.prototype.valueOf=D.prototype.value=ef,D.prototype.first=D.prototype.head,Mr&&(D.prototype[Mr]=Xd),D},gr=Kl();Jn?((Jn.exports=gr)._=gr,si._=gr):Lt._=gr}).call(commonjsGlobal)})(lodash,lodash.exports);var lodashExports=lodash.exports;async function imageDecode(i){const t=await createImageBitmap(i),s=imageBitmapToImageData(t);return ndarray4(s.data,[s.height,s.width,4])}async function imageEncode(i,t=.8,s="image/png"){const[u,l,d]=i.shape;switch(s){case"image/x-rgba8":return new Blob([i.data],{type:"image/x-rgba8"});case"image/png":case"image/jpeg":case"image/webp":const v=new ImageData(new Uint8ClampedArray(i.data),l,u);var y=new OffscreenCanvas(v.width,v.height),g=y.getContext("2d");return g.putImageData(v,0,0),y.convertToBlob({quality:t,type:s});default:throw new Error(`Invalid format: ${s}`)}}function imageBitmapToImageData(i){var t=new OffscreenCanvas(i.width,i.height),s=t.getContext("2d");return s.drawImage(i,0,0),s.getImageData(0,0,t.width,t.height)}async function tensorResize(i,t,s){const[u,l,d]=i.shape,y=l/t,g=u/s,v=ndarray4(new Uint8Array(d*t*s),[s,t,d]);for(let f=0;f<s;f++)for(let c=0;c<t;c++)for(let r=0;r<d;r++){const e=c*y,n=f*g,o=Math.floor(e),m=Math.ceil(e),_=Math.floor(n),x=Math.ceil(n),w=e-o,S=n-_,O=i.get(_,o,r),A=i.get(_,m,r),I=i.get(x,o,r),P=i.get(x,m,r),L=(1-w)*(1-S)*O+w*(1-S)*A+(1-w)*S*I+w*S*P;v.set(f,c,r,Math.round(L))}return v}function tensorHWCtoBCHW(i,t=[128,128,128],s=[256,256,256]){var u=i.data;const[l,d,y]=i.shape,g=l*d,v=new Float32Array(3*g);for(let f=0,c=0;f<u.length;f+=4,c+=1)v[c]=(u[f]-t[0])/s[0],v[c+g]=(u[f+1]-t[1])/s[1],v[c+g+g]=(u[f+2]-t[2])/s[2];return ndarray4(v,[1,3,l,d])}function calculateProportionalSize(i,t,s,u){const l=s/i,d=u/t,y=Math.min(l,d),g=Math.floor(i*y),v=Math.floor(t*y);return[g,v]}async function loadAsUrl(i,t){return URL.createObjectURL(await loadAsBlob(i,t))}async function loadAsBlob(i,t){const s=new URL("resources.json",t.publicPath),u=await fetch(s);if(!u.ok)throw new Error("Resource metadata not found. Ensure that the config.publicPath is configured correctly.");const d=(await u.json())[i];if(!d)throw new Error(`Resource ${i} not found. Ensure that the config.publicPath is configured correctly.`);let y=Object.keys(d.chunks);const v=(await Promise.all(y.map(async c=>{t.publicPath&&(c=new URL(c,t.publicPath).toString());const r=await fetch(c,t.fetchArgs);return t.progress?await fetchChunked(r,d,t,i):[await r.blob()]}))).flat(),f=new Blob(v,{type:d.mime});if(f.size!==d.size)throw new Error(`Failed to fetch ${i} with size ${d.size} but got ${f.size}`);return f}async function fetchChunked(i,t,s,u){const l=i.body.getReader(),d=t.size??0;let y=0,g=[];for(;;){const{done:v,value:f}=await l.read();if(v)break;g.push(f),y+=f.length,s.progress&&s.progress(`fetch:${u}`,y,d)}return g}var simd=async()=>WebAssembly.validate(new Uint8Array([0,97,115,109,1,0,0,0,1,5,1,96,0,1,123,3,2,1,0,10,10,1,8,0,65,0,253,15,253,98,11])),threads=()=>(async i=>{try{return typeof MessageChannel<"u"&&new MessageChannel().port1.postMessage(new SharedArrayBuffer(1)),WebAssembly.validate(i)}catch{return!1}})(new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,2,1,0,5,4,1,3,1,1,10,11,1,9,0,65,0,254,16,2,0,26,11]));async function createOnnxSession(i,t){const s={simd:await simd(),threads:await threads(),numThreads:navigator.hardwareConcurrency??4,webgpu:navigator.gpu!==void 0};t.debug&&(console.debug("Capabilities:",s),ort_minExports.env.debug=!0,ort_minExports.env.logLevel="verbose"),ort_minExports.env.wasm.numThreads=s.numThreads,ort_minExports.env.wasm.simd=s.simd,ort_minExports.env.wasm.proxy=t.proxyToWorker,ort_minExports.env.wasm.wasmPaths={"ort-wasm-simd-threaded.wasm":s.simd&&s.threads?await loadAsUrl("/onnxruntime-web/ort-wasm-simd-threaded.wasm",t):void 0,"ort-wasm-simd.wasm":s.simd&&!s.threads?await loadAsUrl("/onnxruntime-web/ort-wasm-simd.wasm",t):void 0,"ort-wasm-threaded.wasm":!s.simd&&s.threads?await loadAsUrl("/onnxruntime-web/ort-wasm-threaded.wasm",t):void 0,"ort-wasm.wasm":!s.simd&&!s.threads?await loadAsUrl("/onnxruntime-web/ort-wasm.wasm",t):void 0},t.debug&&console.debug("ort.env.wasm:",ort_minExports.env.wasm);const u={executionProviders:["wasm"],graphOptimizationLevel:"all",executionMode:"parallel",enableCpuMemArena:!0};return await ort_minExports.InferenceSession.create(i,u).catch(d=>{throw new Error(`Failed to create session: ${d}. Please check if the publicPath is set correctly.`)})}async function runOnnxSession(i,t,s){const u={};for(const[y,g]of t)u[y]=new ort_minExports.Tensor("float32",new Float32Array(g.data),g.shape);const l=await i.run(u,{}),d=[];for(const y of s){const g=l[y],v=g.dims,f=g.data,c=ndarray4(f,v);d.push(c)}return d}var package_default={name:"@imgly/background-removal",version:"1.2.1",description:"Background Removal in the Browser",keywords:["background-removal","client-side","data-privacy","image-segmentation","image-matting","onnx"],repository:{type:"git",url:"git+https://github.com/imgly/background-removal-js.git"},license:"SEE LICENSE IN LICENSE.md",author:{name:"IMG.LY GmbH",email:"support@img.ly",url:"https://img.ly"},bugs:{email:"support@img.ly"},source:"./src/index.ts",main:"./dist/index.cjs",module:"./dist/index.mjs",types:"./dist/index.d.ts",exports:{".":{require:"./dist/index.cjs",import:"./dist/index.mjs",types:"./dist/index.d.ts"}},homepage:"https://img.ly/showcases/cesdk/web/background-removal",files:["LICENSE.md","README.md","CHANGELOG.md","dist/","bin/"],scripts:{start:"npm run watch",clean:"npx rimraf dist",test:"true",resources:"node ../../scripts/package-resources.mjs","changelog:create":"node ../../scripts/changelog/create.mjs","changelog:generate":"node ../../scripts/changelog/generate.mjs",build:"npm run clean && npm run resources && npm run changelog:generate && node scripts/build.mjs",watch:"npm run clean && npm run resources && npm run changelog:generate && node scripts/watch.mjs",publish:"npm run build && npm publish --access public",lint:"npx prettier --write ."},dependencies:{"@types/lodash":"^4.14.195","@types/node":"^20.3.1",lodash:"^4.17.21",ndarray:"^1.0.19","onnxruntime-web":"^1.16.0",zod:"^3.21.4"},devDependencies:{assert:"^2.0.0",esbuild:"^0.18.18",glob:"^10.3.3","npm-dts":"^1.3.12",process:"^0.11.10","ts-loader":"^9.4.3",tslib:"^2.5.3",typescript:"^5.1.3",util:"^0.12.5",webpack:"^5.85.1","webpack-cli":"^5.1.4"}},ConfigSchema=z.object({publicPath:z.string().optional().describe("The public path to the wasm files and the onnx model.").default(`https://unpkg.com/${package_default.name}@${package_default.version}/dist/`),debug:z.boolean().default(!1).describe("Whether to enable debug logging."),proxyToWorker:z.boolean().default(!0).describe("Whether to proxy inference to a web worker."),fetchArgs:z.any().default({}).describe("Arguments to pass to fetch when loading the model."),progress:z.function().args(z.string(),z.number(),z.number()).returns(z.undefined()).describe("Progress callback.").optional(),model:z.enum(["small","medium"]).default("medium"),output:z.object({format:z.enum(["image/png","image/jpeg","image/webp","image/x-rgba8"]).default("image/png"),quality:z.number().default(.8),type:z.enum(["foreground","background","mask"]).default("foreground")}).default({})}).default({});function validateConfig(i){const t=ConfigSchema.parse(i??{});return t.debug&&console.log("Config:",t),t.debug&&!t.progress&&(t.progress=t.progress??((s,u,l)=>{console.debug(`Downloading ${s}: ${u} of ${l}`)}),crossOriginIsolated||console.debug("Cross-Origin-Isolated is not enabled. Performance will be degraded. Please see  https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/SharedArrayBuffer.")),t}async function initInference(i){i=validateConfig(i),i.debug&&console.debug("Loading model...");const t=i.model,u=await(await loadAsBlob(`/models/${t}`,i)).arrayBuffer(),l=await createOnnxSession(u,i);return{config:i,session:l}}async function runInference(i,t,s){t.progress&&t.progress("compute:inference",0,1);const u=1024,[l,d,y]=i.shape;let g=await tensorResize(i,u,u);const v=tensorHWCtoBCHW(g),f=await runOnnxSession(s,[["input",v]],["output"]),c=u*u;if(t.output.type==="mask"){g=ndarray4(new Uint8Array(4*c),[u,u,4]);for(let m=0;m<4*c;m+=4){let _=m/4,x=f[0].data[_];g.data[m+3]=x*255}}else if(t.output.type==="foreground")for(let m=0;m<4*c;m+=4){let _=m/4,x=f[0].data[_];g.data[m+3]=x*255}else if(t.output.type==="background")for(let m=0;m<4*c;m+=4){let _=m/4,x=f[0].data[_];g.data[m+3]=(1-x)*255}const[r,e]=calculateProportionalSize(d,l,u,u),n=Math.min(r,d),o=Math.min(e,l);return g=await tensorResize(g,n,o),t.progress&&t.progress("compute:inference",1,1),ndarray4(g.data,[o,n,4])}function isAbsoluteURI(i){return new RegExp("^(?:[a-z+]+:)?//","i").test(i)}function ensureAbsoluteURI(i,t){return isAbsoluteURI(i)?i:new URL(i,t).href}var src_default=removeBackground,init=lodashExports.memoize(initInference,i=>JSON.stringify(i));async function removeBackground(i,t){const{config:s,session:u}=await init(t);i=await imageSourceToImageData(i,s);const l=await runInference(i,s,u);return await imageEncode(l,s.output.quality,s.output.format)}async function imageSourceToImageData(i,t){return typeof i=="string"&&(i=ensureAbsoluteURI(i,t.publicPath),i=new URL(i)),i instanceof URL&&(i=await(await fetch(i,{})).blob()),(i instanceof ArrayBuffer||ArrayBuffer.isView(i))&&(i=new Blob([i])),i instanceof Blob&&(i=await imageDecode(i)),i}/**
 * GammaCV v0.5.3
 * @license MIT
 * @author Arkadiy Pilguk(apilguk@gmail.com)
 * @author Mihail Zachepilo(mihailzachepilo@gmail.com)
 * Copyright 2018-2023 Peculiar Ventures.
 * All rights reserved.
 *//**
 * @license MIT
 * @author Arkadiy Pilguk(apilguk@gmail.com)
 * @author Mihail Zachepilo(mihailzachepilo@gmail.com)
 * Copyright 2018 Peculiar Ventures and Pentatonica.
 * All rights reserved.
 */class GraphNode{static GlobalCountIncrease(){return GraphNode.GlobalNodesCount+=1,GraphNode.GlobalNodesCount}constructor(t){this.id=GraphNode.GlobalCountIncrease(),this.name=`${t}:${this.id}`}}GraphNode.GlobalNodesCount=0;/**
 * @license MIT
 * @author Arkadiy Pilguk(apilguk@gmail.com)
 * @author Mihail Zachepilo(mihailzachepilo@gmail.com)
 * Copyright 2018 Peculiar Ventures and Pentatonica.
 * All rights reserved.
 */class GLUniform{constructor(t,s,u,l){this.gl=t,this.name=u,this.dtype=l,this.location=t.getUniformLocation(s,this.name)}set(t){const s=this.gl;switch(this.dtype){case"int":s.uniform1i(this.location,t);break;case"float":s.uniform1f(this.location,t);break;case"vec2":s.uniform2fv(this.location,t);break;case"vec3":s.uniform3fv(this.location,t);break;case"vec4":s.uniform4fv(this.location,t);break;case"mat3":s.uniformMatrix3fv(this.location,!1,t);break;case"mat4":s.uniformMatrix4fv(this.location,!1,t);break;default:return!1}return!0}}/**
 * @license MIT
 * @author Arkadiy Pilguk(apilguk@gmail.com)
 * @author Mihail Zachepilo(mihailzachepilo@gmail.com)
 * Copyright 2018 Peculiar Ventures and Pentatonica.
 * All rights reserved.
 */class GLBuffer{constructor(t,s,u,l){this.program=s,this.gl=t,this.name=u,this.dtype=l,this.location=t.getAttribLocation(this.program,this.name),this.ctx=t.createBuffer(),this.empty=new ArrayBuffer(1),l==="float"||l==="int"?this.size=1:(this.size=parseInt(/\d/g.exec(l)[0],10),t.enableVertexAttribArray(this.location))}set(t){const s=this.gl;this.bind(this.ctx),this.dtype==="int"?s.bufferData(s.ELEMENT_ARRAY_BUFFER,new Uint16Array(t),s.STATIC_DRAW):s.bufferData(s.ARRAY_BUFFER,new Float32Array(t),s.STATIC_DRAW)}bind(){const t=this.gl;this.dtype==="int"?t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,this.ctx):(t.bindBuffer(t.ARRAY_BUFFER,this.ctx),t.vertexAttribPointer(this.location,this.size,t.FLOAT,!1,0,0))}unbind(){const t=this.gl;this.dtype==="int"?t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,null):(t.bindBuffer(t.ARRAY_BUFFER,null),t.vertexAttribPointer(this.location,this.size,t.FLOAT,!1,0,0))}disable(){this.gl.disableVertexAttribArray(this.ctx)}enable(){this.gl.enableVertexAttribArray(this.ctx)}delete(){this.gl.deleteBuffer(this.ctx),this.program=null,this.gl=null,this.ctx=null}}var vertexShader="precision highp float;attribute vec3 aVertexPosition;attribute vec2 aTextureCoords;varying vec2 texCoords;void main(void){texCoords=aTextureCoords;gl_Position=vec4(aVertexPosition,1.0);}";/**
 * @license MIT
 * @author Arkadiy Pilguk(apilguk@gmail.com)
 * @author Mihail Zachepilo(mihailzachepilo@gmail.com)
 * Copyright 2018 Peculiar Ventures and Pentatonica.
 * All rights reserved.
 */const errorStart="Error: An error occurred compiling the shaders: ";function getOffset(i){const t=/\d+\|(\s+)/.exec(i);return t?" ".repeat(t[1].length):" ".repeat(2)}function prepareSourceLines(i){let t=i.split(`
`);const s=(t.length+1).toString().length;return t=t.map((u,l)=>`${(l+1).toString().padStart(s)}|  ${u}`),t}function calcErrorStats(i){let t=0,s=0;for(let u=0;u<i.length;u+=1)/ERROR/.exec(i[u])&&(t+=1),/WARNING/.exec(i[u])&&(s+=1);return{errCount:t,warnCount:s}}function injectAll(i,t,s=!0){const u=prepareSourceLines(i),l=(u.length+1).toString().length;let d=t.toString();const y=[],g=[];d.startsWith(errorStart)&&(d=d.substr(errorStart.length));const v=d.split(`
`),f=calcErrorStats(v);let c=0;for(let r=0;r<v.length;r+=1){const e=v[r],n=/0:(\d+)/.exec(e);if(n){const o=+n[1]+c,m=`${" ".repeat(l)}|${getOffset(u[o-1])}`;y.push(`${e}
${u[o-2]}
${u[o-1]}
${m}^
${u[o]}`);const _=s?"%c":"";u.splice(o,0,`${_}${m}^--${e}${_}`),s&&(g.push("color: red;"),g.push("color: inherit;")),c+=1}}return{fullText:u.join(`
`),firstError:y[0],errorsStats:f,fullTextStyle:g}}function processError(i,t,s){try{const u=injectAll(i,s),l=u.errorsStats;console.group(`Error: An error occurred compiling the shader ${t}: ${l.errCount} ERRORS, ${l.warnCount} WARNINGS`),console.log(u.firstError),console.groupCollapsed("Show more"),console.log(u.fullText,...u.fullTextStyle),console.groupEnd(),console.groupEnd()}catch{console.warn("Unable to process GLSG compiling error.")}}/**
 * @license MIT
 * @author Arkadiy Pilguk(apilguk@gmail.com)
 * @author Mihail Zachepilo(mihailzachepilo@gmail.com)
 * Copyright 2018 Peculiar Ventures and Pentatonica.
 * All rights reserved.
 */const AVAILABLE_GLSL_CHUNKS=["pickCurrentValue","pickValue","float"],assert=(i,t)=>{if(!i)throw new Error(t)},assertDOMFeature=(i,t)=>{assert(i,`GammaCV: DOMFeature not supported, "${t}" is not supported in current environment`)},assertCreateElement=i=>{assertDOMFeature(document&&document.createElement,i)},assertOffsetCanvas=()=>{assert(typeof OffscreenCanvas=="function","OffscreenCanvas")},isValidShape=i=>Array.isArray(i)&&i.length>0&&!i.some(t=>t%1!==0),isOperation=i=>i instanceof Operation,isMediaInput=i=>i instanceof MediaInput,isTensor=i=>i instanceof Tensor,isVideoElement=i=>typeof HTMLVideoElement=="function"?i instanceof HTMLVideoElement:!1,isCanvasElement=i=>typeof HTMLCanvasElement=="function"?i instanceof HTMLCanvasElement:"getContext"in i,isValidGLSLChunk=i=>AVAILABLE_GLSL_CHUNKS.includes(i),isValidGLSLVariableName=i=>/^[A-Za-z](\w+)?$/.test(i);function deprecationWarning(i,t){console.warn(`GammaCV Deprecation Warning: "${i}" is deprecated${t?`, ${t}`:""}. "${i}" will be removed in next major version.`)}function getCanvas(){try{return assertCreateElement("canvas"),document.createElement("canvas")}catch{return assertOffsetCanvas(),new OffscreenCanvas(1,1)}}function getImage(){return assertCreateElement("img"),document.createElement("img")}/**
 * @license MIT
 * @author Arkadiy Pilguk(apilguk@gmail.com)
 * @author Mihail Zachepilo(mihailzachepilo@gmail.com)
 * Copyright 2018 Peculiar Ventures and Pentatonica.
 * All rights reserved.
 */const parameters={};function testFloatTextures(){let i,t=!1;try{const u=getCanvas().getContext("webgl");if(!u||!u.getExtension("OES_texture_float"))return!1;const l=u.createFramebuffer(),d=u.createTexture();parameters.MAX_TEXTURE_SIZE=u.getParameter(u.MAX_TEXTURE_SIZE),u.bindTexture(u.TEXTURE_2D,d),u.texImage2D(u.TEXTURE_2D,0,u.RGBA,1,1,0,u.RGBA,u.FLOAT,null),u.bindFramebuffer(u.FRAMEBUFFER,l),u.framebufferTexture2D(u.FRAMEBUFFER,u.COLOR_ATTACHMENT0,u.TEXTURE_2D,d,0),t=u.checkFramebufferStatus(u.FRAMEBUFFER)===u.FRAMEBUFFER_COMPLETE,u.readPixels(0,0,1,1,u.RGBA,u.FLOAT,new Float32Array(4)),i=u.getError()===u.NO_ERROR}catch{i=!1}return t&&i}const SOURCE_ENV={SUPPORTS_FLOAT_TEXTURES:testFloatTextures(),DEBUG:!1,MAX_TEXTURE_SIZE:parameters.MAX_TEXTURE_SIZE},ENV=Object.assign({},SOURCE_ENV);/**
 * @license MIT
 * @author Arkadiy Pilguk(apilguk@gmail.com)
 * @author Mihail Zachepilo(mihailzachepilo@gmail.com)
 * Copyright 2018 Peculiar Ventures and Pentatonica.
 * All rights reserved.
 */function main(i){let t=`
void main(void) {
  vec2 coords = gl_FragCoord.xy - 0.5;
  vec4 result = operation(coords.y, coords.x);

  gl_FragColor = result;
}
  `;return!ENV.SUPPORTS_FLOAT_TEXTURES&&i.dtype==="float32"&&(t=`
    void main(void) {
      vec2 coords = gl_FragCoord.xy;

      highp float ox = floor(coords.x / 4.0);
      float dx = floor(coords.x - ox * 4.0 + 0.5);
    
      vec4 result = operation(coords.y - 0.5, floor((coords.x - 0.5) / 4.0));

      float value;

      if (dx == 1.0) {
        value = result.r;
      } else if (dx == 2.0) {
        value = result.g;
      } else if (dx == 3.0) {
        value = result.b;
      } else if (dx == 4.0) {
        value = result.a;
      }
    
      gl_FragColor = encode_float(value);
    }
    `),t}var floatCode="precision highp float;highp vec4 encode_float(highp float f){if(f==1./0.){return vec4(0.0,0.0,128.0,127.0)/255.0;}highp vec4 rgba;highp float e=5.0;highp float F=abs(f);highp float sign=step(0.0,-f);highp float exponent=floor(log2(F));highp float mantissa=(exp2(-exponent)*F);exponent=floor(log2(F)+127.0)+floor(log2(mantissa));rgba[0]=128.0*sign+floor(exponent*exp2(-1.0));rgba[1]=128.0*mod(exponent,2.0)+mod(floor(mantissa*64.0*2.0),128.0);rgba[2]=floor(mod(floor(mantissa*exp2(23.0-8.0)),exp2(8.0)));rgba[3]=floor(exp2(23.0)*mod(mantissa,exp2(-15.0)));return rgba.abgr/255.0;}float decode_float(highp vec4 rgba){rgba=rgba.abgr*255.0;highp float sign=1.0-step(128.0,rgba[0])*2.0;highp float exponent=2.0*mod(rgba[0],128.0)+step(128.0,rgba[1])-127.0;exponent=floor(exponent+0.5);highp float mantissa=mod(rgba[1],128.0)*32768.0*2.0+rgba[2]*256.0+rgba[3]+float(0x800000);highp float result=sign*mantissa*exp2(-23.0)*exp2(exponent);return result;}";/**
 * @license MIT
 * @author Arkadiy Pilguk(apilguk@gmail.com)
 * @author Mihail Zachepilo(mihailzachepilo@gmail.com)
 * Copyright 2018 Peculiar Ventures and Pentatonica.
 * All rights reserved.
 */function pick_value(i){const t=Object.keys(i.input),s=[];for(let u=0;u<t.length;u+=1){const l=t[u];if(!i.input[l].shape)continue;const d=[...i.input[l].shape],y=d[1].toFixed(1),g=d[0].toFixed(1),v=(d[1]*4).toFixed(1);let f=(c,r,e)=>`${c} ${r}_${l}(float y, float x) {
	return texture2D(${l}, vec2((x + 0.5) / ${y}, (y + 0.5) / ${g}))${e};
}`;!ENV.SUPPORTS_FLOAT_TEXTURES&&i.input[l].dtype==="float32"&&(f=(c,r,e)=>`
        ${c} ${r}_${l}(float y, float x) {
          float r = decode_float(texture2D(${l}, vec2((x * 4.0 + 0.5) / ${v}, y / ${g})));
          float g = decode_float(texture2D(${l}, vec2((x * 4.0 + 1.5) / ${v}, y / ${g})));
          float b = decode_float(texture2D(${l}, vec2((x * 4.0 + 2.5) / ${v}, y / ${g})));
          float a = decode_float(texture2D(${l}, vec2((x * 4.0 + 3.5) / ${v}, y / ${g})));

          return vec4(r, g, b, a)${e};
        }
      `),s.push(f("vec4","pickValue","")),s.push(f("float","pickScalarValue",".x"))}return s.join(`
`)}/**
 * @license MIT
 * @author Arkadiy Pilguk(apilguk@gmail.com)
 * @author Mihail Zachepilo(mihailzachepilo@gmail.com)
 * Copyright 2018 Peculiar Ventures and Pentatonica.
 * All rights reserved.
 */const float=()=>floatCode;var chunks=Object.freeze({__proto__:null,float,main,pickValue:pick_value});/**
 * @license MIT
 * @author Arkadiy Pilguk(apilguk@gmail.com)
 * @author Mihail Zachepilo(mihailzachepilo@gmail.com)
 * Copyright 2018 Peculiar Ventures and Pentatonica.
 * All rights reserved.
 */function validType(i){return["bool","int","uint","float","double","vec2","vec3","vec4","mat2","mat3","mat4","sampler2D"].indexOf(i)>=0}function getType(i){let t=typeof i;i=String(i);const s=/^(vec\d|mat\d)\([^)]+\)$/.exec(i);return s?t=s[1]:/^\d+$/.exec(i)?t="int":/^\d+\.(\d+)?$/.exec(i)?t="float":t==="boolean"&&(t="bool"),t}function constructHeading(i){const t=Object.assign({},i.uniform),s=Object.keys(i.input);let u=`precision highp float;
`;for(let y=0;y<s.length;y+=1){const g=s[y];t[g]={dtype:"sampler2D"}}const l=Object.keys(t);for(let y=0;y<l.length;y+=1){const g=l[y];if(!validType(t[g].dtype))throw new Error(`KernelConstructor: Uniform ${g} has invalid type "${t[g].dtype}"`);u+=`uniform ${t[g].dtype} ${g};
`}u+=`varying vec2 texCoords;
`;const d=Object.keys(i.constant);for(let y=0;y<d.length;y+=1){const g=d[y];let v=i.constant[g];typeof v==="number"&&v%1===0&&(v=v.toFixed(1));const c=getType(v);if(!validType(c))throw new Error(`KernelConstructor: Constant ${g}, has invalid type "${c}"`);u+=`#define ${g} ${v}
`}return u}function injectChunks(i){const s=[];return ENV.SUPPORTS_FLOAT_TEXTURES||s.push("float"),s.concat(i.chunks.filter((l,d,y)=>y.indexOf(l)===d)).map(l=>{const d=` Chunk ${l} `,y=35-d.length,g=`${"-".repeat(Math.floor(y/2))}${d}${"-".repeat(Math.ceil(y/2))}`;if(typeof chunks[l]=="function")return`/*${g}*/
${chunks[l](i)}
/*${"-".repeat(35)}*/`;throw new TypeError(`KernelConstructor: Chunk "${l}" is not a function`)}).join(`
`)}function hasMain(i){return!!/void main\(([^)]+)?\)([\s]+)?{/.exec(i)}function constructKernel(i){let t;if(hasMain(i.kernel))t=i.kernel;else{const s=constructHeading(i),u=injectChunks(i),l=main(i);t=[s,u,i.kernel,l].join(`

`)}return ENV.DEBUG&&(console.groupCollapsed(i.name),console.log(prepareSourceLines(t).join(`
`)),console.groupEnd()),t}/**
 * @license MIT
 * @author Arkadiy Pilguk(apilguk@gmail.com)
 * @author Mihail Zachepilo(mihailzachepilo@gmail.com)
 * Copyright 2018 Peculiar Ventures and Pentatonica.
 * All rights reserved.
 */class Operation extends GraphNode{constructor(t){assert(typeof t<"u","Operation: Operation should have a name"),super(t),this.dtype=null,this.input={},this.uniform={},this.constant={},this.chunks=[],this.inputKeys=[],this.isInitialized=!1,this.lastCtx=Math.random(),this.cache=!0}run(t,s,u){assert(this.isInitialized,"Operation: Unable to run uninitialized operation.");const l=this.gl,d=t.texture[this.name];if(s===this.lastCtx&&this.cache&&!u)return d.bind(this.program,!1,this.inputKeys.length),this.bindBuffer(),!1;this.lastCtx=s,l.useProgram(this.program);for(let y=0;y<this.inputKeys.length;y+=1){const g=this.inputKeys[y],v=this.input[g],f=v.name,c=t.texture[f];c.bind(this.program,g,y),isTensor(v)&&c.set(v),isMediaInput(v)&&c.set(v.media)}return d.bind(this.program,!1,this.inputKeys.length),this.bindBuffer(),ENV.SUPPORTS_FLOAT_TEXTURES?l.viewport(0,0,this.shape[1],this.shape[0]):l.viewport(0,0,(this.dtype==="float32"?4:1)*this.shape[1],this.shape[0]),l.clearColor(0,0,0,1),l.clear(l.COLOR_BUFFER_BIT|l.DEPTH_BUFFER_BIT),l.drawElements(l.TRIANGLES,6,l.UNSIGNED_SHORT,0),!0}unbindBuffer(){const t=this.gl;t.bindFramebuffer(t.FRAMEBUFFER,null)}bindBuffer(){const t=this.gl;t.bindFramebuffer(t.FRAMEBUFFER,this.framebuffer)}init(t){if(!this.isInitialized){if(this.gl=t,this.program=t.createProgram(),this.framebuffer=t.createFramebuffer(),this.isInitialized)return!1;this.constant.OUT_VIEW=`vec2(${this.shape[1]}, ${this.shape[0]})`,this.kernel=constructKernel(this);try{this.vertexShader=this.getShader("vertex",vertexShader),t.attachShader(this.program,this.vertexShader),this.fragmentShader=this.getShader("fragment",this.kernel),t.attachShader(this.program,this.fragmentShader),t.linkProgram(this.program),t.useProgram(this.program)}catch(u){throw processError(this.kernel,this.name,u),new Error(`Operation: Error during shader compilation.
${u.message}`)}this.attributes={aVertexPosition:new GLBuffer(this.gl,this.program,"aVertexPosition","vec3"),aTextureCoords:new GLBuffer(this.gl,this.program,"aTextureCoords","vec2"),aIndices:new GLBuffer(this.gl,this.program,"aIndices","int")},this.attributes.aVertexPosition.set([1,1,0,-1,1,0,-1,-1,0,1,-1,0]),this.attributes.aTextureCoords.set([1,1,0,1,0,0,1,0]),this.attributes.aIndices.set([0,1,2,0,2,3]);const s=Object.keys(this.uniform);for(let u=0;u<s.length;u+=1){const l=this.uniform[s[u]];this.uniform[s[u]]=new GLUniform(this.gl,this.program,l.name,l.dtype),l.defaultValue&&this.uniform[s[u]].set(l.defaultValue)}this.isInitialized=!0}return!0}getShader(t,s){const u=this.gl;let l=null;if(t==="fragment"?l=u.createShader(u.FRAGMENT_SHADER):l=u.createShader(u.VERTEX_SHADER),u.shaderSource(l,s),u.compileShader(l),!u.getShaderParameter(l,u.COMPILE_STATUS))throw new Error(`Operation: An error occurred compiling the shaders.
${u.getShaderInfoLog(l)}`);return l}traverse(t,s){const u=Object.keys(this.input);for(let l=0;l<u.length;l+=1){const d=u[l];isOperation(this.input[d])?this.input[d].traverse(t,s):t(this.input[d],s)}t(this,s)}getDependencies(){const t=[],s=Object.keys(this.input);for(let u=0;u<s.length;u+=1){const l=s[u];if(isOperation(this.input[l])){const d=this.input[l].getDependencies();for(let y=0;y<d.length;y+=1)t.indexOf(d[y])===-1&&t.push(d[y]);t.concat(d)}}return t.push(this.name),t}assignInput(t,s){this.input[t]=s,this.inputKeys.indexOf(t)===-1&&this.inputKeys.push(t)}cloneProp(t){const s=Object.keys(this[t]),u={};for(let l=0;l<s.length;l+=1){const d=s[l];u[d]=this[t][d]}return u}destroy(){this.program&&this.gl.deleteProgram(this.program),this.vertexShader&&this.gl.deleteShader(this.vertexShader),this.fragmentShader&&this.gl.deleteShader(this.fragmentShader),this.framebuffer&&this.gl.deleteFramebuffer(this.framebuffer)}clone(){const t=new Operation(this.name.split(":")[0]);return t.input=this.cloneProp("input"),t.uniform=this.cloneProp("uniform"),t.constant=this.cloneProp("constant"),t.dtype=this.dtype,t.kernel=this.kernel,t.chunks=this.chunks,t}}/**
 * @license MIT
 * @author Arkadiy Pilguk(apilguk@gmail.com)
 * @author Mihail Zachepilo(mihailzachepilo@gmail.com)
 * Copyright 2018 Peculiar Ventures and Pentatonica.
 * All rights reserved.
 */class GPUTexture{constructor(t,s,u,l){if(t==="float32"||t==="uint8")this.unit=u,this.dtype=t,this.gl=s,this.ctx=s.createTexture(),this.shape=l,s.bindTexture(s.TEXTURE_2D,this.ctx),s.texParameteri(s.TEXTURE_2D,s.TEXTURE_MAG_FILTER,s.NEAREST),s.texParameteri(s.TEXTURE_2D,s.TEXTURE_MIN_FILTER,s.NEAREST),s.texParameteri(s.TEXTURE_2D,s.TEXTURE_WRAP_S,s.CLAMP_TO_EDGE),s.texParameteri(s.TEXTURE_2D,s.TEXTURE_WRAP_T,s.CLAMP_TO_EDGE),this.allocate();else throw new Error(`GPUTexture: Invalid texture type, currently supported is: float32, uint8, but got ${t} `)}allocate(){const t=this.gl;let s=this.shape[1],u=t.UNSIGNED_BYTE;this.dtype==="float32"&&(ENV.SUPPORTS_FLOAT_TEXTURES?u=t.FLOAT:s*=4),t.texImage2D(t.TEXTURE_2D,0,t.RGBA,s,this.shape[0],0,t.RGBA,u,null)}set(t=null){const s=this.gl;if(isVideoElement(t)||isCanvasElement(t))s.texImage2D(s.TEXTURE_2D,0,s.RGBA,s.RGBA,s.UNSIGNED_BYTE,t);else{let u=t.shape[1],l=s.UNSIGNED_BYTE,d=t.data;t.dtype==="float32"&&(ENV.SUPPORTS_FLOAT_TEXTURES?l=s.FLOAT:(u*=4,d=t.uint8View)),s.texImage2D(s.TEXTURE_2D,0,s.RGBA,u,this.shape[0],0,s.RGBA,l,d)}}bind(t,s,u){const l=this.gl;if(s){const d=l.getUniformLocation(t,s);l.uniform1i(d,u)}l.activeTexture(l.TEXTURE0+u),l.bindTexture(l.TEXTURE_2D,this.ctx),this.unit=u}unbind(){const t=this.gl;t.activeTexture(t.TEXTURE0+this.unit),t.bindTexture(t.TEXTURE_2D,null)}delete(){const t=this.gl;t.deleteTexture(this.ctx),this.gl=null,this.program=null,this.ctx=null,t.bindTexture(t.TEXTURE_2D,null)}}/**
 * @license MIT
 * @author Arkadiy Pilguk(apilguk@gmail.com)
 * @author Mihail Zachepilo(mihailzachepilo@gmail.com)
 * Copyright 2018 Peculiar Ventures and Pentatonica.
 * All rights reserved.
 */class Session{constructor(){this.canvas=getCanvas(),this.canvas.width=1,this.canvas.height=1,this.initWebGL(this.canvas),this.operation={},this.texture={},this.textureCount=0}initWebGL(t,s){this.canvas=t;const u=this.canvas.getContext("webgl",s);assert(!!u,"Session: WebGL not supported.");const l=u.getExtension("OES_texture_float");assert(!!l,"Session: Unable to find extension OES_texture_float"),u.clear(u.COLOR_BUFFER_BIT|u.DEPTH_BUFFER_BIT),this.gl=u}init(t){assert(!!t,"Session: Unable to initialize undefined operation"),assert(isOperation(t)||isTensor(t),"Session: Unable to initialize operation with invalid input type"),isOperation(t)&&t.traverse((s,u)=>{u.operation[s.name]=s},this),(isTensor(t)||isMediaInput(t))&&(this.operation[t.name]=t),this.update()}update(){const t=this.gl,s=Object.keys(this.operation);for(let u=0;u<s.length;u+=1){const l=this.operation[s[u]];l instanceof Operation&&l.init(this.gl),this.texture[s[u]]||(this.texture[s[u]]=new GPUTexture(l.dtype,this.gl,this.textureCount,l.shape),l instanceof Operation&&(t.bindFramebuffer(t.FRAMEBUFFER,l.framebuffer),t.framebufferTexture2D(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,this.texture[s[u]].ctx,0),t.bindFramebuffer(t.FRAMEBUFFER,null)),this.textureCount+=1)}}runOp(t,s,u=!1){const l=t.sequence;let d=!1;for(let y=0;y<l.length;y+=1){const g=l[y],v=this.operation[g],f=y===l.length-1;assert(!!v,`Session: Unable to run uninitialized operation ${t.name}.`),isCanvasElement(u)&&f&&((this.canvas.width!==v.shape[1]||this.canvas.height!==v.shape[0])&&(this.canvas.width=v.shape[1],this.canvas.height=v.shape[0]),v.framebuffer=null),v.run(this,s,d)?d=!0:d=!1,u&&f&&isTensor(u)&&this.readToTensor(u),u&&f&&isCanvasElement(u)&&this.readToCanvas(u,v.shape)}}destroy(){const t=this.gl.getExtension("WEBGL_lose_context"),s=Object.keys(this.texture),u=Object.keys(this.operation);t&&t.loseContext();for(let l=0;l<s.length;l+=1)this.texture[s[l]].delete();for(let l=0;l<u.length;l+=1){const d=this.operation[u[l]];d instanceof Operation&&d.destroy()}this.canvas=null,this.operation={},this.texture={},this.gl=null,this.textureCount=0}readToTensor(t){const s=this.gl,u=t.shape[0];let l=t.shape[1],d=s.UNSIGNED_BYTE,y=t.data;t.dtype==="float32"&&(ENV.SUPPORTS_FLOAT_TEXTURES?d=s.FLOAT:(l*=4,y=t.uint8View)),s.readPixels(0,0,l,u,s.RGBA,d,y)}readToCanvas(t,s){const u=t.getContext("2d");t.width=s[1],t.height=s[0],u.drawImage(this.canvas,0,0,s[1],s[0],0,0,s[1],s[0])}}/**
 * @license MIT
 * @author Arkadiy Pilguk(apilguk@gmail.com)
 * @author Mihail Zachepilo(mihailzachepilo@gmail.com)
 * Copyright 2018 Peculiar Ventures and Pentatonica.
 * All rights reserved.
 */class RegisterOperation{constructor(t){this.op=new Operation(t),this.name=t,this.checkShape=s=>{const u=Object.keys(s);return s[u[0]]},this.preCompile=()=>{},this.postCompile=()=>{},this.chunks=[]}GLSLKernel(t){return assert(typeof t=="string","RegisterOperation: The kernel should be a string but it is not."),this.op.kernel=t,this}LoadChunk(...t){for(const s of t)assert(isValidGLSLChunk(s),`RegisterOperation: There is no available GLSL chunk supported: ${s}`);return this.op.chunks=this.op.chunks.concat(t),this}Input(t,s){return assert(isValidGLSLVariableName(t)),this.op.input[t]={name:t,dtype:s},this}Output(t){return assert(this.op.dtype===null,"RegisterOperation: The operation allows a single output."),this.op.dtype=t,this}Constant(t,s){return assert(isValidGLSLVariableName(t)),this.op.constant[t]=s,this}SetShapeFn(t){return assert(typeof t=="function","RegisterOperation: SetShapeFn should receive function in first argument"),this.checkShape=t,this}PreCompile(t){return assert(typeof t=="function","RegisterOperation: PreCompile should receive function in first argument"),this.preCompile=t,this}PostCompile(t){return assert(typeof t=="function","RegisterOperation: PostCompile should receive function in first argument"),this.postCompile=t,this}Uniform(t,s,u){return assert(isValidGLSLVariableName(t)),this.op.uniform[t]={name:t,dtype:s,defaultValue:u},this}Compile(t){const s=this.op.clone(),u={},l=Object.keys(t);this.preCompile(s);for(let d=0;d<l.length;d+=1){const y=l[d],g=t[y];assert(!!g,`RegisterOperation:${s.name}.${y}:
         Can't compile operation with undefined input.`),assert(isTensor(g)||isMediaInput(g)||isOperation(g),`RegisterOperation:${s.name}.${y}:
         Can't compile operation with invalid input type.
         You can only use Tensor or another Operation to be an input`),u[y]=t[y].shape,s.assignInput(y,t[y])}return s.shape=this.checkShape(u),s.sequence=s.getDependencies(),s}}/**
 * @license MIT
 * @author Arkadiy Pilguk(apilguk@gmail.com)
 * @author Mihail Zachepilo(mihailzachepilo@gmail.com)
 * Copyright 2018 Peculiar Ventures and Pentatonica.
 * All rights reserved.
 */function range(i){const t=new Array(i);for(let s=0;s<i;s+=1)t[s]=s;return t}function tensorFrom(i,t=!1){let s=null;return isOperation(i)&&(s=new Tensor(t||i.dtype,i.shape)),isTensor(i)&&(s=new Tensor(t||i.dtype,i.shape)),isMediaInput(i)&&(s=new Tensor(t||i.dtype,i.shape)),s}function tensorClone(i,t){if(t.data.set)t.data.set(i.data);else for(let s=0;s<t.size;s+=1)t.data[s]=i.data[s]}/**
 * @license MIT
 * @author Arkadiy Pilguk(apilguk@gmail.com)
 * @author Mihail Zachepilo(mihailzachepilo@gmail.com)
 * Copyright 2018 Peculiar Ventures and Pentatonica.
 * All rights reserved.
 */class Tensor extends GraphNode{constructor(t,s,u,l,d=0){super("Tensor"),this.dtype=t,this.shape=s||[u.length],assert(isValidShape(this.shape),"Tensor: Shape is not valid"),l&&(assert(isValidShape(l),"Tensor: Stride is not valid"),assert(this.shape.length===l.length,"Tensor: Stride length should be equal to shape length")),assert(typeof d=="number"&&d%1===0,`Tensor: Offset should be integer, but got ${d}`),this.size=Tensor.GetSize(this.shape),this.stride=l||this._defineStride(this.shape),this.offset=d,this._compileJITMethods(),typeof u>"u"?(this.data=Tensor.Malloc(t,this.size),this.empty=Tensor.Malloc(t,this.size)):this.assign(u),!ENV.SUPPORTS_FLOAT_TEXTURES&&t==="float32"&&(this.uint8View=new Uint8Array(this.data.buffer))}_compileJITMethods(){const t=range(this.shape.length),s=t.map(l=>`i${l}`).join(","),u=`${this.offset}+${t.map(l=>`${this.stride[l]}*i${l}`).join("+")}`;this.get=new Function(`return function get(${s}) { return this.data[${u}]; }`)(),this.set=new Function(`return function get(${s}, v) { this.data[${u}] = v; }`)(),this.index=new Function(`return function get(${s}, v) { return ${u}; }`)()}_defineStride(t){const s=t.length,u=new Array(s);for(let l=s-1,d=1;l>=0;l-=1)u[l]=d,d*=this.shape[l];return u}assign(t){const s=Tensor.DefineType(t),u=t.length;return assert(s===this.dtype,`Tensor: Different dtypes assigned: 
   expected - ${this.dtype} 
   actual - ${s}`),assert(u===this.size+this.offset,`Tensor: Different sizes assigned: 
   expected - ${this.size+this.offset} 
   actual - ${u}`),this.data=t,this}release(){return this.empty?this.data.set(this.empty):this.data=Tensor.Malloc(this.dtype,this.size),this}relese(){return deprecationWarning("Tensor: relese"),this.release(),this}clone(){const t=new Tensor(this.dtype,this.shape,void 0,this.stride,this.offset);return tensorClone(this,t),t}static IndexToCoord(t,s){const u=new Array(t.length);let l=s,d=t.reduce((y,g)=>y*g);for(let y=0;y<=t.length-2;y+=1){d/=t[y];const g=~~(l/d);l%=d,u[y]=g}return u[u.length-1]=l%t[t.length-1],u}static CoordToIndex(t,s){let u=1,l=0;for(let d=t.length-1;d>=0;d-=1)l+=u*s[d],u*=t[d];return l}static Malloc(t,s){switch(t){case"uint8":return new Uint8Array(s);case"uint16":return new Uint16Array(s);case"uint32":return new Uint32Array(s);case"int8":return new Int8Array(s);case"int16":return new Int16Array(s);case"int32":return new Int32Array(s);case"float32":return new Float32Array(s);case"float64":return new Float64Array(s);case"uint8c":return new Uint8ClampedArray(s);case"array":return new Array(s);default:throw new Error(`Tensor: Unexpected type: ${t}.`)}}static DefineType(t){const s=Object.prototype.toString.call(t);switch(s){case"[object Uint8Array]":return"uint8";case"[object Uint16Array]":return"uint16";case"[object Uint32Array]":return"uint32";case"[object Int8Array]":return"int8";case"[object Int16Array]":return"int16";case"[object Int32Array]":return"int32";case"[object Float32Array]":return"float32";case"[object Float64Array]":return"float64";case"[object Uint8ClampedArray]":return"uint8c";case"[object Array]":return"array";default:throw new Error(`Tensor: Unknown dtype: ${s}.`)}}static GetTypedArray(t,s){if(t===Tensor.DefineType(s))return s;switch(t){case"uint8":return new Uint8Array(s);case"uint16":return new Uint16Array(s);case"uint32":return new Uint32Array(s);case"int8":return new Int8Array(s);case"int16":return new Int16Array(s);case"int32":return new Int32Array(s);case"float32":return new Float32Array(s);case"float64":return new Float64Array(s);case"uint8c":return new Uint8ClampedArray(s);case"array":return new Array(s);default:throw new Error(`Unknown type: ${t}.`)}}static GetSize(t){return t.reduce((s,u)=>s*u,1)}}class MediaInput extends GraphNode{constructor(t,s){super("MediaInput"),this.dtype="uint8",this.inputKeys=[],this.isInitialized=!1,this.lastCtx=Math.random(),this.cache=!0,this.assignMedia(t,s)}assignMedia(t,s){t&&assert(isVideoElement(t)||isCanvasElement(t),"MediaInput: Is only Video, Canvas element available as input"),s&&assert(isValidShape(s),"MediaInput: Shape is invalid"),this.media=t,this.shape=s}}function toImageData(i,t=!1,s=!1){const u=new ImageData(i.shape[1],i.shape[0]),l=i.shape[0]*i.shape[1];if(t&&i.dtype==="uint8")return u.data.set(i.data),u;if(!t){for(let d=0;d<l;d+=1){const y=~~(d/i.shape[0]),g=d-y*i.shape[1],v=i.data[d];let f=0;s?f=(g*i.shape[0]+y)*4:f=(y*i.shape[1]+g)*4,u.data[f+0]=v,u.data[f+1]=v,u.data[f+2]=v,u.data[f+3]=255}return u}if(i.dtype==="float32")for(let d=0;d<i.size;d+=1)u.data[d]=i.data[d]*255;else for(let d=0;d<i.size;d+=1)u.data[d]=i.data[d];return u}/**
 * @license MIT
 * @author Arkadiy Pilguk(apilguk@gmail.com)
 * @author Mihail Zachepilo(mihailzachepilo@gmail.com)
 * Copyright 2018 Peculiar Ventures and Pentatonica.
 * All rights reserved.
 */function canvasFromTensor(i,t,s=!1,u=!1){if(!(t instanceof Tensor))throw Error("tensorToCanvas: Input tensor invalid");t.shape[2]&&t.shape[2]===4&&(s=!0);const l=toImageData(t,s,u);i.getContext("2d").putImageData(l,0,0)}/**
 * @license MIT
 * @author Arkadiy Pilguk(apilguk@gmail.com)
 * @author Mihail Zachepilo(mihailzachepilo@gmail.com)
 * Copyright 2018 Peculiar Ventures and Pentatonica.
 * All rights reserved.
 */function imageTensorFromURL(i,t="uint8",s,u=!1){return new Promise((l,d)=>{const y=getImage(),g=getCanvas(),v=g.getContext("2d");let f,c;u&&(y.crossOrigin="anonymous"),y.onload=()=>{s?(f=s[1],c=s[0]):(f=y.width,c=y.height),g.width=f,g.height=c,v.drawImage(y,0,0,f,c);let r;const e=v.getImageData(0,0,f,c);switch(t){case"uint8":{r=new Uint8Array(e.data.buffer);break}case"float32":{r=new Float32Array(e.data);break}default:r=e.data}const n=new Tensor(t,[c,f,4],r);l(n)},y.onerror=d,y.src=i})}var kernel$f="const vec3 k=vec3(0.2128,0.7148,0.0724);vec4 operation(float y,float x){float value=dot(pickValue_tSrc(y,x).rgb,k);return vec4(value,value,value,1.0);}";/**
 * @license MIT
 * @author Arkadiy Pilguk(apilguk@gmail.com)
 * @author Mihail Zachepilo(mihailzachepilo@gmail.com)
 * Copyright 2018 Peculiar Ventures and Pentatonica.
 * All rights reserved.
 */var index$k=i=>new RegisterOperation("Grayscale").Input("tSrc","uint8").Output("uint8").LoadChunk("pickValue").GLSLKernel(kernel$f).Compile({tSrc:i}),kernel$e="const float hWidth=(KERNEL_WIDTH-1.0)/2.0;const float hHeight=(KERNEL_HEIGHT-1.0)/2.0;vec4 operation(float y,float x){vec3 finalColour=vec3(0.0);for(float dy=-hHeight;dy<=hHeight;dy+=1.0){for(float dx=-hWidth;dx<=hWidth;dx+=1.0){vec3 k=pickValue_tKernel(float(dy+hHeight),float(dx+hWidth)).rgb;finalColour+=pickValue_tSrc(y+dy,x+dx).rgb*k;}}return vec4(finalColour*factor+bias,1.0);}";function gaussianBlur(i=3,t=1){const s=new Tensor("float32",[i,i]),u=(i-1)/2,l=new Tensor("float32",[i,i,4]);let d=0;for(let y=0;y<i;y+=1)for(let g=0;g<i;g+=1){const v=Math.exp(-.5*(((g-u)/t)**2+((y-u)/t)**2))/(2*Math.PI*t*t);s.set(g,y,v),d+=s.get(g,y)}for(let y=0;y<i;y+=1)for(let g=0;g<i;g+=1)l.set(g,y,0,s.get(g,y)/d),l.set(g,y,1,s.get(g,y)/d),l.set(g,y,2,s.get(g,y)/d);return l}/**
 * @license MIT
 * @author Arkadiy Pilguk(apilguk@gmail.com)
 * @author Mihail Zachepilo(mihailzachepilo@gmail.com)
 * Copyright 2018 Peculiar Ventures and Pentatonica.
 * All rights reserved.
 */var Convolutiion=(i,t,s=1,u=0)=>new RegisterOperation("Convolution2d").Input("tSrc",i.dtype).Input("tKernel","float32").Output(i.dtype).LoadChunk("pickValue").Constant("KERNEL_WIDTH",t.shape[1]).Constant("KERNEL_HEIGHT",t.shape[0]).Uniform("bias","float",u).Uniform("factor","float",s).GLSLKernel(kernel$e).Compile({tSrc:i,tKernel:t});/**
 * @license MIT
 * @author Arkadiy Pilguk(apilguk@gmail.com)
 * @author Mihail Zachepilo(mihailzachepilo@gmail.com)
 * Copyright 2018 Peculiar Ventures and Pentatonica.
 * All rights reserved.
 */var index$j=(i,t=3,s=3)=>(assert(t>=3,"Kernel size should be greater equal 3"),assert(s>0,"Sigma should be greater then 0"),Convolutiion(i,gaussianBlur(t,s))),kernel$c="vec4 operation(float y,float x){float wk=1.0;float hk=1.0;float dx=0.0;float dy=0.0;dx+=-1.0*pickScalarValue_tSrc(y-hk,x-wk);dx+=-2.0*pickScalarValue_tSrc(y,x-wk);dx+=-1.0*pickScalarValue_tSrc(y+wk,x-wk);dx+=+1.0*pickScalarValue_tSrc(y-wk,x+wk);dx+=+2.0*pickScalarValue_tSrc(y,x+wk);dx+=+1.0*pickScalarValue_tSrc(y+wk,x+wk);dy+=-1.0*pickScalarValue_tSrc(y-wk,x-wk);dy+=-2.0*pickScalarValue_tSrc(y-wk,x);dy+=-1.0*pickScalarValue_tSrc(y-wk,x+wk);dy+=+1.0*pickScalarValue_tSrc(y+wk,x-wk);dy+=+2.0*pickScalarValue_tSrc(y+wk,x);dy+=+1.0*pickScalarValue_tSrc(y+wk,x+wk);float magniture=sqrt((dx*dx)+(dy*dy));float theta=atan(dy/dx);return vec4(magniture,dx,dy,theta);}";/**
 * @license MIT
 * @author Arkadiy Pilguk(apilguk@gmail.com)
 * @author Mihail Zachepilo(mihailzachepilo@gmail.com)
 * Copyright 2018 Peculiar Ventures and Pentatonica.
 * All rights reserved.
 */var index$h=i=>new RegisterOperation("SobelOperator").Input("tSrc",i.dtype).Output("float32").Uniform("uWidth","float",i.shape[0]).Uniform("uHeight","float",i.shape[1]).Constant("PI",Math.PI).GLSLKernel(kernel$c).LoadChunk("pickValue").Compile({tSrc:i}),nmsKernel=`
#define STROKE uSize
vec4 operation(float y,float x){vec4 M=pickValue_tSrc(y,x);float N=pickValue_tSrc(y+STROKE,x).r;float S=pickValue_tSrc(y-STROKE,x).r;float W=pickValue_tSrc(y,x-STROKE).r;float E=pickValue_tSrc(y,x+STROKE).r;float SE=pickValue_tSrc(y-STROKE,x+STROKE).r;float NW=pickValue_tSrc(y+STROKE,x-STROKE).r;float NE=pickValue_tSrc(y+STROKE,x+STROKE).r;float SW=pickValue_tSrc(y-STROKE,x-STROKE).r;float H=0.0;float V=M.r;float dx=M.g;float dy=M.b;float theta=atan(dy/dx);float deg=theta*(180.0/PI);float angle=0.0;if(deg<0.0){deg=180.0+deg;}if(deg<22.5||deg>=157.5){if(V>W&&V>E){H+=1.0;}}if(deg<67.5&&deg>=22.5){if(V>SW&&V>NE){H+=1.0;}}if(deg<112.5&&deg>=67.5){if(V>N&&V>S){H+=1.0;}}if(deg<157.5&&deg>=112.5){if(V>NW&&V>SE){H+=1.0;}}if(H==1.0){return vec4(V,V,V,255);}else{return vec4(0,0,0,255);}}`,hysteresisKernel=`
#define STROKE uSize
vec4 operation(float y,float x){vec4 M=pickValue_tSrc(y,x);float N=pickValue_tSrc(y+STROKE,x).r;float S=pickValue_tSrc(y-STROKE,x).r;float W=pickValue_tSrc(y,x-STROKE).r;float E=pickValue_tSrc(y,x+STROKE).r;float SE=pickValue_tSrc(y-STROKE,x+STROKE).r;float NW=pickValue_tSrc(y+STROKE,x-STROKE).r;float NE=pickValue_tSrc(y+STROKE,x+STROKE).r;float SW=pickValue_tSrc(y-STROKE,x-STROKE).r;float V=M.r;float H=0.0;if(V>uThresholdHigh){H+=1.0;}if(V>uThresholdLow&&V<uThresholdHigh){if(N>0.0||S>0.0||W>0.0||E>0.0||SE>0.0||NW>0.0||NE>0.0||SW>0.0){H+=1.0;}}if(H==1.0){return vec4(255,255,255,255);}else{return vec4(0,0,0,255);}}`;/**
 * @license MIT
 * @author Arkadiy Pilguk(apilguk@gmail.com)
 * @author Mihail Zachepilo(mihailzachepilo@gmail.com)
 * Copyright 2018 Peculiar Ventures and Pentatonica.
 * All rights reserved.
 */const CannyNMS=i=>new RegisterOperation("ImageCannyEdgesNMS").Input("tSrc",i.dtype).Output(i.dtype).LoadChunk("pickValue").Uniform("uSize","float",1).Constant("PI",Math.PI).GLSLKernel(nmsKernel).Compile({tSrc:i}),CannyHysteresis=(i,t,s)=>(assert(t>=0,"Canny low threshold should be greater equal 0"),assert(s<=1,"Canny high threshold should be less equal 1"),new RegisterOperation("ImageCannyEdgesHysteresis").Input("tSrc",i.dtype).Output(i.dtype).LoadChunk("pickValue").Uniform("uSize","float",1).Uniform("uThresholdLow","float",t).Uniform("uThresholdHigh","float",s).GLSLKernel(hysteresisKernel).Compile({tSrc:i}));var index$e=(i,t=.25,s=.75)=>CannyHysteresis(CannyNMS(i),t,s),kernel$a="const float _step=1.0/CLUSTERS;vec4 operation(float y,float x){float minDistance=256.0;float label=0.0;vec3 value=pickValue_tSrc(y,x).rgb;for(int i=0;i<int(CLUSTERS);i+=1){vec3 curr=pickValue_tCentroids(float(i),0.0).rgb;float distance=sqrt(((value.r-curr.r)*(value.r-curr.r)));if(distance<minDistance){minDistance=distance;label=float(i)/CLUSTERS;}}return vec4(label,label,label,1.0);}";/**
 * @license MIT
 * @author Arkadiy Pilguk(apilguk@gmail.com)
 * @author Mihail Zachepilo(mihailzachepilo@gmail.com)
 * Copyright 2018 Peculiar Ventures and Pentatonica.
 * All rights reserved.
 */var index$d=(i,t=3)=>(assert(i.dtype==="uint8","Color Segmentation currently available for uint8 image input"),assert(t>1,"Number of clusters should be greater than 1"),new RegisterOperation("ImageColorSegmentation").Input("tSrc","uint8").Input("tCentroids","uint8").Output("uint8").LoadChunk("pickValue").Constant("CLUSTERS",t).GLSLKernel(kernel$a).PreCompile(s=>{const u=~~(256/t);s.centroids=new Tensor("uint8",[t,1,4]);for(let l=0;l<t;l+=1)s.centroids.set(l,0,0,l*u);s.assignInput("tCentroids",s.centroids)}).Compile({tSrc:i}));const _hoisted_1$1={class:"h-full"},_hoisted_2={class:"flex flex-col lg:flex-row justify-center lg:items-stretch lg:h-full w-full"},_hoisted_3={class:"w-full lg:max-w-[500px] shrink-0"},_hoisted_4={class:"flex justify-center items-center mx-10 mt-3 gap-5"},_hoisted_5={class:"flex justify-center items-center mx-10 mt-3 gap-5"},_hoisted_6={class:"flex justify-center items-center mx-10 mt-3 gap-5"},_hoisted_7=["disabled"],_hoisted_8={class:"flex justify-center items-center mx-10 mt-3 gap-5"},_hoisted_9={class:"flex-col justify-center items-center w-full"},_hoisted_10=["disabled"],_hoisted_11={class:"flex flex-wrap gap-3 mt-10"},_hoisted_12=["onClick"],_hoisted_13={key:0},_hoisted_14={key:1},_hoisted_15={key:0},_hoisted_16={class:"relative grow mx-10 mt-3"},_hoisted_17={key:0,class:"flex-col flex-wrap"},_hoisted_18={class:"flex flex-wrap items-center gap-5"},_hoisted_19={class:"flex flex-wrap items-center gap-5 basis-full"},_hoisted_20=["disabled"],_hoisted_21={class:"flex flex-wrap items-center gap-5 basis-full"},_hoisted_22=createBaseVNode("span",{class:"font-black"},"pipelines",-1),_hoisted_23=createBaseVNode("span",null,[createTextVNode("mask "),createBaseVNode("input",{type:"checkbox",disabled:""})],-1),_hoisted_24={class:"flex flex-wrap items-center gap-5 basis-full"},_hoisted_25=createBaseVNode("span",{class:"font-black"},"single outputs",-1),_hoisted_26={key:0,class:"flex flex-wrap items-center gap-5 basis-full"},_hoisted_27=createBaseVNode("div",{class:"animate-spin"},"⌛",-1),_hoisted_28={key:0},_hoisted_29={class:"flex-col flex-wrap gap-5 mt-5"},_hoisted_30={class:"relative min-w-[400px] outline-white"},_hoisted_31={key:0,class:"flex items-center animate-spin"},_hoisted_32=["width","height"],_hoisted_33={class:"mt-5"},_hoisted_34={key:0,class:"flex"},_hoisted_35=createBaseVNode("div",{class:"animate-spin"},"⌛",-1),_hoisted_36=[_hoisted_35],_hoisted_37={key:1,class:"flex"},_hoisted_38=["id"],_hoisted_39={key:2},_hoisted_40=["src"],_hoisted_41={class:"mt-5"},_sfc_main$1={__name:"ColorSchemer",setup(i){const t=allColors.find(ve=>ve.colorValue==="transparent"),s=allColors.find(ve=>ve.colorValue==="#ffffff"),u=ref([marineSimple,marineComplex,fromImage]),l=ref(marineSimple),d=ref({}),y=ref(null),g=ref(null),v=ref(new URLSearchParams(window.location.search)),f=ref(null),c=ref(!1),r=ref(!1),e=ref({caption:"",inProgress:!1}),n=ref({}),o=ref({}),m=ref({}),_=ref({}),x=ref(null),w=ref({colorSegmentation:25,backgroundRemoval:!1,greyscale:!1,edgePipeline:!0,maskPipeline:!0,highValues:!1,cannyEdges:!1,sobelOperator:!1,baseAllOnBackgroundRemoval:!0});onMounted(()=>{P(),watch(d,debounce$1(ve=>{v.value.set("state",Y(l.value,ve)),history.replaceState(null,null,"?"+v.value.toString())},300),{deep:!0}),watch(l,()=>{S()})});const S=()=>{g.value=null,d.value=l.value.basicScheme({transparent:t,perfectWhite:s},1)},O=()=>{n.value={},o.value={},m.value={},_.value={},r.value=!1,e.value={caption:"",inProgress:!1},x.value.value=null,S()},A=()=>{const ve=d.value[g.value];Object.keys(d.value).forEach($=>{d.value[$]={...ve}})},I=ve=>{g.value=ve},P=()=>{try{const ve=F(v.value.get("state"));l.value=ve.model||u.value[0],d.value=l.value.basicScheme({transparent:t,perfectWhite:s},1),ve.model&&ve.model.name!=="from Image"&&(ve.colorScheme||[]).forEach(([$,V])=>{d.value[$]={color:V.color,opacity:V.opacity}})}catch(ve){console.error(ve),S()}},L=ve=>{d.value[g.value].color=ve.filteredOptions[ve.pointer]},U=(ve,$)=>{f.value&&(d.value[g.value].color=f.value,d.value[g.value].opacity=f.value)},G=(ve,$)=>{d.value[g.value].color=ve,f.value=null,c.value=!1},te=()=>{c.value=!0,f.value=d.value[g.value].color},Y=(ve,$)=>{const V=Object.entries($).map(([W,Q])=>[W,Q.color.uuid,Q.opacity].join(",")).join(";");return`${btoa(ve.name)}-${btoa(V)}`},F=ve=>{const $=ve==null?void 0:ve.split("-");if(!$||$.length!==2)return;const V=atob($[0]),W=atob($[1]),Q=u.value.find(ae=>ae.name===V);if(!Q)throw new Error("Invalid code");const ie=W.split(";").map(ae=>ae.split(",")).map(ae=>{const xe=ae[0],be=allColors.find(pe=>pe.uuid===ae[1]),Te=ae[2];if(xe&&be&&Te)return[xe,{color:be,opacity:Te}]});return{model:Q,colorScheme:ie[0]?ie:null}},re=(ve,$,V)=>{var Q;const W=d.value[$];return{"mask-image":`url(${ve})`,"mask-repeat":"no-repeat","mask-size":"contain","z-index":V+10,opacity:(W==null?void 0:W.opacity)||1,background:((Q=W==null?void 0:W.color)==null?void 0:Q.colorValue)||"#fff000"}},R=(ve,$)=>{var W;const V=d.value[ve.layer];return{"mask-image":`url(${ve.path})`,"mask-repeat":"no-repeat","mask-size":"contain","z-index":$+10,opacity:(V==null?void 0:V.opacity)||1,background:((W=V==null?void 0:V.color)==null?void 0:W.colorValue)||"#fff000"}},M=ve=>{const $=ve.split(".").slice(1).map(V=>V.slice(1));return`rgba(${$[0]},${$[1]},${$[2]},${Math.round($[3]/255*100)/100})`},H=ve=>{const $=ve.split(".").slice(1).map(V=>V.slice(1));return`R${$[0]}-G${$[1]}-B${$[2]}`},le=ve=>{var V,W;const $=new FileReader;$.addEventListener("load",()=>{m.value.source=$.result},!1),(V=ve==null?void 0:ve.target)!=null&&V.files[0]&&$.readAsDataURL((W=ve==null?void 0:ve.target)==null?void 0:W.files[0])},he=()=>{e.value.inProgress=!0,Ce()},Ce=()=>{const ve=m.value.source;w.value.baseAllOnBackgroundRemoval?we(ve,$=>{w.value.greyscale&&Je($),w.value.edgePipeline&&Me($),w.value.maskPipeline&&je($),w.value.highValues&&Pe($),w.value.cannyEdges&&Be($),w.value.sobelOperator&&Le($),e.value.inProgress=!1}):nextTick().then(()=>{w.value.backgroundRemoval&&we(ve),w.value.greyscale&&Je(ve),w.value.edgePipeline&&Me(ve),w.value.maskPipeline&&je(ve),w.value.highValues&&Pe(ve),w.value.cannyEdges&&Be(ve),w.value.sobelOperator&&Le(ve),e.value.inProgress=!1})},we=(ve,$)=>{m.value.bgremoval="image",src_default(ve,{output:{quality:.8,format:"image/png"},progress:(W,Q,ie)=>{const[ae,xe]=W.split(":");e.value.caption=`${ae} ${xe} ${(Q/ie*100).toFixed(0)}%`}}).then(W=>{const Q=URL.createObjectURL(W);m.value.bgremoval=Q,nextTick().then(()=>{$(Q),e.caption=""})})},Pe=ve=>{m.value.highValues="canvas";const $=`vec4 operation(float y, float x) {
    vec4 data = pickValue_tSrc(y, x);
    if ((data.r + data.g + data.b) > 1.5) {
      return vec4(1.0, 1.0, 1.0, 0);
    }
    
    return vec4(data.r, data.g, data.b, 1.0);
  }`,V=o.value.source.naturalWidth,W=o.value.source.naturalHeight;imageTensorFromURL(ve,"uint8",[W,V,4],!0).then(Q=>{const ie=new RegisterOperation("highValues").Input("tSrc","uint8").Output("uint8").SetShapeFn(()=>[W,V,4]).Constant("FILL",0).Constant("MASK",1).Uniform("uMultiplier","float",.5).LoadChunk("pickValue").GLSLKernel($).Compile({tSrc:Q}),ae=tensorFrom(ie),xe=new Session;xe.init(ie),xe.runOp(ie,0,ae),it(n.value.highValues,V,W),canvasFromTensor(n.value.highValues,ae)})},Le=ve=>{m.value.sobelOperator="canvas";const $=o.value.source.naturalWidth,V=o.value.source.naturalHeight;imageTensorFromURL(ve,"uint8",[V,$,4],!0).then(W=>{const Q=index$h(W),ie=tensorFrom(Q),ae=new Session;ae.init(Q),ae.runOp(Q,0,ie),it(n.value.sobelOperator,$,V),canvasFromTensor(n.value.sobelOperator,ie)})},Be=ve=>{m.value.cannyEdges="canvas";const $=o.value.source.naturalWidth,V=o.value.source.naturalHeight;imageTensorFromURL(ve,"uint8",[V,$,4],!0).then(W=>{const Q=index$e(W,.25,.75),ie=tensorFrom(Q),ae=new Session;ae.init(Q),ae.runOp(Q,0,ie),it(n.value.cannyEdges,$,V),canvasFromTensor(n.value.cannyEdges,ie)})},Me=ve=>{m.value.edgePipeline="canvas";const $=o.value.source.naturalWidth,V=o.value.source.naturalHeight;imageTensorFromURL(ve,"uint8",[V,$,4],!0).then(W=>{let Q=W;Q=index$k(Q),Q=index$j(Q,3,3),Q=index$h(Q),Q=index$e(Q,.25,.75);const ie=tensorFrom(Q),ae=new Session;ae.init(Q),ae.runOp(Q,0,ie),it(n.value.edgePipeline,$,V),canvasFromTensor(n.value.edgePipeline,ie)})},je=ve=>{m.value["maskPipeline.segmentation"]="canvas";const $=`vec4 operation(float y, float x) {
    vec4 data = pickValue_tSrc(y, x);
    if (
      (data.r < RED + SLOP && data.r > RED - SLOP)
      && (data.g < GREEN + SLOP && data.g > GREEN - SLOP)
      && (data.b < BLUE + SLOP && data.b > BLUE - SLOP)
      && (data.a < ALPHA + SLOP && data.a > ALPHA - SLOP)
    ) {
      if (INVERT) {
        return vec4(1.0, 1.0, 1.0, 0);
      } else {
        return vec4(0, 0, 0, 1.0);
      }
    }
    
    if (INVERT) {
      return vec4(0, 0, 0, 1.0);
    } else {
      return vec4(1.0, 1.0, 1.0, 0);
    }
    
  }`,V=o.value.source.naturalWidth,W=o.value.source.naturalHeight;imageTensorFromURL(ve,"uint8",[W,V,4],!0).then(Q=>{m.value["maskPipeline.segmentation"]="canvas";const ie=index$d(Q,w.value.colorSegmentation),ae=tensorFrom(ie),xe=new Session;xe.init(ie),xe.runOp(ie,0,ae);const be=Dt(ae);nextTick().then(()=>{it(n.value["maskPipeline.segmentation"],V,W),canvasFromTensor(n.value["maskPipeline.segmentation"],ae)},0),be.forEach(([Te,pe,Oe,Ee])=>{const ke=`maskPipeline.R${Te}.G${pe}.B${Oe}.A${Ee}`;m.value[ke]="canvas",_.value[ke]="image",d.value[ke]={color:Te+pe+Oe>0?t:s,opacity:1};const Ne=new RegisterOperation("customOperation").Input("tSrc","uint8").Output("uint8").SetShapeFn(()=>[W,V,4]).Constant("RED",Math.round(Te/255*1e3)/1e3).Constant("GREEN",Math.round(pe/255*1e3)/1e3).Constant("BLUE",Math.round(Oe/255*1e3)/1e3).Constant("ALPHA",Math.round(Ee/255*1e3)/1e3).Constant("SLOP",.01).Constant("INVERT",Te+pe+Oe<=3).LoadChunk("pickValue").GLSLKernel($).Compile({tSrc:ae}),Ze=tensorFrom(Ne),Ke=new Session;Ke.init(Ne),Ke.runOp(Ne,0,Ze),nextTick().then(()=>{it(n.value[ke],V,W),canvasFromTensor(n.value[ke],Ze),_.value[ke]=n.value[ke].toDataURL("image/png")},0)})})},Je=ve=>{m.value.greyscale="canvas";const $=o.value.source.naturalWidth,V=o.value.source.naturalHeight;imageTensorFromURL(ve,"uint8",[V,$,4],!0).then(W=>{const Q=index$k(W),ie=tensorFrom(Q),ae=new Session;ae.init(Q),ae.runOp(Q,0,ie),it(n.value.greyscale,$,V),canvasFromTensor(n.value.greyscale,ie)})},it=(ve,$,V)=>{const W=ve.getContext("2d");W.width=$,W.height=V,ve.width=$,ve.height=V},lt=(ve,$)=>ve.reduce((V,W,Q)=>{const ie=Math.floor(Q/$);return V[ie]||(V[ie]=[]),V[ie].push(W),V},[]),Dt=ve=>[...new Set(lt(ve.data,4).map($=>$.join(".")))].map($=>$.split("."));return(ve,$)=>(openBlock(),createElementBlock("div",_hoisted_1$1,[createBaseVNode("div",_hoisted_2,[createBaseVNode("div",_hoisted_3,[createBaseVNode("div",_hoisted_4,[createVNode(Multiselect,{class:"!text-black",modelValue:l.value,"onUpdate:modelValue":$[0]||($[0]=V=>l.value=V),options:u.value,"close-on-select":!0,"clear-on-select":!1,hideSelected:!0,label:"name",selectLabel:"","tack-by":"name"},null,8,["modelValue","options"])]),createBaseVNode("div",_hoisted_5,[createBaseVNode("button",{onClick:$[1]||($[1]=V=>S()),class:"p-2 bg-red-300 text-black rounded-lg grow"}," reset colors ↺ ")]),createBaseVNode("div",_hoisted_6,[createBaseVNode("button",{onClick:$[2]||($[2]=V=>A()),class:"p-2 bg-yellow-300 text-black rounded-lg grow disabled:bg-gray-300",disabled:!g.value}," set current for all layers ",8,_hoisted_7)]),createBaseVNode("div",_hoisted_8,[createBaseVNode("div",_hoisted_9,[createBaseVNode("div",null,[createVNode(Multiselect,{ref_key:"multiselect",ref:y,modelValue:(d.value[g.value]||{}).color,"onUpdate:modelValue":$[3]||($[3]=V=>(d.value[g.value]||{}).color=V),class:"!text-black overflow-visible grow",showLabels:!1,onPointerChange:L,onClose:U,onOpen:te,onSelect:G,options:unref(allColors),"close-on-select":!0,"clear-on-select":!1,placeholder:"color...",label:"text","tack-by":"uuid",selectLabel:"",disabled:!g.value},null,8,["modelValue","options","disabled"]),withDirectives(createBaseVNode("input",{class:"w-full","onUpdate:modelValue":$[4]||($[4]=V=>(d.value[g.value]||{}).opacity=V),name:"opacity",step:"0.01",type:"range",min:"0",max:"1",disabled:!g.value},null,8,_hoisted_10),[[vModelText,(d.value[g.value]||{}).opacity]])]),createBaseVNode("div",_hoisted_11,[(openBlock(!0),createElementBlock(Fragment,null,renderList(Object.keys(d.value),V=>(openBlock(),createElementBlock("div",{key:V,onClick:W=>I(V),class:normalizeClass(["flex justify-center items-center relative hover:translate-y-[-4px] cursor-pointer",{"order-[-1]":V.startsWith("maskPipeline.R0.G0.B0")}])},[createBaseVNode("div",{class:normalizeClass(["bg-[#181818] text-white border-2 border-black rounded-lg p-1 translate-y-[-5px]",{"!border-gray-500":g.value===V}])},[V.startsWith("maskPipeline")?(openBlock(),createElementBlock("span",_hoisted_13,toDisplayString(H(V)),1)):(openBlock(),createElementBlock("span",_hoisted_14,toDisplayString(V),1))],2),createBaseVNode("div",{class:"absolute bottom-0 w-[95%] h-1 rounded-xl",style:normalizeStyle({background:d.value[V].color.colorValue})},null,4)],10,_hoisted_12))),128))]),g.value&&_.value[g.value]?(openBlock(),createElementBlock("div",_hoisted_15,[createBaseVNode("img",{class:"m-auto",ref:V=>o.value["mask."+ve.key]=V,width:200,height:200,style:normalizeStyle({...re(_.value[g.value],ve.key,0),background:"white"})},null,4)])):createCommentVNode("",!0)])])]),createBaseVNode("div",_hoisted_16,[l.value.name==="from Image"?(openBlock(),createElementBlock("div",_hoisted_17,[createBaseVNode("div",_hoisted_18,[createBaseVNode("div",_hoisted_19,[createBaseVNode("input",{ref_key:"fileInput",ref:x,type:"file",accept:"image/png, image/jpeg",onInput:le},null,544),createBaseVNode("span",null,[createTextVNode("colorSegmentation: "),withDirectives(createBaseVNode("input",{class:"w-20 px-2 text-black",type:"number",min:"1",max:"255","onUpdate:modelValue":$[5]||($[5]=V=>w.value.colorSegmentation=V)},null,512),[[vModelText,w.value.colorSegmentation]])]),createBaseVNode("button",{onClick:$[6]||($[6]=V=>O()),class:"px-2 bg-white text-black rounded-lg"},"↺"),createBaseVNode("button",{onClick:$[7]||($[7]=V=>he()),class:"px-2 disabled:bg-gray-500 bg-green-600 rounded-lg",disabled:!m.value.source}," go ",8,_hoisted_20)]),createBaseVNode("div",_hoisted_21,[_hoisted_22,_hoisted_23,createBaseVNode("span",null,[createTextVNode("edge "),withDirectives(createBaseVNode("input",{type:"checkbox","onUpdate:modelValue":$[8]||($[8]=V=>w.value.edgePipeline=V)},null,512),[[vModelCheckbox,w.value.edgePipeline]])]),createBaseVNode("span",null,[createTextVNode("background removal "),withDirectives(createBaseVNode("input",{type:"checkbox","onUpdate:modelValue":$[9]||($[9]=V=>w.value.baseAllOnBackgroundRemoval=V)},null,512),[[vModelCheckbox,w.value.baseAllOnBackgroundRemoval]]),createTextVNode(" (slow but very helpful)")])]),createBaseVNode("div",_hoisted_24,[_hoisted_25,createBaseVNode("span",null,[createTextVNode("backgroundRemoval "),withDirectives(createBaseVNode("input",{type:"checkbox","onUpdate:modelValue":$[10]||($[10]=V=>w.value.backgroundRemoval=V)},null,512),[[vModelCheckbox,w.value.backgroundRemoval]])]),createBaseVNode("span",null,[createTextVNode("greyscale "),withDirectives(createBaseVNode("input",{type:"checkbox","onUpdate:modelValue":$[11]||($[11]=V=>w.value.greyscale=V)},null,512),[[vModelCheckbox,w.value.greyscale]])]),createBaseVNode("span",null,[createTextVNode("highValues "),withDirectives(createBaseVNode("input",{type:"checkbox","onUpdate:modelValue":$[12]||($[12]=V=>w.value.highValues=V)},null,512),[[vModelCheckbox,w.value.highValues]])]),createBaseVNode("span",null,[createTextVNode("cannyEdges "),withDirectives(createBaseVNode("input",{type:"checkbox","onUpdate:modelValue":$[13]||($[13]=V=>w.value.cannyEdges=V)},null,512),[[vModelCheckbox,w.value.cannyEdges]])]),createBaseVNode("span",null,[createTextVNode("sobelOperator "),withDirectives(createBaseVNode("input",{type:"checkbox","onUpdate:modelValue":$[14]||($[14]=V=>w.value.sobelOperator=V)},null,512),[[vModelCheckbox,w.value.sobelOperator]])])]),e.value.inProgress?(openBlock(),createElementBlock("div",_hoisted_26,[_hoisted_27,e.value.caption&&e.value.caption!=""?(openBlock(),createElementBlock("div",_hoisted_28,toDisplayString(e.value.caption),1)):createCommentVNode("",!0)])):createCommentVNode("",!0)]),createBaseVNode("div",_hoisted_29,[createBaseVNode("div",_hoisted_30,[(openBlock(!0),createElementBlock(Fragment,null,renderList(_.value,(V,W,Q)=>{var ie,ae,xe,be;return openBlock(),createElementBlock("div",{key:W,class:"flex flex-col"},[createBaseVNode("div",{class:normalizeClass(["flex top-0 left-0",{absolute:Q>0}])},[V==="image"?(openBlock(),createElementBlock("div",_hoisted_31,"⌛")):(openBlock(),createElementBlock("img",{key:1,ref_for:!0,ref:Te=>o.value["mask."+W]=Te,width:((ae=(ie=o.value)==null?void 0:ie.source)==null?void 0:ae.naturalWidth)||0,height:((be=(xe=o.value)==null?void 0:xe.source)==null?void 0:be.naturalHeight)||0,style:normalizeStyle(re(V,W,Q))},null,12,_hoisted_32))],2)])}),128))]),withDirectives(createBaseVNode("div",_hoisted_33,[createBaseVNode("button",{onClick:$[15]||($[15]=V=>r.value=!1),class:"px-2 bg-white text-black rounded-lg"},"hide processed images"),(openBlock(!0),createElementBlock(Fragment,null,renderList(m.value,(V,W)=>(openBlock(),createElementBlock("div",{key:W,class:"flex flex-col justify-center items-center"},[createBaseVNode("span",null,[createTextVNode(toDisplayString(W)+" ",1),W.split(".").length===5?(openBlock(),createElementBlock("span",{key:0,class:"w-4 h-4",style:normalizeStyle({"background-color":M(W)})}," ___ ",4)):createCommentVNode("",!0)]),V==="image"?(openBlock(),createElementBlock("div",_hoisted_34,_hoisted_36)):V==="canvas"?(openBlock(),createElementBlock("div",_hoisted_37,[createBaseVNode("canvas",{id:W,ref_for:!0,ref:Q=>n.value[W]=Q,class:"max-w-[400px]"},null,8,_hoisted_38)])):(openBlock(),createElementBlock("div",_hoisted_39,[createBaseVNode("img",{ref_for:!0,ref:Q=>o.value[W]=Q,class:"max-w-[400px]",src:V,onChange:$[16]||($[16]=(...Q)=>ve.onImgChange&&ve.onImgChange(...Q))},null,40,_hoisted_40)]))]))),128))],512),[[vShow,m.value.source&&r.value]]),withDirectives(createBaseVNode("div",_hoisted_41,[createBaseVNode("button",{onClick:$[17]||($[17]=V=>r.value=!0),class:"px-2 bg-white text-black rounded-lg"},"show processed images")],512),[[vShow,m.value.source&&!r.value]])])])):(openBlock(!0),createElementBlock(Fragment,{key:1},renderList(l.value.svgs,(V,W)=>(openBlock(),createElementBlock("div",{key:V.layer,class:"absolute h-[100vh] lg:max-h-50vh lg:h-full left-0 right-0 top-0",style:normalizeStyle(R(V,W))},null,4))),128))])])]))}},_hoisted_1=createBaseVNode("div",{class:"flex items-center mx-5 mt-5"},[createBaseVNode("img",{class:"h-20",src:_imports_0}),createBaseVNode("h1",{class:"text-xl"},"colors be scheming")],-1),_sfc_main={__name:"App",setup(i){return(t,s)=>(openBlock(),createElementBlock(Fragment,null,[_hoisted_1,createVNode(_sfc_main$1)],64))}},tailwind="";createApp(_sfc_main).mount("#app");
